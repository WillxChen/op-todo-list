(()=>{"use strict";const{appendCustomElement:t,createCustomElement:e}=(()=>{function t(t){const{tagName:e,classList:s,textContent:a,attributes:n}=t,r=document.createElement(e);if("string"==typeof s?r.classList.add(s):Array.isArray(s)&&r.classList.add(...s),a&&(r.textContent=a),Array.isArray(n)){const[t,e]=n;r.setAttribute(t,e)}return r}return{appendCustomElement:function(e){const{target:s}=e,a=document.querySelector(s),n=t(e);a.appendChild(n)},createCustomElement:t}})(),s=t=>{if(!t)return"";const e=new Date(t);return e.setHours(24,0,0,0),e.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"})},a=(()=>{const t={};return{getEvents:()=>t,subscribe:(e,s)=>{let a;return console.log(`Subscribing to ${e}`),t.hasOwnProperty(e)||(t[e]=[]),a=t[e].push(s)-1,{unsubscribe(){t[e].splice(a,1)}}},publish:(e,s={})=>(console.log(`Executing ${e}`),t.hasOwnProperty(e)?t[e].map((t=>t(s))):[])}})(),n=(t,s)=>{const n=t=>{const s=document.createDocumentFragment(),a=e({tagName:"textarea",classList:"edit-title"});a.value=t.title,a.name="title";const n=e({tagName:"textarea",classList:"edit-description",attributes:["placeholder","Add a description"]});n.value=t.description||"",n.name="description";const i=e({tagName:"input",attributes:["type","date"],classList:"edit-date"}),c=new Date;t.dueDate?i.value=t.dueDate:i.valueAsDate=new Date(c.getFullYear(),c.getMonth(),c.getDate(),12),i.name="dueDate";const o=e({tagName:"select",classList:"edit-difficulty"});o.value=t.difficulty,o.name="difficulty";const l=["","Easy","Medium","Hard"].map((t=>e({tagName:"option",textContent:t,attributes:["value",`${t}`]})));o.append(...l);const d=r(t);return s.append(a,n,i,o,d),s},r=()=>{const a=e({tagName:"div",classList:"form-controls"}),n=e({tagName:"button",classList:"submit-btn",textContent:"Submit"}),r=e({tagName:"button",classList:"cancel-btn",textContent:"Cancel"});return r.onclick=e=>((t,e)=>{t.preventDefault();const s=t.target.closest("form"),a=s.parentNode,n=a.querySelector(".main-details");s.remove(),a.classList.remove("isEditable");const r=d(e);n.append(r)})(e,t.getTaskById(s)),a.append(r,n),a};return{appendEditTaskForm:e=>{const r=(()=>{const e=document.createElement("form"),r=t.getTaskById(s);return e.id="edit-task",e.append(n(r)),e.addEventListener("submit",(e=>{((t,e,s)=>{t.preventDefault();const n=t.target,r=n.parentNode,i=r.querySelector(".main-details"),c=r.querySelector(".bottom-panel"),o=new FormData(n),l={};for(const[t,e]of o)l[t]=e;const u=e.updateTask(s.id,l);a.publish("taskUpdated",{list:e,task:u}),n.remove();const g=d(u);i.append(g),c.replaceChildren();const m=p(u);c.append(m),r.classList.remove("isEditable")})(e,t,r)})),e})();return e.append(r),r}}},r=(t,s)=>{const a=((t,e)=>({setEditMode:s=>{const a=s.target.closest(".task");if(a.classList.contains("isEditable"))return;const r=a.querySelector(".main-details");a.classList.add("isEditable"),r.replaceChildren(),a.classList.contains("expanded")&&(a.querySelector(".expanded-details").remove(),a.classList.remove("expanded"));const i=n(t,e.id).appendEditTaskForm(a);[...i.getElementsByTagName("textarea")].forEach((t=>{t.addEventListener("keydown",(t=>{if("Enter"===t.key&&!t.shiftKey){t.preventDefault();const e=new Event("submit",{bubbles:!0,cancelable:!0});i.dispatchEvent(e)}}))}))},setPriority:s=>{t.getTaskById(e.id).priority?(t.updateTask(e.id,{priority:!1}),s.target.closest("img").src="../src/imgs/noun-star-4485746.svg"):(t.updateTask(e.id,{priority:!0}),s.target.closest("img").src="../src/imgs/noun-star-4485827.svg"),s.target.closest(".task").classList.toggle("isPriority"),s.target.closest("img").classList.toggle("filter-gray"),s.target.closest("img").classList.toggle("filter-yellow")},deleteTask:s=>{t.removeTask(e.id),s.target.closest(".task").remove()}}))(t,s),r=[{name:"Edit",imgSrc:"../src/imgs/noun-quill-4626718.svg",className:"filter-gray",onClick:t=>a.setEditMode(t)},{name:"Set Priority",imgSrc:"../src/imgs/noun-star-4485746.svg",className:"filter-gray",onClick:t=>a.setPriority(t)},{name:"Delete",imgSrc:"../src/imgs/noun-skull-4485674.svg",className:"filter-red",onClick:t=>a.deleteTask(t)}];return{createToolbar:()=>{const t=e({tagName:"div",classList:"toolbar"});return t.append((t=>{const s=document.createDocumentFragment();return t.forEach((t=>{const{name:a,imgSrc:n,className:r,onClick:i}=t,c=e({tagName:"button",attributes:["aria-label",`${a}`]}),o=e({tagName:"img",attributes:["src",`${n}`],classList:r});c.onclick=i,c.append(o),s.append(c)})),s})(r)),t}}};function i(t){console.log("Rendering task");const{list:e,task:s}=t;c(e,s)}a.subscribe("taskCreated",i),a.subscribe("taskReconstructed",i);const c=(t,e)=>{const s=document.querySelector(`[data-id="${t.getId()}"]`).querySelector(".tasks-container"),a=o(t,e);s.prepend(a)},o=(t,e)=>{const s=document.createElement("div");s.className="task",s.dataset.id=e.id;const a=r(t,e).createToolbar(t,s),n=l(e),i=u(t,e.id);return s.append(a),s.append(n),s.append(i),s.addEventListener("dblclick",(s=>{m(s,e.id,t)})),s.addEventListener("click",(s=>{k(s,t,e.id)})),s.addEventListener("mouseover",(()=>{a.style.opacity="1",a.style.visibility="visible"})),s.addEventListener("mouseout",(()=>{a.style.opacity="0",a.style.visibility="hidden"})),s},l=t=>{const e=document.createElement("div");return e.classList.add("main-details"),e.appendChild(d(t)),e},d=t=>{const s=document.createDocumentFragment(),a=e({tagName:"p",classList:"task-title",textContent:t.title}),n=t.description?e({tagName:"p",classList:"task-description",textContent:t.description}):" ";return s.append(a,n),s},u=(t,s)=>{const a=t.getTaskById(s),n=e({tagName:"div",classList:"bottom-panel"});return n.append(p(a)),n},p=t=>{const a=document.createDocumentFragment(),n=e({tagName:"p",textContent:(t=>{switch(t){case"Easy":return"⚔️";case"Medium":return"⚔️⚔️";case"Hard":return"⚔️⚔️⚔️";default:return""}})(t.difficulty)}),r=e({tagName:"p",textContent:s(t.dueDate)||""});return a.append(r,n),a};function g(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}const m=(t,e,s)=>{const a=t.target;if(!a.classList.contains("task-title"))return;const n=a.cloneNode(!0),r=document.createElement("textarea"),i=s.getTaskById(e);r.classList.add("temp-input"),r.value=i.title,r.style.wordBreak="break-word",a.replaceWith(r),r.style.height="auto",r.style.height=r.scrollHeight+"px",r.addEventListener("keydown",(t=>{"Enter"===t.key&&r.blur()})),r.addEventListener("blur",(()=>{s.updateTask(e,{title:r.value}),n.textContent=r.value,r.replaceWith(n)}),{once:!0}),r.addEventListener("input",g,!1),r.focus()},k=(t,a,n)=>{if(t.target.classList.contains("isEditable")||!t.target.classList.contains("task"))return;const r=t.target,i=r.querySelector(".main-details"),c=r.querySelector(".expanded-details");c?(c.remove(),r.classList.remove("expanded")):(((t,a)=>{const n=(t=>{const{dueDate:a,difficulty:n}=t,r=document.createDocumentFragment(),i=document.createElement("div");return i.classList.add("expanded-details"),r.append(i),i.append(e({tagName:"p",classList:"due-date",textContent:s(a)})),console.log(a),i.append(e({tagName:"p",classList:"difficulty",textContent:n})),r})(a);t.after(n)})(i,a.getTaskById(n)),r.classList.add("expanded"))};function y(t){console.log("Rendering List"),b(t),f(t),L(t)}a.subscribe("listCreated",y),a.subscribe("listReconstructed",y);const b=e=>{t({target:".lists-container",tagName:"div",classList:["list"],attributes:["data-id",e.getId()]})},f=e=>{const s=document.querySelector(`[data-id="${e.getId()}"]`);t({target:`[data-id="${e.getId()}"]`,tagName:"h2",textContent:e.getTitle()}),s.appendChild(v(e))},v=t=>{const s=document.createElement("form");s.className="task-form";const n=e({tagName:"input",classList:"task-input",attributes:["placeholder","Add a task"]});return s.appendChild(n),n.addEventListener("keydown",(e=>{((t,e)=>{if("Enter"===t.key){t.preventDefault();const s=t.target.value,n=e.createTask(s);t.target.value="",a.publish("taskCreated",{list:e,task:n})}})(e,t)})),s},L=e=>{t({target:`[data-id="${e.getId()}"]`,tagName:"div",classList:"tasks-container"})},h=(()=>{let t=null;return{getCurrentProject:()=>t,setCurrentProject:e=>(console.log("Setting current project: "+e.getTitle()),t=e,a.publish("currentProjectSet",{title:e.getTitle(),id:e.getId()}),t)}})(),E=(t,e=crypto.randomUUID().slice(0,8))=>{const s=[],a=(t=>{const e=e=>t.findIndex((t=>t.id===e));return{getTaskById:e=>t.find((t=>t.id===e)),createTask:(e,s=crypto.randomUUID().slice(0,8))=>(t.push({id:s,title:e}),t[t.length-1]),updateTask:(s,a)=>{const n=e(s);return t[n]={...t[n],...a},t[n]},removeTask:s=>{const a=e(s);t.splice(a,1)}}})(s);return{getTitle:()=>t,getId:()=>e,getTasks:()=>s,createTask:(t,e)=>a.createTask(t,e),getTaskById:t=>a.getTaskById(t),updateTask:(t,e)=>a.updateTask(t,e),removeTask:t=>a.removeTask(t)}},C=(t,e=crypto.randomUUID().slice(0,8))=>{const s=[];return{getTitle:()=>t,getId:()=>e,getLists:()=>s,createList:(t,e)=>(s.push(E(t,e)),s[s.length-1]),getListById:t=>{const e=s.findIndex((e=>e.getId()===t));return s[e]}}},S=t=>{const e=localStorage.getItem(t);return JSON.parse(e)},T=(t,e)=>{e.map((e=>{const s=t.createList(e.title,e.id);a.publish("listReconstructed",s),N(s,e.tasks)}))},N=(t,e)=>{e.forEach((e=>{t.createTask(e.title,e.id);const s=t.updateTask(e.id,e);a.publish("taskReconstructed",{list:t,task:s})}))};a.subscribe("projectCreated",(function(t){const e=S("projects");e.push({title:t.getTitle(),id:t.getId(),lists:[]}),localStorage.setItem("projects",JSON.stringify(e))})),a.subscribe("listCreated",(function(t){const e=S("projects"),s=I();console.log(e[s]),e[s].lists.push({title:t.getTitle(),id:t.getId(),tasks:[]}),localStorage.setItem("projects",JSON.stringify(e))})),a.subscribe("taskCreated",(function(t){const{list:e,task:s}=t,a=S("projects"),n=I(),r=x(e.getId());a[n].lists[r].tasks.push(s),localStorage.setItem("projects",JSON.stringify(a))})),a.subscribe("taskUpdated",(function(t){const{list:e,task:s}=t,a=S("projects"),n=I(),r=x(e.getId()),i=a[n].lists[r].tasks,c=j(i,s.id);console.log("Storing task"),i[c]={...i[c],...s},localStorage.setItem("projects",JSON.stringify(a))})),a.subscribe("currentProjectSet",(function(t){localStorage.setItem("currentProject",JSON.stringify(t))}));const I=()=>{const t=S("projects"),e=S("currentProject");return t.findIndex((t=>t.id===e.id))},x=t=>S("projects")[I()].lists.findIndex((e=>e.id===t)),j=(t,e)=>t.findIndex((t=>t.id===e)),D=(()=>{const t=document.querySelector("#list-input");return{init:()=>{const e=h.getCurrentProject();t.addEventListener("keydown",(t=>{((t,e)=>{if("Enter"===t.key){t.preventDefault();const s=t.target.value,n=e.createList(s);t.target.value="",a.publish("listCreated",n)}})(t,e)}))}}})();(()=>{if(!("projects"in localStorage))return console.log("Initialize projects array in storage"),localStorage.setItem("projects",JSON.stringify([])),void(()=>{console.log("Creating default project");const t=C("Default");h.setCurrentProject(t),a.publish("projectCreated",t),(t=>{const e=t.createList("Habits"),s=e.createTask("Create your first habit!");a.publish("listCreated",e),a.publish("taskCreated",{list:e,task:s})})(t)})();h.setCurrentProject((()=>{const t=(()=>{const t=localStorage.getItem("projects");return JSON.parse(t)})()[I()],e=C(t.title,t.id);return a.publish("projectReconstructed",e),T(e,t.lists),e})())})(),D.init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxLQUFNeUksRUFBVzlLLEtBQU0rSyxHQUFZLEVETG5FQyxDQUFrQkgsRUFDRyxFRnFEbkJJLEdBSUYsRUFBTTlDLGtCQUcwQixNQUNoQyxNQUVNK0MsRUF0QmtCLE1BQ3hCLE1BQU16QixFQUFlQyxhQUFhQyxRQUFRLFlBRTFDLE9BRHVCQyxLQUFLQyxNQUFNSixFQUNiLEVBaUJFMEIsR0FDRGYsS0FHaEJnQixFQUF1QixFQUFRRixFQUFZL0ssTUFBTytLLEVBQVkvSSxJQUtwRSxPQUpBLEVBQU96QyxRQUFRLHVCQUF3QjBMLEdBRXZDdEIsRUFBbUJzQixFQUFzQkYsRUFBWWhDLE9BRTlDa0MsQ0FBb0IsRUFiSEMsR0FBNEIsRUloRXREQyxHQUNXLEVBQ1JYLE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9IZWxwZXJzL2N1c3RvbUVsZW1lbnRIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvSGVscGVycy9mb3JtYXREYXRlSGVscGVyLmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3B1YlN1Yi5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9Gb3JtL0Zvcm1SZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9Gb3JtL0Zvcm1FdmVudEhhbmRsZXJzLmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL1Rvb2xiYXIvVG9vbGJhci5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9Ub29sYmFyL1Rvb2xiYXJFdmVudEhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvTGlzdC90YXNrL1Rhc2tSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9FdmVudEhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvTGlzdC9MaXN0UmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvc3RvcmUuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvTGlzdC9MaXN0LmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL0xpc3QvdGFzay9UYXNrTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9Qcm9qZWN0LmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2xvY2FsU3RvcmFnZUhlbHBlci5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9Vc2VySW50ZXJmYWNlLmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL1Byb2plY3RIYW5kbGVyLmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL0xpc3QvTGlzdEhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGN1c3RvbUVsZW1lbnRIZWxwZXIgPSAoKSA9PiB7XHJcbiAgLy8gUGFzcyBpbiBhIG9iamVjdCBvZiB7IFt0YXJnZXRdLiwgdGFnTmFtZSwgY2xhc3NMaXN0LCB0ZXh0Q29udGVudCwgYXR0cmlidXRlcyB9XHJcbiAgZnVuY3Rpb24gYXBwZW5kQ3VzdG9tRWxlbWVudChvcHRpb25zKSB7XHJcbiAgICBjb25zdCB7IHRhcmdldCB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XHJcblxyXG4gICAgY29uc3QgZWxlbWVudCA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQob3B0aW9ucyk7XHJcbiAgICB0YXJnZXRFbGVtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlQ3VzdG9tRWxlbWVudChvcHRpb25zKSB7XHJcbiAgICBjb25zdCB7IHRhZ05hbWUsIGNsYXNzTGlzdCwgdGV4dENvbnRlbnQsIGF0dHJpYnV0ZXMgfSA9IG9wdGlvbnM7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGNsYXNzTGlzdCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NMaXN0KTtcclxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjbGFzc0xpc3QpKSB7XHJcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc0xpc3QpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRleHRDb250ZW50KSB7XHJcbiAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudDtcclxuICAgIH1cclxuICAgIGlmIChBcnJheS5pc0FycmF5KGF0dHJpYnV0ZXMpKSB7XHJcbiAgICAgIGNvbnN0IFthdHRyLCB2YWx1ZV0gPSBhdHRyaWJ1dGVzO1xyXG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxuICB9XHJcbiAgcmV0dXJuIHsgYXBwZW5kQ3VzdG9tRWxlbWVudCwgY3JlYXRlQ3VzdG9tRWxlbWVudCB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHsgYXBwZW5kQ3VzdG9tRWxlbWVudCwgY3JlYXRlQ3VzdG9tRWxlbWVudCB9ID1cclxuICBjdXN0b21FbGVtZW50SGVscGVyKCk7XHJcbiIsImNvbnN0IGZvcm1hdERhdGUgPSAoZGF0ZVN0cmluZykgPT4ge1xyXG4gIGlmICghZGF0ZVN0cmluZykge1xyXG4gICAgcmV0dXJuIFwiXCI7XHJcbiAgfVxyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcclxuICBkYXRlLnNldEhvdXJzKDI0LCAwLCAwLCAwKTtcclxuXHJcbiAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZW4tVVNcIiwge1xyXG4gICAgbW9udGg6IFwiMi1kaWdpdFwiLFxyXG4gICAgZGF5OiBcIjItZGlnaXRcIixcclxuICAgIHllYXI6IFwiMi1kaWdpdFwiLFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gZm9ybWF0dGVkRGF0ZTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZvcm1hdERhdGU7XHJcbiIsImNvbnN0IHB1YlN1YiA9ICgoKSA9PiB7XHJcbiAgY29uc3QgZXZlbnRzID0ge307XHJcblxyXG4gIGNvbnN0IGdldEV2ZW50cyA9ICgpID0+IGV2ZW50cztcclxuXHJcbiAgY29uc3Qgc3Vic2NyaWJlID0gKGV2ZW50LCBjYWxsYmFjaykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYFN1YnNjcmliaW5nIHRvICR7ZXZlbnR9YCk7XHJcbiAgICBsZXQgaW5kZXg7XHJcblxyXG4gICAgaWYgKCFldmVudHMuaGFzT3duUHJvcGVydHkoZXZlbnQpKSB7XHJcbiAgICAgIGV2ZW50c1tldmVudF0gPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBpbmRleCA9IGV2ZW50c1tldmVudF0ucHVzaChjYWxsYmFjaykgLSAxO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHVuc3Vic2NyaWJlKCkge1xyXG4gICAgICAgIGV2ZW50c1tldmVudF0uc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgfSxcclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcHVibGlzaCA9IChldmVudCwgZGF0YSA9IHt9KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhgRXhlY3V0aW5nICR7ZXZlbnR9YCk7XHJcbiAgICBpZiAoIWV2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBldmVudHNbZXZlbnRdLm1hcCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKGRhdGEpKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4geyBnZXRFdmVudHMsIHN1YnNjcmliZSwgcHVibGlzaCB9O1xyXG59KSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcHViU3ViO1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVDdXN0b21FbGVtZW50IH0gZnJvbSBcIi4uL0hlbHBlcnMvY3VzdG9tRWxlbWVudEhlbHBlci5qc1wiO1xyXG5pbXBvcnQgeyBzdWJtaXRGb3JtLCBjYW5jZWxGb3JtIH0gZnJvbSBcIi4vRm9ybUV2ZW50SGFuZGxlcnMuanNcIjtcclxuXHJcbmNvbnN0IEZvcm1SZW5kZXJlciA9IChjdXJyZW50TGlzdCwgdGFza0lkKSA9PiB7XHJcbiAgY29uc3QgYXBwZW5kRWRpdFRhc2tGb3JtID0gKHRhcmdldCkgPT4ge1xyXG4gICAgY29uc3QgZWRpdEZvcm0gPSBfX2NyZWF0ZUVkaXRUYXNrRm9ybSgpO1xyXG4gICAgdGFyZ2V0LmFwcGVuZChlZGl0Rm9ybSk7XHJcbiAgICByZXR1cm4gZWRpdEZvcm07XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgX19jcmVhdGVFZGl0VGFza0Zvcm0gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XHJcbiAgICBjb25zdCB0YXNrID0gY3VycmVudExpc3QuZ2V0VGFza0J5SWQodGFza0lkKTtcclxuICAgIGZvcm0uaWQgPSBcImVkaXQtdGFza1wiO1xyXG4gICAgZm9ybS5hcHBlbmQoX19jcmVhdGVGb3JtRWxlbWVudHModGFzaykpO1xyXG5cclxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBzdWJtaXRGb3JtKGUsIGN1cnJlbnRMaXN0LCB0YXNrKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZvcm07XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgX19jcmVhdGVGb3JtRWxlbWVudHMgPSAodGFzaykgPT4ge1xyXG4gICAgLy8gVGl0bGVcclxuICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cclxuICAgIGNvbnN0IHRpdGxlID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgIHRhZ05hbWU6IFwidGV4dGFyZWFcIixcclxuICAgICAgY2xhc3NMaXN0OiBcImVkaXQtdGl0bGVcIixcclxuICAgIH0pO1xyXG4gICAgdGl0bGUudmFsdWUgPSB0YXNrLnRpdGxlO1xyXG4gICAgdGl0bGUubmFtZSA9IFwidGl0bGVcIjtcclxuXHJcbiAgICAvL0Rlc2NyaXB0aW9uXHJcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICB0YWdOYW1lOiBcInRleHRhcmVhXCIsXHJcbiAgICAgIGNsYXNzTGlzdDogXCJlZGl0LWRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIGF0dHJpYnV0ZXM6IFtcInBsYWNlaG9sZGVyXCIsIFwiQWRkIGEgZGVzY3JpcHRpb25cIl0sXHJcbiAgICB9KTtcclxuICAgIGRlc2NyaXB0aW9uLnZhbHVlID0gdGFzay5kZXNjcmlwdGlvbiB8fCBcIlwiO1xyXG4gICAgZGVzY3JpcHRpb24ubmFtZSA9IFwiZGVzY3JpcHRpb25cIjtcclxuXHJcbiAgICAvLyBEdWUgRGF0ZVxyXG4gICAgY29uc3QgZHVlRGF0ZSA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICB0YWdOYW1lOiBcImlucHV0XCIsXHJcbiAgICAgIGF0dHJpYnV0ZXM6IFtcInR5cGVcIiwgXCJkYXRlXCJdLFxyXG4gICAgICBjbGFzc0xpc3Q6IFwiZWRpdC1kYXRlXCIsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdGFzay5kdWVEYXRlXHJcbiAgICAgID8gKGR1ZURhdGUudmFsdWUgPSB0YXNrLmR1ZURhdGUpXHJcbiAgICAgIDogKGR1ZURhdGUudmFsdWVBc0RhdGUgPSBuZXcgRGF0ZShcclxuICAgICAgICAgIGRhdGUuZ2V0RnVsbFllYXIoKSxcclxuICAgICAgICAgIGRhdGUuZ2V0TW9udGgoKSxcclxuICAgICAgICAgIGRhdGUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgICAgMTJcclxuICAgICAgICApKTtcclxuICAgIGR1ZURhdGUubmFtZSA9IFwiZHVlRGF0ZVwiO1xyXG5cclxuICAgIC8vIERpZmZpY3VsdHlcclxuICAgIGNvbnN0IGRpZmZpY3VsdHkgPSBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgICAgdGFnTmFtZTogXCJzZWxlY3RcIixcclxuICAgICAgY2xhc3NMaXN0OiBcImVkaXQtZGlmZmljdWx0eVwiLFxyXG4gICAgfSk7XHJcbiAgICBkaWZmaWN1bHR5LnZhbHVlID0gdGFzay5kaWZmaWN1bHR5O1xyXG4gICAgZGlmZmljdWx0eS5uYW1lID0gXCJkaWZmaWN1bHR5XCI7XHJcbiAgICBjb25zdCBkaWZmaWN1bHR5T3B0aW9ucyA9IFtcIlwiLCBcIkVhc3lcIiwgXCJNZWRpdW1cIiwgXCJIYXJkXCJdO1xyXG5cclxuICAgIC8vIERpZmZpY3VsdHkgT3B0aW9uc1xyXG4gICAgY29uc3Qgb3B0aW9uRWxlbWVudHMgPSBkaWZmaWN1bHR5T3B0aW9ucy5tYXAoKG9wdGlvbikgPT4ge1xyXG4gICAgICByZXR1cm4gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgICAgdGFnTmFtZTogXCJvcHRpb25cIixcclxuICAgICAgICB0ZXh0Q29udGVudDogb3B0aW9uLFxyXG4gICAgICAgIGF0dHJpYnV0ZXM6IFtcInZhbHVlXCIsIGAke29wdGlvbn1gXSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGRpZmZpY3VsdHkuYXBwZW5kKC4uLm9wdGlvbkVsZW1lbnRzKTtcclxuXHJcbiAgICAvLyBGb3JtIEJ1dHRvbnNcclxuICAgIGNvbnN0IGZvcm1CdXR0b25zID0gX19jcmVhdGVGb3JtQnV0dG9ucyh0YXNrKTtcclxuICAgIGZyYWdtZW50LmFwcGVuZCh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIGRpZmZpY3VsdHksIGZvcm1CdXR0b25zKTtcclxuXHJcbiAgICByZXR1cm4gZnJhZ21lbnQ7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgX19jcmVhdGVGb3JtQnV0dG9ucyA9ICgpID0+IHtcclxuICAgIGNvbnN0IGRpdiA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICB0YWdOYW1lOiBcImRpdlwiLFxyXG4gICAgICBjbGFzc0xpc3Q6IFwiZm9ybS1jb250cm9sc1wiLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzdWJtaXRCdG4gPSBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgICAgdGFnTmFtZTogXCJidXR0b25cIixcclxuICAgICAgY2xhc3NMaXN0OiBcInN1Ym1pdC1idG5cIixcclxuICAgICAgdGV4dENvbnRlbnQ6IFwiU3VibWl0XCIsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBjYW5jZWxCdG4gPSBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgICAgdGFnTmFtZTogXCJidXR0b25cIixcclxuICAgICAgY2xhc3NMaXN0OiBcImNhbmNlbC1idG5cIixcclxuICAgICAgdGV4dENvbnRlbnQ6IFwiQ2FuY2VsXCIsXHJcbiAgICB9KTtcclxuICAgIGNhbmNlbEJ0bi5vbmNsaWNrID0gKGUpID0+IGNhbmNlbEZvcm0oZSwgY3VycmVudExpc3QuZ2V0VGFza0J5SWQodGFza0lkKSk7XHJcblxyXG4gICAgZGl2LmFwcGVuZChjYW5jZWxCdG4sIHN1Ym1pdEJ0bik7XHJcbiAgICByZXR1cm4gZGl2O1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IGFwcGVuZEVkaXRUYXNrRm9ybSB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVJlbmRlcmVyO1xyXG4iLCJpbXBvcnQge1xyXG4gIGNyZWF0ZU1haW5EZXRhaWxzRWxlbWVudHMsXHJcbiAgY3JlYXRlQm90dG9tUGFuZWxFbGVtZW50cyxcclxufSBmcm9tIFwiLi4vTGlzdC90YXNrL1Rhc2tSZW5kZXJlclwiO1xyXG5pbXBvcnQgcHViU3ViIGZyb20gXCIuLi9wdWJTdWJcIjtcclxuXHJcbmNvbnN0IHN1Ym1pdEZvcm0gPSAoZSwgbGlzdCwgdGFzaykgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgY29uc3QgZm9ybSA9IGUudGFyZ2V0O1xyXG4gIGNvbnN0IHRhc2tDb250YWluZXIgPSBmb3JtLnBhcmVudE5vZGU7XHJcbiAgY29uc3QgbWFpbkRldGFpbHMgPSB0YXNrQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1kZXRhaWxzXCIpO1xyXG4gIGNvbnN0IGJvdHRvbVBhbmVsID0gdGFza0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmJvdHRvbS1wYW5lbFwiKTtcclxuXHJcbiAgY29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcclxuICBjb25zdCBuZXdWYWx1ZXMgPSB7fTtcclxuICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgZGF0YSkge1xyXG4gICAgbmV3VmFsdWVzW25hbWVdID0gdmFsdWU7XHJcbiAgfVxyXG4gIGNvbnN0IHVwZGF0ZWRUYXNrID0gbGlzdC51cGRhdGVUYXNrKHRhc2suaWQsIG5ld1ZhbHVlcyk7XHJcbiAgcHViU3ViLnB1Ymxpc2goXCJ0YXNrVXBkYXRlZFwiLCB7IGxpc3QsIHRhc2s6IHVwZGF0ZWRUYXNrIH0pO1xyXG5cclxuICBmb3JtLnJlbW92ZSgpO1xyXG4gIGNvbnN0IG1haW5EZXRhaWxzRWxlbWVudHMgPSBjcmVhdGVNYWluRGV0YWlsc0VsZW1lbnRzKHVwZGF0ZWRUYXNrKTtcclxuICBtYWluRGV0YWlscy5hcHBlbmQobWFpbkRldGFpbHNFbGVtZW50cyk7XHJcblxyXG4gIGJvdHRvbVBhbmVsLnJlcGxhY2VDaGlsZHJlbigpO1xyXG4gIGNvbnN0IGJvdHRvbVBhbmVsRWxlbWVudHMgPSBjcmVhdGVCb3R0b21QYW5lbEVsZW1lbnRzKHVwZGF0ZWRUYXNrKTtcclxuICBib3R0b21QYW5lbC5hcHBlbmQoYm90dG9tUGFuZWxFbGVtZW50cyk7XHJcblxyXG4gIHRhc2tDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImlzRWRpdGFibGVcIik7XHJcbn07XHJcblxyXG5jb25zdCBjYW5jZWxGb3JtID0gKGUsIHRhc2spID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGNvbnN0IGZvcm0gPSBlLnRhcmdldC5jbG9zZXN0KFwiZm9ybVwiKTtcclxuICBjb25zdCB0YXNrQ29udGFpbmVyID0gZm9ybS5wYXJlbnROb2RlO1xyXG4gIGNvbnN0IG1haW5EZXRhaWxzID0gdGFza0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1haW4tZGV0YWlsc1wiKTtcclxuXHJcbiAgZm9ybS5yZW1vdmUoKTtcclxuICB0YXNrQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJpc0VkaXRhYmxlXCIpO1xyXG5cclxuICBjb25zdCBtYWluRGV0YWlsc0VsZW1lbnRzID0gY3JlYXRlTWFpbkRldGFpbHNFbGVtZW50cyh0YXNrKTtcclxuICBtYWluRGV0YWlscy5hcHBlbmQobWFpbkRldGFpbHNFbGVtZW50cyk7XHJcbn07XHJcblxyXG5leHBvcnQgeyBzdWJtaXRGb3JtLCBjYW5jZWxGb3JtIH07XHJcbiIsImltcG9ydCB7IGNyZWF0ZUN1c3RvbUVsZW1lbnQgfSBmcm9tIFwiLi4vSGVscGVycy9jdXN0b21FbGVtZW50SGVscGVyLmpzXCI7XHJcbmltcG9ydCBUb29sYmFyRXZlbnRIYW5kbGVyIGZyb20gXCIuL1Rvb2xiYXJFdmVudEhhbmRsZXIuanNcIjtcclxuXHJcbi8vIENyZWF0ZSB0b29sYmFyIHdpbGwgcmV0dXJuIGEgZnJhZ21lbnQgY29udGFpbmVyIG9mIHRocmVlIGJ1dHRvbnNcclxuLy9cclxuXHJcbmNvbnN0IFRvb2xiYXIgPSAoY3VycmVudExpc3QsIHRhc2spID0+IHtcclxuICBjb25zdCBldmVudEhhbmRsZXIgPSBUb29sYmFyRXZlbnRIYW5kbGVyKGN1cnJlbnRMaXN0LCB0YXNrKTtcclxuXHJcbiAgY29uc3QgdG9vbHMgPSBbXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiRWRpdFwiLFxyXG4gICAgICBpbWdTcmM6IFwiLi4vc3JjL2ltZ3Mvbm91bi1xdWlsbC00NjI2NzE4LnN2Z1wiLFxyXG4gICAgICBjbGFzc05hbWU6IFwiZmlsdGVyLWdyYXlcIixcclxuICAgICAgb25DbGljazogKGUpID0+IGV2ZW50SGFuZGxlci5zZXRFZGl0TW9kZShlKSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiU2V0IFByaW9yaXR5XCIsXHJcbiAgICAgIGltZ1NyYzogXCIuLi9zcmMvaW1ncy9ub3VuLXN0YXItNDQ4NTc0Ni5zdmdcIixcclxuICAgICAgY2xhc3NOYW1lOiBcImZpbHRlci1ncmF5XCIsXHJcbiAgICAgIG9uQ2xpY2s6IChlKSA9PiBldmVudEhhbmRsZXIuc2V0UHJpb3JpdHkoZSksXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkRlbGV0ZVwiLFxyXG4gICAgICBpbWdTcmM6IFwiLi4vc3JjL2ltZ3Mvbm91bi1za3VsbC00NDg1Njc0LnN2Z1wiLFxyXG4gICAgICBjbGFzc05hbWU6IFwiZmlsdGVyLXJlZFwiLFxyXG4gICAgICBvbkNsaWNrOiAoZSkgPT4gZXZlbnRIYW5kbGVyLmRlbGV0ZVRhc2soZSksXHJcbiAgICB9LFxyXG4gIF07XHJcblxyXG4gIGNvbnN0IGNyZWF0ZVRvb2xiYXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB0b29sYmFyQ29udGFpbmVyID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgIHRhZ05hbWU6IFwiZGl2XCIsXHJcbiAgICAgIGNsYXNzTGlzdDogXCJ0b29sYmFyXCIsXHJcbiAgICB9KTtcclxuICAgIHRvb2xiYXJDb250YWluZXIuYXBwZW5kKF9fY3JlYXRlQnRucyh0b29scykpO1xyXG4gICAgcmV0dXJuIHRvb2xiYXJDb250YWluZXI7XHJcbiAgfTtcclxuICBjb25zdCBfX2NyZWF0ZUJ0bnMgPSAodG9vbHMpID0+IHtcclxuICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG4gICAgdG9vbHMuZm9yRWFjaCgodG9vbCkgPT4ge1xyXG4gICAgICBjb25zdCB7IG5hbWUsIGltZ1NyYywgY2xhc3NOYW1lLCBvbkNsaWNrIH0gPSB0b29sO1xyXG4gICAgICAvLyBUb29sYmFyIHdpbGwgY29uc2lzdCBvZjpcclxuICAgICAgLy8gRWRpdFxyXG4gICAgICAvLyBTZXQgUHJpb3JpdHkgLSBpc1ByaW9yaXR5XHJcbiAgICAgIC8vIERlbGV0ZVxyXG4gICAgICBjb25zdCBidG4gPSBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgICAgICB0YWdOYW1lOiBcImJ1dHRvblwiLFxyXG4gICAgICAgIGF0dHJpYnV0ZXM6IFtcImFyaWEtbGFiZWxcIiwgYCR7bmFtZX1gXSxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IGltZyA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICAgIHRhZ05hbWU6IFwiaW1nXCIsXHJcbiAgICAgICAgYXR0cmlidXRlczogW1wic3JjXCIsIGAke2ltZ1NyY31gXSxcclxuICAgICAgICBjbGFzc0xpc3Q6IGNsYXNzTmFtZSxcclxuICAgICAgfSk7XHJcbiAgICAgIGJ0bi5vbmNsaWNrID0gb25DbGljaztcclxuICAgICAgYnRuLmFwcGVuZChpbWcpO1xyXG4gICAgICBmcmFnbWVudC5hcHBlbmQoYnRuKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZyYWdtZW50O1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IGNyZWF0ZVRvb2xiYXIgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRvb2xiYXI7XHJcbiIsImltcG9ydCBGb3JtUmVuZGVyZXIgZnJvbSBcIi4uL0Zvcm0vRm9ybVJlbmRlcmVyXCI7XHJcblxyXG5jb25zdCBUb29sYmFyRXZlbnRIYW5kbGVyID0gKGN1cnJlbnRMaXN0LCB0YXNrKSA9PiB7XHJcbiAgY29uc3Qgc2V0RWRpdE1vZGUgPSAoZSkgPT4ge1xyXG4gICAgY29uc3QgdGFza0VsZW1lbnQgPSBlLnRhcmdldC5jbG9zZXN0KFwiLnRhc2tcIik7XHJcbiAgICAvLyBFc2NhcGUgaWYgYWxyZWFkeSBpbiBlZGl0IG1vZGVcclxuICAgIGlmICh0YXNrRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJpc0VkaXRhYmxlXCIpKSByZXR1cm47XHJcbiAgICBjb25zdCBtYWluRGV0YWlscyA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1kZXRhaWxzXCIpO1xyXG4gICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcImlzRWRpdGFibGVcIik7XHJcblxyXG4gICAgLy8gQ2xlYXIgYWxsIGNoaWxkcmVuIGluIG1haW4gZGV0YWlsc1xyXG4gICAgbWFpbkRldGFpbHMucmVwbGFjZUNoaWxkcmVuKCk7XHJcblxyXG4gICAgaWYgKHRhc2tFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImV4cGFuZGVkXCIpKSB7XHJcbiAgICAgIHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXhwYW5kZWQtZGV0YWlsc1wiKS5yZW1vdmUoKTtcclxuICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImV4cGFuZGVkXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZvcm1SZW5kZXJlciA9IEZvcm1SZW5kZXJlcihjdXJyZW50TGlzdCwgdGFzay5pZCk7XHJcbiAgICBjb25zdCBlZGl0Rm9ybSA9IGZvcm1SZW5kZXJlci5hcHBlbmRFZGl0VGFza0Zvcm0odGFza0VsZW1lbnQpO1xyXG4gICAgY29uc3QgdGV4dGFyZWFzID0gZWRpdEZvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0ZXh0YXJlYVwiKTtcclxuXHJcbiAgICBbLi4udGV4dGFyZWFzXS5mb3JFYWNoKCh0ZXh0YXJlYSkgPT4ge1xyXG4gICAgICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiICYmICFlLnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAvLyBQcm9ncmFtYXRpY2FsbHkgdHJpZ2dlciBmb3JtIHN1Ym1pc3Npb25cclxuICAgICAgICAgIGNvbnN0IHN1Ym1pdEV2ZW50ID0gbmV3IEV2ZW50KFwic3VibWl0XCIsIHtcclxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcclxuICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgZWRpdEZvcm0uZGlzcGF0Y2hFdmVudChzdWJtaXRFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgLy8gZWRpdEZvcm1cclxuICAgIC8vICAgLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGV4dGFyZWFcIilcclxuICAgIC8vICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHN1Ym1pdEZvcm0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNldFByaW9yaXR5ID0gKGUpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRUYXNrID0gY3VycmVudExpc3QuZ2V0VGFza0J5SWQodGFzay5pZCk7XHJcbiAgICBpZiAoY3VycmVudFRhc2sucHJpb3JpdHkpIHtcclxuICAgICAgY3VycmVudExpc3QudXBkYXRlVGFzayh0YXNrLmlkLCB7IHByaW9yaXR5OiBmYWxzZSB9KTtcclxuICAgICAgZS50YXJnZXQuY2xvc2VzdChcImltZ1wiKS5zcmMgPSBcIi4uL3NyYy9pbWdzL25vdW4tc3Rhci00NDg1NzQ2LnN2Z1wiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3VycmVudExpc3QudXBkYXRlVGFzayh0YXNrLmlkLCB7IHByaW9yaXR5OiB0cnVlIH0pO1xyXG4gICAgICBlLnRhcmdldC5jbG9zZXN0KFwiaW1nXCIpLnNyYyA9IFwiLi4vc3JjL2ltZ3Mvbm91bi1zdGFyLTQ0ODU4Mjcuc3ZnXCI7XHJcbiAgICB9XHJcbiAgICBlLnRhcmdldC5jbG9zZXN0KFwiLnRhc2tcIikuY2xhc3NMaXN0LnRvZ2dsZShcImlzUHJpb3JpdHlcIik7XHJcbiAgICBlLnRhcmdldC5jbG9zZXN0KFwiaW1nXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJmaWx0ZXItZ3JheVwiKTtcclxuICAgIGUudGFyZ2V0LmNsb3Nlc3QoXCJpbWdcIikuY2xhc3NMaXN0LnRvZ2dsZShcImZpbHRlci15ZWxsb3dcIik7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGVsZXRlVGFzayA9IChlKSA9PiB7XHJcbiAgICBjdXJyZW50TGlzdC5yZW1vdmVUYXNrKHRhc2suaWQpO1xyXG4gICAgZS50YXJnZXQuY2xvc2VzdChcIi50YXNrXCIpLnJlbW92ZSgpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IHNldEVkaXRNb2RlLCBzZXRQcmlvcml0eSwgZGVsZXRlVGFzayB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVG9vbGJhckV2ZW50SGFuZGxlcjtcclxuIiwiaW1wb3J0IHsgZWRpdFRhc2ssIHRvZ2dsZURldGFpbHMgfSBmcm9tIFwiLi4vLi4vRXZlbnRIYW5kbGVyLmpzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUN1c3RvbUVsZW1lbnQgfSBmcm9tIFwiLi4vLi4vSGVscGVycy9jdXN0b21FbGVtZW50SGVscGVyLmpzXCI7XHJcbmltcG9ydCBmb3JtYXREYXRlIGZyb20gXCIuLi8uLi9IZWxwZXJzL2Zvcm1hdERhdGVIZWxwZXIuanNcIjtcclxuaW1wb3J0IFRvb2xiYXIgZnJvbSBcIi4uLy4uL1Rvb2xiYXIvVG9vbGJhci5qc1wiO1xyXG5pbXBvcnQgcHViU3ViIGZyb20gXCIuLi8uLi9wdWJTdWIuanNcIjtcclxuXHJcbnB1YlN1Yi5zdWJzY3JpYmUoXCJ0YXNrQ3JlYXRlZFwiLCByZW5kZXJUYXNrKTtcclxucHViU3ViLnN1YnNjcmliZShcInRhc2tSZWNvbnN0cnVjdGVkXCIsIHJlbmRlclRhc2spO1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyVGFzayhkYXRhKSB7XHJcbiAgY29uc29sZS5sb2coXCJSZW5kZXJpbmcgdGFza1wiKTtcclxuICBjb25zdCB7IGxpc3QsIHRhc2sgfSA9IGRhdGE7XHJcbiAgX19hcHBlbmRUYXNrRWxlbWVudHMobGlzdCwgdGFzayk7XHJcbn1cclxuXHJcbmNvbnN0IF9fYXBwZW5kVGFza0VsZW1lbnRzID0gKGxpc3QsIHRhc2spID0+IHtcclxuICBjb25zdCBsaXN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtaWQ9XCIke2xpc3QuZ2V0SWQoKX1cIl1gKTtcclxuICBjb25zdCB0YXNrc0NvbnRhaW5lciA9IGxpc3RDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi50YXNrcy1jb250YWluZXJcIik7XHJcblxyXG4gIGNvbnN0IHRhc2tFbGVtZW50cyA9IF9fY3JlYXRlVGFza0VsZW1lbnRzKGxpc3QsIHRhc2spO1xyXG4gIHRhc2tzQ29udGFpbmVyLnByZXBlbmQodGFza0VsZW1lbnRzKTtcclxufTtcclxuXHJcbmNvbnN0IF9fY3JlYXRlVGFza0VsZW1lbnRzID0gKGN1cnJlbnRMaXN0LCB0YXNrKSA9PiB7XHJcbiAgLy8gRGl2IGNvbnRhaW5lclxyXG4gIGNvbnN0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIHRhc2tDb250YWluZXIuY2xhc3NOYW1lID0gXCJ0YXNrXCI7XHJcbiAgdGFza0NvbnRhaW5lci5kYXRhc2V0LmlkID0gdGFzay5pZDtcclxuXHJcbiAgLy8gVG9vbGJhclxyXG4gIGNvbnN0IHRvb2xiYXJDcmVhdG9yID0gVG9vbGJhcihjdXJyZW50TGlzdCwgdGFzayk7XHJcbiAgY29uc3QgdG9vbGJhciA9IHRvb2xiYXJDcmVhdG9yLmNyZWF0ZVRvb2xiYXIoY3VycmVudExpc3QsIHRhc2tDb250YWluZXIpO1xyXG5cclxuICAvLyBNYWluIGRldGFpbHNcclxuICBjb25zdCBtYWluRGV0YWlscyA9IF9fcmVuZGVyTWFpbkRldGFpbHModGFzayk7XHJcblxyXG4gIC8vIEJvdHRvbSBQYW5lbFxyXG4gIGNvbnN0IGJvdHRvbVBhbmVsID0gX19yZW5kZXJCb3R0b21QYW5lbChjdXJyZW50TGlzdCwgdGFzay5pZCk7XHJcblxyXG4gIHRhc2tDb250YWluZXIuYXBwZW5kKHRvb2xiYXIpO1xyXG4gIHRhc2tDb250YWluZXIuYXBwZW5kKG1haW5EZXRhaWxzKTtcclxuICB0YXNrQ29udGFpbmVyLmFwcGVuZChib3R0b21QYW5lbCk7XHJcblxyXG4gIC8vIEFkZCBvbmNsaWNrIHRvIGNoYW5nZSBlbGVtZW50IHRvIGlucHV0IG9uIGNsaWNrXHJcbiAgdGFza0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGVkaXRUYXNrKGUsIHRhc2suaWQsIGN1cnJlbnRMaXN0KTtcclxuICB9KTtcclxuXHJcbiAgdGFza0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIHRvZ2dsZURldGFpbHMoZSwgY3VycmVudExpc3QsIHRhc2suaWQpO1xyXG4gIH0pO1xyXG5cclxuICB0YXNrQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xyXG4gICAgdG9vbGJhci5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcbiAgICB0b29sYmFyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcclxuICB9KTtcclxuXHJcbiAgdGFza0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKCkgPT4ge1xyXG4gICAgdG9vbGJhci5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XHJcbiAgICB0b29sYmFyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xyXG4gIH0pO1xyXG5cclxuICAvLyB0b29sYmFyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKGUpID0+IHtcclxuICAvLyAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgLy8gICB0b29sYmFyLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuICAvLyAgIHRvb2xiYXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xyXG4gIC8vIH0pO1xyXG5cclxuICByZXR1cm4gdGFza0NvbnRhaW5lcjtcclxufTtcclxuXHJcbmNvbnN0IF9fcmVuZGVyTWFpbkRldGFpbHMgPSAodGFzaykgPT4ge1xyXG4gIGNvbnN0IG1haW5EZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBtYWluRGV0YWlsc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFpbi1kZXRhaWxzXCIpO1xyXG4gIG1haW5EZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1haW5EZXRhaWxzRWxlbWVudHModGFzaykpO1xyXG4gIHJldHVybiBtYWluRGV0YWlsc0NvbnRhaW5lcjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZU1haW5EZXRhaWxzRWxlbWVudHMgPSAodGFzaykgPT4ge1xyXG4gIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cclxuICBjb25zdCB0aXRsZSA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgdGFnTmFtZTogXCJwXCIsXHJcbiAgICBjbGFzc0xpc3Q6IFwidGFzay10aXRsZVwiLFxyXG4gICAgdGV4dENvbnRlbnQ6IHRhc2sudGl0bGUsXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gdGFzay5kZXNjcmlwdGlvblxyXG4gICAgPyBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgICAgICB0YWdOYW1lOiBcInBcIixcclxuICAgICAgICBjbGFzc0xpc3Q6IFwidGFzay1kZXNjcmlwdGlvblwiLFxyXG4gICAgICAgIHRleHRDb250ZW50OiB0YXNrLmRlc2NyaXB0aW9uLFxyXG4gICAgICB9KVxyXG4gICAgOiBcIiBcIjtcclxuXHJcbiAgZnJhZ21lbnQuYXBwZW5kKHRpdGxlLCBkZXNjcmlwdGlvbik7XHJcbiAgcmV0dXJuIGZyYWdtZW50O1xyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyRXhwYW5kZWRUYXNrID0gKHRhcmdldCwgdGFzaykgPT4ge1xyXG4gIGNvbnN0IGV4cGFuZGVkVGFzayA9IF9fY3JlYXRlRXhwYW5kZWRUYXNrKHRhc2spO1xyXG4gIHRhcmdldC5hZnRlcihleHBhbmRlZFRhc2spO1xyXG4gIHJldHVybiBleHBhbmRlZFRhc2s7XHJcbn07XHJcblxyXG5jb25zdCBfX2NyZWF0ZUV4cGFuZGVkVGFzayA9ICh0YXNrKSA9PiB7XHJcbiAgY29uc3QgeyBkdWVEYXRlLCBkaWZmaWN1bHR5IH0gPSB0YXNrO1xyXG4gIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG4gIC8vIEFwcGVuZCBjaGlsZHJlbiB0byBmcmFnbWVudFxyXG4gIGNvbnN0IGV4cGFuZGVkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAvLyBTZXQgdG9nZ2xlIGF0dHJpYnV0ZSB0byB3b3JrIHdpdGggdG9nZ2xlIGV2ZW50IGxpc3RlbmVyXHJcbiAgZXhwYW5kZWREaXYuY2xhc3NMaXN0LmFkZChcImV4cGFuZGVkLWRldGFpbHNcIik7XHJcbiAgZnJhZ21lbnQuYXBwZW5kKGV4cGFuZGVkRGl2KTtcclxuXHJcbiAgLy8gZHVlRGF0ZSAmJlxyXG4gIGV4cGFuZGVkRGl2LmFwcGVuZChcclxuICAgIGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICB0YWdOYW1lOiBcInBcIixcclxuICAgICAgY2xhc3NMaXN0OiBcImR1ZS1kYXRlXCIsXHJcbiAgICAgIHRleHRDb250ZW50OiBmb3JtYXREYXRlKGR1ZURhdGUpLFxyXG4gICAgfSlcclxuICApO1xyXG4gIGNvbnNvbGUubG9nKGR1ZURhdGUpO1xyXG5cclxuICAvLyBkaWZmaWN1bHR5ICYmXHJcbiAgZXhwYW5kZWREaXYuYXBwZW5kKFxyXG4gICAgY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgIHRhZ05hbWU6IFwicFwiLFxyXG4gICAgICBjbGFzc0xpc3Q6IFwiZGlmZmljdWx0eVwiLFxyXG4gICAgICB0ZXh0Q29udGVudDogZGlmZmljdWx0eSxcclxuICAgIH0pXHJcbiAgKTtcclxuICByZXR1cm4gZnJhZ21lbnQ7XHJcbn07XHJcblxyXG5jb25zdCBfX3JlbmRlckJvdHRvbVBhbmVsID0gKGN1cnJlbnRMaXN0LCB0YXNrSWQpID0+IHtcclxuICBjb25zdCB0YXNrID0gY3VycmVudExpc3QuZ2V0VGFza0J5SWQodGFza0lkKTtcclxuICBjb25zdCBib3R0b21QYW5lbCA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgdGFnTmFtZTogXCJkaXZcIixcclxuICAgIGNsYXNzTGlzdDogXCJib3R0b20tcGFuZWxcIixcclxuICB9KTtcclxuICBib3R0b21QYW5lbC5hcHBlbmQoY3JlYXRlQm90dG9tUGFuZWxFbGVtZW50cyh0YXNrKSk7XHJcbiAgcmV0dXJuIGJvdHRvbVBhbmVsO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQm90dG9tUGFuZWxFbGVtZW50cyA9ICh0YXNrKSA9PiB7XHJcbiAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcblxyXG4gIGNvbnN0IGdldFRhc2tEaWZmaWN1bHR5ID0gKGRpZmZpY3VsdHkpID0+IHtcclxuICAgIHN3aXRjaCAoZGlmZmljdWx0eSkge1xyXG4gICAgICBjYXNlIFwiRWFzeVwiOlxyXG4gICAgICAgIHJldHVybiBcIuKalO+4j1wiO1xyXG4gICAgICBjYXNlIFwiTWVkaXVtXCI6XHJcbiAgICAgICAgcmV0dXJuIFwi4pqU77iP4pqU77iPXCI7XHJcbiAgICAgIGNhc2UgXCJIYXJkXCI6XHJcbiAgICAgICAgcmV0dXJuIFwi4pqU77iP4pqU77iP4pqU77iPXCI7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGlmZmljdWx0eUVsID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICB0YWdOYW1lOiBcInBcIixcclxuICAgIHRleHRDb250ZW50OiBnZXRUYXNrRGlmZmljdWx0eSh0YXNrLmRpZmZpY3VsdHkpLFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBkdWVEYXRlRWwgPSBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgIHRhZ05hbWU6IFwicFwiLFxyXG4gICAgdGV4dENvbnRlbnQ6IGZvcm1hdERhdGUodGFzay5kdWVEYXRlKSB8fCBcIlwiLFxyXG4gIH0pO1xyXG5cclxuICBmcmFnbWVudC5hcHBlbmQoZHVlRGF0ZUVsLCBkaWZmaWN1bHR5RWwpO1xyXG4gIHJldHVybiBmcmFnbWVudDtcclxufTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgcmVuZGVyRXhwYW5kZWRUYXNrLFxyXG4gIGNyZWF0ZU1haW5EZXRhaWxzRWxlbWVudHMsXHJcbiAgY3JlYXRlQm90dG9tUGFuZWxFbGVtZW50cyxcclxufTtcclxuIiwiaW1wb3J0IHsgcmVuZGVyRXhwYW5kZWRUYXNrIH0gZnJvbSBcIi4vTGlzdC90YXNrL1Rhc2tSZW5kZXJlci5qc1wiO1xyXG5pbXBvcnQgcHVic3ViIGZyb20gXCIuL3B1YlN1Yi5qc1wiO1xyXG5cclxuY29uc3QgY3JlYXRlTGlzdCA9IChlLCBjdXJyZW50UHJvamVjdCkgPT4ge1xyXG4gIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCB0aXRsZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG4gICAgY29uc3QgbmV3TGlzdCA9IGN1cnJlbnRQcm9qZWN0LmNyZWF0ZUxpc3QodGl0bGUpO1xyXG4gICAgZS50YXJnZXQudmFsdWUgPSBcIlwiO1xyXG5cclxuICAgIHB1YnN1Yi5wdWJsaXNoKFwibGlzdENyZWF0ZWRcIiwgbmV3TGlzdCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVGFzayA9IChlLCBsaXN0KSA9PiB7XHJcbiAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IHRpdGxlID0gZS50YXJnZXQudmFsdWU7XHJcbiAgICBjb25zdCBuZXdUYXNrID0gbGlzdC5jcmVhdGVUYXNrKHRpdGxlKTtcclxuXHJcbiAgICBlLnRhcmdldC52YWx1ZSA9IFwiXCI7XHJcblxyXG4gICAgcHVic3ViLnB1Ymxpc2goXCJ0YXNrQ3JlYXRlZFwiLCB7IGxpc3QsIHRhc2s6IG5ld1Rhc2sgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gUmVmYWN0b3IgdGhpcyBtZXNzIGxhdGVyXHJcbmZ1bmN0aW9uIGF1dG9SZXNpemUoKSB7XHJcbiAgdGhpcy5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIjtcclxuICB0aGlzLnN0eWxlLmhlaWdodCA9IHRoaXMuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xyXG59XHJcblxyXG5jb25zdCBlZGl0VGFzayA9IChlLCB0YXNrSWQsIGN1cnJlbnRMaXN0KSA9PiB7XHJcbiAgY29uc3QgZWwgPSBlLnRhcmdldDtcclxuICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucyhcInRhc2stdGl0bGVcIikpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgY29uc3QgcHJldmlvdXMgPSBlbC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XHJcbiAgY29uc3QgY3VycmVudFRhc2sgPSBjdXJyZW50TGlzdC5nZXRUYXNrQnlJZCh0YXNrSWQpO1xyXG5cclxuICBpbnB1dC5jbGFzc0xpc3QuYWRkKFwidGVtcC1pbnB1dFwiKTtcclxuICBpbnB1dC52YWx1ZSA9IGN1cnJlbnRUYXNrLnRpdGxlO1xyXG4gIC8vIGlucHV0LnN0eWxlLndyYXAgPSBcInNvZnRcIjtcclxuICBpbnB1dC5zdHlsZS53b3JkQnJlYWsgPSBcImJyZWFrLXdvcmRcIjtcclxuXHJcbiAgZWwucmVwbGFjZVdpdGgoaW5wdXQpO1xyXG4gIGlucHV0LnN0eWxlLmhlaWdodCA9IFwiYXV0b1wiO1xyXG4gIGlucHV0LnN0eWxlLmhlaWdodCA9IGlucHV0LnNjcm9sbEhlaWdodCArIFwicHhcIjtcclxuXHJcbiAgY29uc3Qgc2F2ZSA9ICgpID0+IHtcclxuICAgIC8vIFNhdmUgdGhlIGlucHV0IHZhbHVlIGludG8gdGhlIHNlbGVjdGVkIHRhc2tcclxuICAgIGN1cnJlbnRMaXN0LnVwZGF0ZVRhc2sodGFza0lkLCB7IHRpdGxlOiBpbnB1dC52YWx1ZSB9KTtcclxuICAgIHByZXZpb3VzLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWU7XHJcbiAgICBpbnB1dC5yZXBsYWNlV2l0aChwcmV2aW91cyk7XHJcbiAgfTtcclxuXHJcbiAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XHJcbiAgICAgIGlucHV0LmJsdXIoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgc2F2ZSwge1xyXG4gICAgb25jZTogdHJ1ZSxcclxuICB9KTtcclxuXHJcbiAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGF1dG9SZXNpemUsIGZhbHNlKTtcclxuICBpbnB1dC5mb2N1cygpO1xyXG59O1xyXG5cclxuY29uc3QgdG9nZ2xlRGV0YWlscyA9IChlLCBjdXJyZW50TGlzdCwgdGFza0lkKSA9PiB7XHJcbiAgLy8gRG8gbm90IHRvZ2dsZSBpZiB0YXNrIGlzIGluIEVkaXQgTW9kZSBvciBpZiB0aGUgdGFyZ2V0IGlzIG5vdCB0aGUgdGFza1xyXG4gIGlmIChcclxuICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImlzRWRpdGFibGVcIikgfHxcclxuICAgICFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ0YXNrXCIpXHJcbiAgKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCB0YXNrQ29udGFpbmVyID0gZS50YXJnZXQ7XHJcbiAgY29uc3QgbWFpbkRldGFpbHMgPSB0YXNrQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1kZXRhaWxzXCIpO1xyXG5cclxuICBjb25zdCBleHBhbmRlZERldGFpbHMgPSB0YXNrQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZXhwYW5kZWQtZGV0YWlsc1wiKTtcclxuXHJcbiAgaWYgKCFleHBhbmRlZERldGFpbHMpIHtcclxuICAgIGNvbnN0IHRhc2sgPSBjdXJyZW50TGlzdC5nZXRUYXNrQnlJZCh0YXNrSWQpO1xyXG4gICAgcmVuZGVyRXhwYW5kZWRUYXNrKG1haW5EZXRhaWxzLCB0YXNrKTtcclxuICAgIHRhc2tDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImV4cGFuZGVkXCIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBleHBhbmRlZERldGFpbHMucmVtb3ZlKCk7XHJcbiAgICB0YXNrQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJleHBhbmRlZFwiKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgeyBjcmVhdGVMaXN0LCBjcmVhdGVUYXNrLCBlZGl0VGFzaywgdG9nZ2xlRGV0YWlscyB9O1xyXG4iLCJpbXBvcnQge1xyXG4gIGFwcGVuZEN1c3RvbUVsZW1lbnQsXHJcbiAgY3JlYXRlQ3VzdG9tRWxlbWVudCxcclxufSBmcm9tIFwiLi4vSGVscGVycy9jdXN0b21FbGVtZW50SGVscGVyLmpzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVRhc2sgfSBmcm9tIFwiLi4vRXZlbnRIYW5kbGVyLmpzXCI7XHJcbmltcG9ydCBwdWJTdWIgZnJvbSBcIi4uL3B1YlN1Yi5qc1wiO1xyXG5cclxucHViU3ViLnN1YnNjcmliZShcImxpc3RDcmVhdGVkXCIsIHJlbmRlckxpc3QpO1xyXG5wdWJTdWIuc3Vic2NyaWJlKFwibGlzdFJlY29uc3RydWN0ZWRcIiwgcmVuZGVyTGlzdCk7XHJcblxyXG5mdW5jdGlvbiByZW5kZXJMaXN0KGxpc3QpIHtcclxuICBjb25zb2xlLmxvZyhcIlJlbmRlcmluZyBMaXN0XCIpO1xyXG4gIC8vIExpc3QgRWxlbWVudHNcclxuICBfX2FwcGVuZExpc3RDb250YWluZXIobGlzdCk7XHJcbiAgX19hcHBlbmRMaXN0QW5kVGl0bGVFbGVtZW50cyhsaXN0KTtcclxuXHJcbiAgLy8gVGFzayBFbGVtZW50XHJcbiAgX19hcHBlbmRUYXNrQ29udGFpbmVyKGxpc3QpO1xyXG59XHJcblxyXG5jb25zdCBfX2FwcGVuZExpc3RDb250YWluZXIgPSAobGlzdCkgPT4ge1xyXG4gIGFwcGVuZEN1c3RvbUVsZW1lbnQoe1xyXG4gICAgdGFyZ2V0OiBcIi5saXN0cy1jb250YWluZXJcIixcclxuICAgIHRhZ05hbWU6IFwiZGl2XCIsXHJcbiAgICBjbGFzc0xpc3Q6IFtcImxpc3RcIl0sXHJcbiAgICBhdHRyaWJ1dGVzOiBbXCJkYXRhLWlkXCIsIGxpc3QuZ2V0SWQoKV0sXHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBfX2FwcGVuZExpc3RBbmRUaXRsZUVsZW1lbnRzID0gKGxpc3QpID0+IHtcclxuICBjb25zdCBsaXN0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWlkPVwiJHtsaXN0LmdldElkKCl9XCJdYCk7XHJcbiAgYXBwZW5kQ3VzdG9tRWxlbWVudCh7XHJcbiAgICB0YXJnZXQ6IGBbZGF0YS1pZD1cIiR7bGlzdC5nZXRJZCgpfVwiXWAsXHJcbiAgICB0YWdOYW1lOiBcImgyXCIsXHJcbiAgICB0ZXh0Q29udGVudDogbGlzdC5nZXRUaXRsZSgpLFxyXG4gIH0pO1xyXG4gIGxpc3RFbGVtZW50LmFwcGVuZENoaWxkKF9fY3JlYXRlVGFza0Zvcm0obGlzdCkpO1xyXG59O1xyXG5cclxuY29uc3QgX19jcmVhdGVUYXNrRm9ybSA9IChsaXN0KSA9PiB7XHJcbiAgLy8gQ3JlYXRlIGZvcm0gYW5kIGFwcGVuZCBpbnB1dCB0byBMaXN0XHJcbiAgY29uc3QgdGFza0Zvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcclxuICB0YXNrRm9ybS5jbGFzc05hbWUgPSBcInRhc2stZm9ybVwiO1xyXG4gIGNvbnN0IHRhc2tJbnB1dCA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgdGFnTmFtZTogXCJpbnB1dFwiLFxyXG4gICAgY2xhc3NMaXN0OiBcInRhc2staW5wdXRcIixcclxuICAgIGF0dHJpYnV0ZXM6IFtcInBsYWNlaG9sZGVyXCIsIFwiQWRkIGEgdGFza1wiXSxcclxuICB9KTtcclxuICB0YXNrRm9ybS5hcHBlbmRDaGlsZCh0YXNrSW5wdXQpO1xyXG5cclxuICAvLyBCaW5kIGlucHV0IGxpc3RlbmVyIHRvIG1vbml0b3IgbmV3IHRhc2sgZW50cmllc1xyXG4gIHRhc2tJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG4gICAgY3JlYXRlVGFzayhlLCBsaXN0KTtcclxuICB9KTtcclxuICByZXR1cm4gdGFza0Zvcm07XHJcbn07XHJcblxyXG5jb25zdCBfX2FwcGVuZFRhc2tDb250YWluZXIgPSAobGlzdCkgPT4ge1xyXG4gIGFwcGVuZEN1c3RvbUVsZW1lbnQoe1xyXG4gICAgdGFyZ2V0OiBgW2RhdGEtaWQ9XCIke2xpc3QuZ2V0SWQoKX1cIl1gLFxyXG4gICAgdGFnTmFtZTogXCJkaXZcIixcclxuICAgIGNsYXNzTGlzdDogXCJ0YXNrcy1jb250YWluZXJcIixcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJlbmRlckxpc3Q7XHJcbiIsImltcG9ydCBwdWJTdWIgZnJvbSBcIi4vcHViU3ViXCI7XHJcblxyXG5jb25zdCBzdG9yZSA9ICgoKSA9PiB7XHJcbiAgY29uc3QgcHJvamVjdHMgPSBbXTtcclxuICBsZXQgY3VycmVudFByb2plY3QgPSBudWxsO1xyXG4gIC8vIFBvcHVsYXRlIHByb2plY3RzIHdpdGggYSBsaXN0IG9mIGFsbCB0aGUgcHJvamVjdCBuYW1lcyB3aXRoaW4gc3RvcmFnZSArIGFkZCBhbnkgbmV3bHkgY3JlYXRlZCBwcm9qZWN0c1xyXG5cclxuICBjb25zdCBnZXRDdXJyZW50UHJvamVjdCA9ICgpID0+IGN1cnJlbnRQcm9qZWN0O1xyXG5cclxuICBmdW5jdGlvbiBhZGRQcm9qZWN0KHByb2plY3QpIHtcclxuICAgIGlmIChjdXJyZW50UHJvamVjdCA9PT0gbnVsbCkge1xyXG4gICAgICBzZXRDdXJyZW50UHJvamVjdChwcm9qZWN0KTtcclxuICAgIH1cclxuICAgIHByb2plY3RzLnB1c2gocHJvamVjdCk7XHJcbiAgICByZXR1cm4gcHJvamVjdHM7XHJcbiAgfVxyXG5cclxuICBjb25zdCBzZXRDdXJyZW50UHJvamVjdCA9IChwcm9qZWN0KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlNldHRpbmcgY3VycmVudCBwcm9qZWN0OiBcIiArIHByb2plY3QuZ2V0VGl0bGUoKSk7XHJcbiAgICBjdXJyZW50UHJvamVjdCA9IHByb2plY3Q7XHJcbiAgICBwdWJTdWIucHVibGlzaChcImN1cnJlbnRQcm9qZWN0U2V0XCIsIHtcclxuICAgICAgdGl0bGU6IHByb2plY3QuZ2V0VGl0bGUoKSxcclxuICAgICAgaWQ6IHByb2plY3QuZ2V0SWQoKSxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGN1cnJlbnRQcm9qZWN0O1xyXG4gIH07XHJcbiAgcmV0dXJuIHsgZ2V0Q3VycmVudFByb2plY3QsIHNldEN1cnJlbnRQcm9qZWN0IH07XHJcbn0pKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzdG9yZTtcclxuIiwiaW1wb3J0IFRhc2tNYW5hZ2VyIGZyb20gXCIuL3Rhc2svVGFza01hbmFnZXJcIjtcclxuXHJcbmNvbnN0IExpc3QgPSAodGl0bGUsIGlkID0gY3J5cHRvLnJhbmRvbVVVSUQoKS5zbGljZSgwLCA4KSkgPT4ge1xyXG4gIGNvbnN0IHRhc2tzID0gW107XHJcbiAgY29uc3QgdGFza01hbmFnZXIgPSBUYXNrTWFuYWdlcih0YXNrcyk7XHJcblxyXG4gIGNvbnN0IGdldFRpdGxlID0gKCkgPT4gdGl0bGU7XHJcbiAgY29uc3QgZ2V0SWQgPSAoKSA9PiBpZDtcclxuICBjb25zdCBnZXRUYXNrcyA9ICgpID0+IHRhc2tzO1xyXG5cclxuICBjb25zdCBjcmVhdGVUYXNrID0gKHRpdGxlLCB0YXNrSWQpID0+IHtcclxuICAgIHJldHVybiB0YXNrTWFuYWdlci5jcmVhdGVUYXNrKHRpdGxlLCB0YXNrSWQpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldFRhc2tCeUlkID0gKHRhc2tJZCkgPT4ge1xyXG4gICAgcmV0dXJuIHRhc2tNYW5hZ2VyLmdldFRhc2tCeUlkKHRhc2tJZCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdXBkYXRlVGFzayA9ICh0YXNrSWQsIHVwZGF0ZWRFbnRyeSkgPT4ge1xyXG4gICAgcmV0dXJuIHRhc2tNYW5hZ2VyLnVwZGF0ZVRhc2sodGFza0lkLCB1cGRhdGVkRW50cnkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbW92ZVRhc2sgPSAodGFza0lkKSA9PiB7XHJcbiAgICByZXR1cm4gdGFza01hbmFnZXIucmVtb3ZlVGFzayh0YXNrSWQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBnZXRUaXRsZSxcclxuICAgIGdldElkLFxyXG4gICAgZ2V0VGFza3MsXHJcbiAgICBjcmVhdGVUYXNrLFxyXG4gICAgZ2V0VGFza0J5SWQsXHJcbiAgICB1cGRhdGVUYXNrLFxyXG4gICAgcmVtb3ZlVGFzayxcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGlzdDtcclxuIiwiY29uc3QgVGFza01hbmFnZXIgPSAodGFza0xpc3QpID0+IHtcclxuICBjb25zdCBnZXRUYXNrQnlJZCA9ICh0YXNrSWQpID0+IHtcclxuICAgIHJldHVybiB0YXNrTGlzdC5maW5kKCh0YXNrKSA9PiB0YXNrLmlkID09PSB0YXNrSWQpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldFRhc2tCeUluZGV4ID0gKHRhc2tJZCkgPT4ge1xyXG4gICAgcmV0dXJuIHRhc2tMaXN0LmZpbmRJbmRleCgodGFzaykgPT4gdGFzay5pZCA9PT0gdGFza0lkKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjcmVhdGVUYXNrID0gKHRpdGxlLCB0YXNrSWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpLnNsaWNlKDAsIDgpKSA9PiB7XHJcbiAgICB0YXNrTGlzdC5wdXNoKHtcclxuICAgICAgaWQ6IHRhc2tJZCxcclxuICAgICAgdGl0bGUsXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0YXNrTGlzdFt0YXNrTGlzdC5sZW5ndGggLSAxXTtcclxuICB9O1xyXG5cclxuICBjb25zdCB1cGRhdGVUYXNrID0gKHRhc2tJZCwgdXBkYXRlZEVudHJ5KSA9PiB7XHJcbiAgICBjb25zdCB0YXNrSW5kZXggPSBnZXRUYXNrQnlJbmRleCh0YXNrSWQpO1xyXG4gICAgdGFza0xpc3RbdGFza0luZGV4XSA9IHsgLi4udGFza0xpc3RbdGFza0luZGV4XSwgLi4udXBkYXRlZEVudHJ5IH07XHJcbiAgICByZXR1cm4gdGFza0xpc3RbdGFza0luZGV4XTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZW1vdmVUYXNrID0gKHRhc2tJZCkgPT4ge1xyXG4gICAgY29uc3QgdGFza0luZGV4ID0gZ2V0VGFza0J5SW5kZXgodGFza0lkKTtcclxuICAgIHRhc2tMaXN0LnNwbGljZSh0YXNrSW5kZXgsIDEpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IGdldFRhc2tCeUlkLCBjcmVhdGVUYXNrLCB1cGRhdGVUYXNrLCByZW1vdmVUYXNrIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUYXNrTWFuYWdlcjtcclxuIiwiaW1wb3J0IExpc3QgZnJvbSBcIi4vTGlzdC9MaXN0XCI7XHJcblxyXG5jb25zdCBQcm9qZWN0ID0gKHRpdGxlLCBpZCA9IGNyeXB0by5yYW5kb21VVUlEKCkuc2xpY2UoMCwgOCkpID0+IHtcclxuICBjb25zdCBsaXN0cyA9IFtdO1xyXG5cclxuICBjb25zdCBnZXRUaXRsZSA9ICgpID0+IHRpdGxlO1xyXG4gIGNvbnN0IGdldElkID0gKCkgPT4gaWQ7XHJcbiAgY29uc3QgZ2V0TGlzdHMgPSAoKSA9PiBsaXN0cztcclxuXHJcbiAgY29uc3QgY3JlYXRlTGlzdCA9ICh0aXRsZSwgaWQpID0+IHtcclxuICAgIGxpc3RzLnB1c2goTGlzdCh0aXRsZSwgaWQpKTtcclxuICAgIHJldHVybiBsaXN0c1tsaXN0cy5sZW5ndGggLSAxXTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRMaXN0QnlJZCA9IChsaXN0SWQpID0+IHtcclxuICAgIGNvbnN0IGxpc3RJbmRleCA9IGxpc3RzLmZpbmRJbmRleCgobGlzdCkgPT4gbGlzdC5nZXRJZCgpID09PSBsaXN0SWQpO1xyXG5cclxuICAgIHJldHVybiBsaXN0c1tsaXN0SW5kZXhdO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IGdldFRpdGxlLCBnZXRJZCwgZ2V0TGlzdHMsIGNyZWF0ZUxpc3QsIGdldExpc3RCeUlkIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm9qZWN0O1xyXG4iLCJpbXBvcnQgUHJvamVjdCBmcm9tIFwiLi9Qcm9qZWN0XCI7XHJcbmltcG9ydCBwdWJTdWIgZnJvbSBcIi4vcHViU3ViLmpzXCI7XHJcbmltcG9ydCBzdG9yZSBmcm9tIFwiLi9zdG9yZS5qc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVEZWZhdWx0UHJvamVjdCB9IGZyb20gXCIuL1Byb2plY3RIYW5kbGVyXCI7XHJcblxyXG5mdW5jdGlvbiBzdG9yYWdlQXZhaWxhYmxlKCkge1xyXG4gIHRyeSB7XHJcbiAgICB2YXIgc3RvcmFnZSA9IHdpbmRvd1tcImxvY2FsU3RvcmFnZVwiXSxcclxuICAgICAgeCA9IFwiX19zdG9yYWdlX3Rlc3RfX1wiO1xyXG4gICAgc3RvcmFnZS5zZXRJdGVtKHgsIHgpO1xyXG4gICAgc3RvcmFnZS5yZW1vdmVJdGVtKHgpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiAmJlxyXG4gICAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBGaXJlZm94XHJcbiAgICAgIChlLmNvZGUgPT09IDIyIHx8XHJcbiAgICAgICAgLy8gRmlyZWZveFxyXG4gICAgICAgIGUuY29kZSA9PT0gMTAxNCB8fFxyXG4gICAgICAgIC8vIHRlc3QgbmFtZSBmaWVsZCB0b28sIGJlY2F1c2UgY29kZSBtaWdodCBub3QgYmUgcHJlc2VudFxyXG4gICAgICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcclxuICAgICAgICBlLm5hbWUgPT09IFwiUXVvdGFFeGNlZWRlZEVycm9yXCIgfHxcclxuICAgICAgICAvLyBGaXJlZm94XHJcbiAgICAgICAgZS5uYW1lID09PSBcIk5TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEXCIpICYmXHJcbiAgICAgIC8vIGFja25vd2xlZGdlIFF1b3RhRXhjZWVkZWRFcnJvciBvbmx5IGlmIHRoZXJlJ3Mgc29tZXRoaW5nIGFscmVhZHkgc3RvcmVkXHJcbiAgICAgIHN0b3JhZ2UgJiZcclxuICAgICAgc3RvcmFnZS5sZW5ndGggIT09IDBcclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBfX3N0cmluZ2lmeUpTT04gPSAob2JqKSA9PiB7XHJcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaik7XHJcbn07XHJcblxyXG5jb25zdCByZXRyaWV2ZUl0ZW0gPSAoa2V5KSA9PiB7XHJcbiAgY29uc3Qgc3RvcmVkU3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICByZXR1cm4gSlNPTi5wYXJzZShzdG9yZWRTdHJpbmcpO1xyXG59O1xyXG5cclxuLypcclxuICBEYXRhIFN0cnVjdHVyZVxyXG4gICBsb2NhbFN0b3JhZ2UgPSB7XHJcbiAgICBwcm9qZWN0czogW1xyXG4gICAgICB7cHJvamVjdFRpdGxlLCBpZCwgbGlzdHM6IFtcclxuICAgICAgICB7IHRpdGxlLCBpZCwgdGFza3M6IFtdIH1cclxuICAgICAgXX0sIFxyXG4gICAgICB7cHJvamVjdFRpdGxlLCBpZCwgbGlzdHMuLi59XSxcclxuICAgIF19LFxyXG4qL1xyXG5cclxuLy8gIFByb2plY3QgcmV0cmlldmFsIC0gR2V0dGVyc1xyXG5cclxuY29uc3QgZ2V0U3RvcmVkUHJvamVjdHMgPSAoKSA9PiB7XHJcbiAgY29uc3Qgc3RvcmVkU3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcm9qZWN0c1wiKTtcclxuICBjb25zdCBzdG9yZWRQcm9qZWN0cyA9IEpTT04ucGFyc2Uoc3RvcmVkU3RyaW5nKTtcclxuICByZXR1cm4gc3RvcmVkUHJvamVjdHM7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0ZvclByb2plY3RzID0gKCkgPT4ge1xyXG4gIC8vIFVuY29tbWVudCB0byB3aXBlIHN0b3JhZ2VcclxuICAvLyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInByb2plY3RzXCIpO1xyXG4gIGlmICghKFwicHJvamVjdHNcIiBpbiBsb2NhbFN0b3JhZ2UpKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkluaXRpYWxpemUgcHJvamVjdHMgYXJyYXkgaW4gc3RvcmFnZVwiKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdHNcIiwgSlNPTi5zdHJpbmdpZnkoW10pKTtcclxuICAgIGNyZWF0ZURlZmF1bHRQcm9qZWN0KCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIC8vIFJlY29uc3RydWN0IHRoZSBjdXJyZW50IHByb2plY3QgYW5kIHNldCBjdXJyZW50UHJvamVjdCBpbiBzdG9yYWdlXHJcbiAgc3RvcmUuc2V0Q3VycmVudFByb2plY3QocmVjb25zdHJ1Y3RDdXJyZW50UHJvamVjdCgpKTtcclxufTtcclxuXHJcbmNvbnN0IHJlY29uc3RydWN0Q3VycmVudFByb2plY3QgPSAoKSA9PiB7XHJcbiAgY29uc3Qgc3RvcmVkUHJvamVjdHMgPSBnZXRTdG9yZWRQcm9qZWN0cygpO1xyXG4gIGNvbnN0IGN1cnJQcm9qSW5kZXggPSByZXRyaWV2ZUN1cnJQcm9qSWR4KCk7XHJcbiAgY29uc3QgY3VycmVudFByb2ogPSBzdG9yZWRQcm9qZWN0c1tjdXJyUHJvakluZGV4XTtcclxuXHJcbiAgY29uc3QgcmVjb25zdHJ1Y3RlZFByb2plY3QgPSBQcm9qZWN0KGN1cnJlbnRQcm9qLnRpdGxlLCBjdXJyZW50UHJvai5pZCk7XHJcbiAgcHViU3ViLnB1Ymxpc2goXCJwcm9qZWN0UmVjb25zdHJ1Y3RlZFwiLCByZWNvbnN0cnVjdGVkUHJvamVjdCk7XHJcblxyXG4gIF9fcmVjb25zdHJ1Y3RMaXN0cyhyZWNvbnN0cnVjdGVkUHJvamVjdCwgY3VycmVudFByb2oubGlzdHMpO1xyXG5cclxuICByZXR1cm4gcmVjb25zdHJ1Y3RlZFByb2plY3Q7XHJcbn07XHJcbi8vIEluaXRpYWxpemUgc3Vic2NyaXB0aW9ucyBhZnRlciByZWNvbnN0cnVjdGlvblxyXG5cclxuY29uc3QgX19yZWNvbnN0cnVjdExpc3RzID0gKHByb2plY3QsIGxpc3RzKSA9PiB7XHJcbiAgbGlzdHMubWFwKChsaXN0KSA9PiB7XHJcbiAgICBjb25zdCByZWNvbnN0cnVjdGVkTGlzdCA9IHByb2plY3QuY3JlYXRlTGlzdChsaXN0LnRpdGxlLCBsaXN0LmlkKTtcclxuICAgIHB1YlN1Yi5wdWJsaXNoKFwibGlzdFJlY29uc3RydWN0ZWRcIiwgcmVjb25zdHJ1Y3RlZExpc3QpO1xyXG5cclxuICAgIF9fcmVjb25zdHJ1Y3RUYXNrcyhyZWNvbnN0cnVjdGVkTGlzdCwgbGlzdC50YXNrcyk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBfX3JlY29uc3RydWN0VGFza3MgPSAobGlzdCwgdGFza3MpID0+IHtcclxuICB0YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XHJcbiAgICBsaXN0LmNyZWF0ZVRhc2sodGFzay50aXRsZSwgdGFzay5pZCk7XHJcbiAgICBjb25zdCB1cGRhdGVkVGFzayA9IGxpc3QudXBkYXRlVGFzayh0YXNrLmlkLCB0YXNrKTtcclxuICAgIHB1YlN1Yi5wdWJsaXNoKFwidGFza1JlY29uc3RydWN0ZWRcIiwgeyBsaXN0LCB0YXNrOiB1cGRhdGVkVGFzayB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbi8vIEluaXQgcmVjb25zdHJ1Y3Rpb25cclxuLy8gc3RvcmUuc2V0UHJvamVjdHMocmVjb25zdHJ1Y3RQcm9qZWN0cygpKTtcclxuXHJcbi8vIExpc3RlbiBmb3IgbmV3IGNyZWF0aW9ucyB0byBiZSBwdXQgaW50byBzdG9yYWdlXHJcblxyXG4vLyAgUHJvamVjdCBTdG9yYWdlIC0gU2V0dGVyXHJcblxyXG5wdWJTdWIuc3Vic2NyaWJlKFwicHJvamVjdENyZWF0ZWRcIiwgc3RvcmVQcm9qZWN0KTtcclxucHViU3ViLnN1YnNjcmliZShcImxpc3RDcmVhdGVkXCIsIHN0b3JlTGlzdCk7XHJcbnB1YlN1Yi5zdWJzY3JpYmUoXCJ0YXNrQ3JlYXRlZFwiLCBzdG9yZVRhc2spO1xyXG5wdWJTdWIuc3Vic2NyaWJlKFwidGFza1VwZGF0ZWRcIiwgc3RvcmVVcGRhdGVkVGFzayk7XHJcbnB1YlN1Yi5zdWJzY3JpYmUoXCJjdXJyZW50UHJvamVjdFNldFwiLCBzdG9yZUN1cnJlbnRQcm9qZWN0KTtcclxuXHJcbmZ1bmN0aW9uIHN0b3JlUHJvamVjdChwcm9qZWN0KSB7XHJcbiAgY29uc3QgdXBkYXRlZFByb2plY3RzID0gcmV0cmlldmVJdGVtKFwicHJvamVjdHNcIik7XHJcbiAgdXBkYXRlZFByb2plY3RzLnB1c2goe1xyXG4gICAgdGl0bGU6IHByb2plY3QuZ2V0VGl0bGUoKSxcclxuICAgIGlkOiBwcm9qZWN0LmdldElkKCksXHJcbiAgICBsaXN0czogW10sXHJcbiAgfSk7XHJcblxyXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdHNcIiwgSlNPTi5zdHJpbmdpZnkodXBkYXRlZFByb2plY3RzKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0b3JlTGlzdChsaXN0KSB7XHJcbiAgY29uc3QgdXBkYXRlZFByb2plY3RzID0gcmV0cmlldmVJdGVtKFwicHJvamVjdHNcIik7XHJcbiAgY29uc3QgaW5kZXggPSByZXRyaWV2ZUN1cnJQcm9qSWR4KCk7XHJcbiAgY29uc29sZS5sb2codXBkYXRlZFByb2plY3RzW2luZGV4XSk7XHJcbiAgdXBkYXRlZFByb2plY3RzW2luZGV4XS5saXN0cy5wdXNoKHtcclxuICAgIHRpdGxlOiBsaXN0LmdldFRpdGxlKCksXHJcbiAgICBpZDogbGlzdC5nZXRJZCgpLFxyXG4gICAgdGFza3M6IFtdLFxyXG4gIH0pO1xyXG5cclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzXCIsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcm9qZWN0cykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdG9yZVRhc2soZGF0YSkge1xyXG4gIGNvbnN0IHsgbGlzdCwgdGFzayB9ID0gZGF0YTtcclxuICBjb25zdCB1cGRhdGVkUHJvamVjdHMgPSByZXRyaWV2ZUl0ZW0oXCJwcm9qZWN0c1wiKTtcclxuICBjb25zdCBwcm9qSW5kZXggPSByZXRyaWV2ZUN1cnJQcm9qSWR4KCk7XHJcbiAgY29uc3QgbGlzdEluZGV4ID0gcmV0cmlldmVMaXN0SW5kZXgobGlzdC5nZXRJZCgpKTtcclxuICBjb25zdCBzdG9yZWRQcm9qZWN0ID0gdXBkYXRlZFByb2plY3RzW3Byb2pJbmRleF07XHJcbiAgY29uc3Qgc3RvcmVkTGlzdCA9IHN0b3JlZFByb2plY3QubGlzdHNbbGlzdEluZGV4XTtcclxuICBzdG9yZWRMaXN0LnRhc2tzLnB1c2godGFzayk7XHJcblxyXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdHNcIiwgSlNPTi5zdHJpbmdpZnkodXBkYXRlZFByb2plY3RzKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0b3JlVXBkYXRlZFRhc2soZGF0YSkge1xyXG4gIGNvbnN0IHsgbGlzdCwgdGFzayB9ID0gZGF0YTtcclxuICBjb25zdCB1cGRhdGVkUHJvamVjdHMgPSByZXRyaWV2ZUl0ZW0oXCJwcm9qZWN0c1wiKTtcclxuICBjb25zdCBwcm9qSW5kZXggPSByZXRyaWV2ZUN1cnJQcm9qSWR4KCk7XHJcbiAgY29uc3QgbGlzdEluZGV4ID0gcmV0cmlldmVMaXN0SW5kZXgobGlzdC5nZXRJZCgpKTtcclxuICBjb25zdCBzdG9yZWRQcm9qZWN0ID0gdXBkYXRlZFByb2plY3RzW3Byb2pJbmRleF07XHJcbiAgY29uc3Qgc3RvcmVkTGlzdCA9IHN0b3JlZFByb2plY3QubGlzdHNbbGlzdEluZGV4XTtcclxuICBjb25zdCBzdG9yZWRUYXNrcyA9IHN0b3JlZExpc3QudGFza3M7XHJcbiAgY29uc3QgdGFza0luZGV4ID0gcmV0cmlldmVUYXNrSW5kZXgoc3RvcmVkVGFza3MsIHRhc2suaWQpO1xyXG4gIGNvbnNvbGUubG9nKFwiU3RvcmluZyB0YXNrXCIpO1xyXG4gIHN0b3JlZFRhc2tzW3Rhc2tJbmRleF0gPSB7IC4uLnN0b3JlZFRhc2tzW3Rhc2tJbmRleF0sIC4uLnRhc2sgfTtcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzXCIsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcm9qZWN0cykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdG9yZUN1cnJlbnRQcm9qZWN0KGRhdGEpIHtcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRQcm9qZWN0XCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxufVxyXG5cclxuY29uc3QgcmV0cmlldmVDdXJyUHJvaklkeCA9ICgpID0+IHtcclxuICBjb25zdCBwcm9qZWN0c0luU3RvcmFnZSA9IHJldHJpZXZlSXRlbShcInByb2plY3RzXCIpO1xyXG4gIGNvbnN0IGN1cnJlbnRQcm9qZWN0ID0gcmV0cmlldmVJdGVtKFwiY3VycmVudFByb2plY3RcIik7XHJcbiAgY29uc3QgaW5kZXggPSBwcm9qZWN0c0luU3RvcmFnZS5maW5kSW5kZXgoXHJcbiAgICAocHJvamVjdCkgPT4gcHJvamVjdC5pZCA9PT0gY3VycmVudFByb2plY3QuaWRcclxuICApO1xyXG4gIHJldHVybiBpbmRleDtcclxufTtcclxuXHJcbmNvbnN0IHJldHJpZXZlTGlzdEluZGV4ID0gKGlkKSA9PiB7XHJcbiAgY29uc3QgcHJvamVjdHNJblN0b3JhZ2UgPSByZXRyaWV2ZUl0ZW0oXCJwcm9qZWN0c1wiKTtcclxuICBjb25zdCBjdXJyUHJvakluZGV4ID0gcmV0cmlldmVDdXJyUHJvaklkeCgpO1xyXG4gIGNvbnN0IGxpc3RzID0gcHJvamVjdHNJblN0b3JhZ2VbY3VyclByb2pJbmRleF0ubGlzdHM7XHJcbiAgY29uc3QgaW5kZXggPSBsaXN0cy5maW5kSW5kZXgoKGxpc3QpID0+IGxpc3QuaWQgPT09IGlkKTtcclxuICByZXR1cm4gaW5kZXg7XHJcbn07XHJcblxyXG5jb25zdCByZXRyaWV2ZUxpc3QgPSAoaWQpID0+IHtcclxuICBjb25zdCB1cGRhdGVkUHJvamVjdHMgPSByZXRyaWV2ZUl0ZW0oXCJwcm9qZWN0c1wiKTtcclxuICBjb25zdCBwcm9qSW5kZXggPSByZXRyaWV2ZUN1cnJQcm9qSWR4KCk7XHJcbiAgY29uc3QgbGlzdEluZGV4ID0gcmV0cmlldmVMaXN0SW5kZXgoaWQpO1xyXG4gIGNvbnN0IHByb2plY3QgPSB1cGRhdGVkUHJvamVjdHNbcHJvakluZGV4XTtcclxuICBjb25zdCBsaXN0ID0gcHJvamVjdC5saXN0c1tsaXN0SW5kZXhdO1xyXG5cclxuICByZXR1cm4gbGlzdDtcclxufTtcclxuXHJcbmNvbnN0IHJldHJpZXZlVGFza0luZGV4ID0gKGFycmF5LCB0YXNrSWQpID0+IHtcclxuICByZXR1cm4gYXJyYXkuZmluZEluZGV4KCh0YXNrKSA9PiB0YXNrLmlkID09PSB0YXNrSWQpO1xyXG59O1xyXG5cclxuLyogICAgXHJcblxyXG5cclxuICBXZSBuZWVkIHRvIG5vdyByZWNvbnN0cnVjdCB0aGUgb2JqZWN0cyB2aWEgdGhlaXIgZmFjdG9yeSBmdW5jdGlvbnNcclxuICBBbHNvLCBmaWd1cmUgb3V0IGhvdyB0byBleHRyYXBvbGF0ZSBhbmQgc3RvcmUgZGF0YSB3aXRoaW4gdGhlIHNpbXBsZSBkYXRhIHN0cnVjdHVyZSBvZiBsb2NhbFN0b3JhZ2VcclxuXHJcblxyXG4gIEluaXQgLSBcclxuICAgIENoZWNrIGlmIGxvY2FsU3RvcmFnZSBjb250YWlucyBhIHByb2plY3QuXHJcbiAgICAgIElmIG5vIHByb2plY3QgaXMgZm91bmQsIHRoZW4gY3JlYXRlIHRoZSBkZWZhdWx0IHByb2plY3RcclxuXHJcbiAgICAgIElmIGxvY2FsU3RvcmFnZSBjb250YWlucyBhIHByb2plY3QuLi5cclxuICAgICAgICBJbXBvcnQgdGhlIHByb2plY3QgYXJyYXkuXHJcbiAgICAgICAgUmVjb25zdHJ1Y3QgdGhlIFByb2plY3RzXHJcbiAgXHJcbiAgICAgICAgUmVjb25zdHJ1Y3QgdGhlIExpc3RzIHdpdGhpbiB0aGUgUHJvamVjdFxyXG4gICAgICAgIGNvbnN0IHN0b3JlZExpc3RzID0gc3RvcmVkUHJvamVjdHMubWFwKHByb2plY3QgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvamVjdC5saXN0cztcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IHN0b3JlZFRhc2tzID0gc3RvcmVMaXN0cy5tYXAobGlzdCA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gbGlzdC50YXNrc1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IHN0b3JlZFRhc2tzID0gc3RvcmVkTGlzdHMubWFwKGxpc3QgPT4gbGlzdC5nZXRUYXNrcyk7XHJcbiAgICAgICAgY29uc3QgcmVjb25zdHJ1Y3RMaXN0cyA9IHN0b3JlZFByb2plY3RzLmZvckVhY2goc3RvcmVkUHJvamVjdCA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gc3RvcmVkUHJvamVjdHMubWFwKHByb2plY3QgPT4gcHJvamVjdC4pXHJcbiAgICAgICAgICAgIHJlY29uc3RydWN0ZWRQcm9qZWN0cy5tYXAoUHJvamVjdCA9PiBQcm9qZWN0LmNyZWF0ZUxpc3QodGl0bGUsIGlkKSlcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIFxyXG4qL1xyXG5cclxuZXhwb3J0IHsgcmV0cmlldmVJdGVtLCBjaGVja0ZvclByb2plY3RzLCByZWNvbnN0cnVjdEN1cnJlbnRQcm9qZWN0IH07XHJcbiIsImltcG9ydCBQcm9qZWN0IGZyb20gXCIuL1Byb2plY3QuanNcIjtcclxuaW1wb3J0IHsgY2hlY2tGb3JMaXN0cyB9IGZyb20gXCIuL0xpc3QvTGlzdEhhbmRsZXIuanNcIjtcclxuaW1wb3J0IHsgY3JlYXRlTGlzdCB9IGZyb20gXCIuL0V2ZW50SGFuZGxlci5qc1wiO1xyXG5pbXBvcnQgc3RvcmUgZnJvbSBcIi4vc3RvcmUuanNcIjtcclxuaW1wb3J0IHB1YlN1YiBmcm9tIFwiLi9wdWJTdWIuanNcIjtcclxuaW1wb3J0IHsgcmV0cmlldmVJdGVtLCByZWNvbnN0cnVjdFByb2plY3RzIH0gZnJvbSBcIi4vbG9jYWxTdG9yYWdlSGVscGVyLmpzXCI7XHJcblxyXG5jb25zdCBVc2VySW50ZXJmYWNlID0gKCgpID0+IHtcclxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGlzdC1pbnB1dFwiKTtcclxuXHJcbiAgY29uc3QgaW5pdCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0ID0gc3RvcmUuZ2V0Q3VycmVudFByb2plY3QoKTtcclxuXHJcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG4gICAgICBjcmVhdGVMaXN0KGUsIGN1cnJlbnRQcm9qZWN0KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IGluaXQgfTtcclxufSkoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJJbnRlcmZhY2U7XHJcbiIsImltcG9ydCBQcm9qZWN0IGZyb20gXCIuL1Byb2plY3QuanNcIjtcclxuaW1wb3J0IHB1YlN1YiBmcm9tIFwiLi9wdWJTdWIuanNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRGVmYXVsdExpc3QgfSBmcm9tIFwiLi9MaXN0L0xpc3RIYW5kbGVyXCI7XHJcbmltcG9ydCBzdG9yZSBmcm9tIFwiLi9zdG9yZS5qc1wiO1xyXG5cclxuY29uc3QgY3JlYXRlRGVmYXVsdFByb2plY3QgPSAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJDcmVhdGluZyBkZWZhdWx0IHByb2plY3RcIik7XHJcbiAgY29uc3QgZGVmYXVsdFByb2plY3QgPSBQcm9qZWN0KFwiRGVmYXVsdFwiKTtcclxuICBzdG9yZS5zZXRDdXJyZW50UHJvamVjdChkZWZhdWx0UHJvamVjdCk7XHJcblxyXG4gIHB1YlN1Yi5wdWJsaXNoKFwicHJvamVjdENyZWF0ZWRcIiwgZGVmYXVsdFByb2plY3QpO1xyXG4gIGNyZWF0ZURlZmF1bHRMaXN0KGRlZmF1bHRQcm9qZWN0KTtcclxuICByZXR1cm4gZGVmYXVsdFByb2plY3Q7XHJcbn07XHJcblxyXG5leHBvcnQgeyBjcmVhdGVEZWZhdWx0UHJvamVjdCB9O1xyXG4iLCJpbXBvcnQgcmVuZGVyTGlzdCBmcm9tIFwiLi9MaXN0UmVuZGVyZXIuanNcIjtcclxuaW1wb3J0IHB1YlN1YiBmcm9tIFwiLi4vcHViU3ViLmpzXCI7XHJcblxyXG4vKlxyXG4gIEZsb3c6XHJcbiAgUmV0cmlldmUgbG9jYWxTdG9yYWdlXHJcbiAgSWYgbm8gc3RvcmFnZSBpcyBhdmFpbGFibGUsIHRoZW4gY3JlYXRlIHRoZSBkZWZhdWx0IGxpc3QuXHJcbiAgRWxzZSwgcmVuZGVyIHRoZSBzdG9yZWQgTGlzdC5cclxuICAgIFRoZW4sIHJlbmRlciB0aGUgc3RvcmVkIHRhc2tzIGlmIHRoZXJlIGFyZSB0YXNrc1xyXG5cclxuKi9cclxuXHJcbmNvbnN0IGNyZWF0ZURlZmF1bHRMaXN0ID0gKGRlZmF1bHRQcm9qZWN0KSA9PiB7XHJcbiAgY29uc3QgaGFiaXRMaXN0ID0gZGVmYXVsdFByb2plY3QuY3JlYXRlTGlzdChcIkhhYml0c1wiKTtcclxuICBjb25zdCBmaXJzdFRhc2sgPSBoYWJpdExpc3QuY3JlYXRlVGFzayhcIkNyZWF0ZSB5b3VyIGZpcnN0IGhhYml0IVwiKTtcclxuICBwdWJTdWIucHVibGlzaChcImxpc3RDcmVhdGVkXCIsIGhhYml0TGlzdCk7XHJcbiAgcHViU3ViLnB1Ymxpc2goXCJ0YXNrQ3JlYXRlZFwiLCB7IGxpc3Q6IGhhYml0TGlzdCwgdGFzazogZmlyc3RUYXNrIH0pO1xyXG59O1xyXG5cclxuLy8gTWF5IGJlIHVzZWxlc3Mgbm93XHJcblxyXG4vLyBjb25zdCBjaGVja0Zvckxpc3RzID0gKGN1cnJlbnRQcm9qZWN0KSA9PiB7XHJcbi8vICAgY29uc29sZS5sb2coY3VycmVudFByb2plY3QpO1xyXG4vLyAgIGNvbnN0IGxpc3RzID0gY3VycmVudFByb2plY3QuZ2V0TGlzdHMoKTtcclxuLy8gICBpZiAobGlzdHMubGVuZ3RoKSB7XHJcbi8vICAgICAvLyBUaGlzIGlzIHJlbmRlcmluZyBldmVyeSB0YXNrIHdpdGhpbiB0aGUgbGlzdCByaWdodCBub3cgZXZlbiBpZiB0aGVyZSBhcmUgbm9uZS5cclxuLy8gICAgIGxpc3RzLmZvckVhY2goKGxpc3QpID0+IHJlbmRlckxpc3QobGlzdCkpO1xyXG4vLyAgIH0gZWxzZSB7XHJcbi8vICAgICBjcmVhdGVEZWZhdWx0TGlzdChjdXJyZW50UHJvamVjdCk7XHJcbi8vICAgfVxyXG4vLyB9O1xyXG5cclxuZXhwb3J0IHsgY3JlYXRlRGVmYXVsdExpc3QgfTtcclxuIiwiaW1wb3J0IHJlbmRlckxpc3QgZnJvbSBcIi4vbW9kdWxlcy9MaXN0L0xpc3RSZW5kZXJlci5qc1wiO1xyXG5pbXBvcnQgVXNlckludGVyZmFjZSBmcm9tIFwiLi9tb2R1bGVzL1VzZXJJbnRlcmZhY2UuanNcIjtcclxuXHJcbmltcG9ydCB7IGNoZWNrRm9yUHJvamVjdHMgfSBmcm9tIFwiLi9tb2R1bGVzL2xvY2FsU3RvcmFnZUhlbHBlci5qc1wiO1xyXG5cclxuY2hlY2tGb3JQcm9qZWN0cygpO1xyXG5jb25zdCBVSSA9IFVzZXJJbnRlcmZhY2U7XHJcblVJLmluaXQoKTtcclxuIl0sIm5hbWVzIjpbImFwcGVuZEN1c3RvbUVsZW1lbnQiLCJjcmVhdGVDdXN0b21FbGVtZW50Iiwib3B0aW9ucyIsInRhZ05hbWUiLCJjbGFzc0xpc3QiLCJ0ZXh0Q29udGVudCIsImF0dHJpYnV0ZXMiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYWRkIiwiQXJyYXkiLCJpc0FycmF5IiwiYXR0ciIsInZhbHVlIiwic2V0QXR0cmlidXRlIiwidGFyZ2V0IiwidGFyZ2V0RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRDaGlsZCIsImN1c3RvbUVsZW1lbnRIZWxwZXIiLCJkYXRlU3RyaW5nIiwiZGF0ZSIsIkRhdGUiLCJzZXRIb3VycyIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIm1vbnRoIiwiZGF5IiwieWVhciIsImV2ZW50cyIsImdldEV2ZW50cyIsInN1YnNjcmliZSIsImV2ZW50IiwiY2FsbGJhY2siLCJpbmRleCIsImNvbnNvbGUiLCJsb2ciLCJoYXNPd25Qcm9wZXJ0eSIsInB1c2giLCJ1bnN1YnNjcmliZSIsInNwbGljZSIsInB1Ymxpc2giLCJkYXRhIiwibWFwIiwiY3VycmVudExpc3QiLCJ0YXNrSWQiLCJfX2NyZWF0ZUZvcm1FbGVtZW50cyIsInRhc2siLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJ0aXRsZSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJ2YWx1ZUFzRGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZGlmZmljdWx0eSIsIm9wdGlvbkVsZW1lbnRzIiwib3B0aW9uIiwiYXBwZW5kIiwiZm9ybUJ1dHRvbnMiLCJfX2NyZWF0ZUZvcm1CdXR0b25zIiwiZGl2Iiwic3VibWl0QnRuIiwiY2FuY2VsQnRuIiwib25jbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm0iLCJjbG9zZXN0IiwidGFza0NvbnRhaW5lciIsInBhcmVudE5vZGUiLCJtYWluRGV0YWlscyIsInJlbW92ZSIsIm1haW5EZXRhaWxzRWxlbWVudHMiLCJjcmVhdGVNYWluRGV0YWlsc0VsZW1lbnRzIiwiY2FuY2VsRm9ybSIsImdldFRhc2tCeUlkIiwiYXBwZW5kRWRpdFRhc2tGb3JtIiwiZWRpdEZvcm0iLCJpZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJsaXN0IiwiYm90dG9tUGFuZWwiLCJGb3JtRGF0YSIsIm5ld1ZhbHVlcyIsInVwZGF0ZWRUYXNrIiwidXBkYXRlVGFzayIsInJlcGxhY2VDaGlsZHJlbiIsImJvdHRvbVBhbmVsRWxlbWVudHMiLCJjcmVhdGVCb3R0b21QYW5lbEVsZW1lbnRzIiwic3VibWl0Rm9ybSIsIl9fY3JlYXRlRWRpdFRhc2tGb3JtIiwiZXZlbnRIYW5kbGVyIiwic2V0RWRpdE1vZGUiLCJ0YXNrRWxlbWVudCIsImNvbnRhaW5zIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJmb3JFYWNoIiwidGV4dGFyZWEiLCJrZXkiLCJzaGlmdEtleSIsInN1Ym1pdEV2ZW50IiwiRXZlbnQiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImRpc3BhdGNoRXZlbnQiLCJzZXRQcmlvcml0eSIsInByaW9yaXR5Iiwic3JjIiwidG9nZ2xlIiwiZGVsZXRlVGFzayIsInJlbW92ZVRhc2siLCJ0b29scyIsImltZ1NyYyIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJjcmVhdGVUb29sYmFyIiwidG9vbGJhckNvbnRhaW5lciIsInRvb2wiLCJidG4iLCJpbWciLCJfX2NyZWF0ZUJ0bnMiLCJyZW5kZXJUYXNrIiwiX19hcHBlbmRUYXNrRWxlbWVudHMiLCJ0YXNrc0NvbnRhaW5lciIsImdldElkIiwidGFza0VsZW1lbnRzIiwiX19jcmVhdGVUYXNrRWxlbWVudHMiLCJwcmVwZW5kIiwiZGF0YXNldCIsInRvb2xiYXIiLCJfX3JlbmRlck1haW5EZXRhaWxzIiwiX19yZW5kZXJCb3R0b21QYW5lbCIsImVkaXRUYXNrIiwidG9nZ2xlRGV0YWlscyIsInN0eWxlIiwib3BhY2l0eSIsInZpc2liaWxpdHkiLCJtYWluRGV0YWlsc0NvbnRhaW5lciIsImRpZmZpY3VsdHlFbCIsImdldFRhc2tEaWZmaWN1bHR5IiwiZHVlRGF0ZUVsIiwiYXV0b1Jlc2l6ZSIsInRoaXMiLCJoZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJlbCIsInByZXZpb3VzIiwiY2xvbmVOb2RlIiwiaW5wdXQiLCJjdXJyZW50VGFzayIsIndvcmRCcmVhayIsInJlcGxhY2VXaXRoIiwiYmx1ciIsIm9uY2UiLCJmb2N1cyIsImV4cGFuZGVkRGV0YWlscyIsImV4cGFuZGVkVGFzayIsImV4cGFuZGVkRGl2IiwiX19jcmVhdGVFeHBhbmRlZFRhc2siLCJhZnRlciIsInJlbmRlckV4cGFuZGVkVGFzayIsInJlbmRlckxpc3QiLCJfX2FwcGVuZExpc3RDb250YWluZXIiLCJfX2FwcGVuZExpc3RBbmRUaXRsZUVsZW1lbnRzIiwiX19hcHBlbmRUYXNrQ29udGFpbmVyIiwibGlzdEVsZW1lbnQiLCJnZXRUaXRsZSIsIl9fY3JlYXRlVGFza0Zvcm0iLCJ0YXNrRm9ybSIsInRhc2tJbnB1dCIsIm5ld1Rhc2siLCJjcmVhdGVUYXNrIiwiY3VycmVudFByb2plY3QiLCJnZXRDdXJyZW50UHJvamVjdCIsInNldEN1cnJlbnRQcm9qZWN0IiwicHJvamVjdCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJzbGljZSIsInRhc2tzIiwidGFza01hbmFnZXIiLCJ0YXNrTGlzdCIsImdldFRhc2tCeUluZGV4IiwiZmluZEluZGV4IiwiZmluZCIsImxlbmd0aCIsInVwZGF0ZWRFbnRyeSIsInRhc2tJbmRleCIsImdldFRhc2tzIiwibGlzdHMiLCJnZXRMaXN0cyIsImNyZWF0ZUxpc3QiLCJnZXRMaXN0QnlJZCIsImxpc3RJZCIsImxpc3RJbmRleCIsInJldHJpZXZlSXRlbSIsInN0b3JlZFN0cmluZyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJfX3JlY29uc3RydWN0TGlzdHMiLCJyZWNvbnN0cnVjdGVkTGlzdCIsIl9fcmVjb25zdHJ1Y3RUYXNrcyIsInVwZGF0ZWRQcm9qZWN0cyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJyZXRyaWV2ZUN1cnJQcm9qSWR4IiwicHJvakluZGV4IiwicmV0cmlldmVMaXN0SW5kZXgiLCJzdG9yZWRUYXNrcyIsInJldHJpZXZlVGFza0luZGV4IiwicHJvamVjdHNJblN0b3JhZ2UiLCJhcnJheSIsImluaXQiLCJuZXdMaXN0IiwiZGVmYXVsdFByb2plY3QiLCJoYWJpdExpc3QiLCJmaXJzdFRhc2siLCJjcmVhdGVEZWZhdWx0TGlzdCIsImNyZWF0ZURlZmF1bHRQcm9qZWN0IiwiY3VycmVudFByb2oiLCJnZXRTdG9yZWRQcm9qZWN0cyIsInJlY29uc3RydWN0ZWRQcm9qZWN0IiwicmVjb25zdHJ1Y3RDdXJyZW50UHJvamVjdCIsImNoZWNrRm9yUHJvamVjdHMiXSwic291cmNlUm9vdCI6IiJ9