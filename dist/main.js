(()=>{"use strict";const t=(t,e=crypto.randomUUID().slice(0,8))=>{const a=[],s=(t=>{const e=e=>t.findIndex((t=>t.id===e));return{getTaskById:e=>t.find((t=>t.id===e)),createTask:e=>(t.push({id:crypto.randomUUID().slice(0,8),title:e}),t[t.length-1]),updateTask:(a,s)=>{const n=e(a);return t[n]={...t[n],...s},t[n]},removeTask:a=>{const s=e(a);t.splice(s,1)}}})(a);return{getTitle:()=>t,getId:()=>e,getTasks:()=>a,createTask:t=>s.createTask(t),getTaskById:t=>s.getTaskById(t),updateTask:(t,e)=>s.updateTask(t,e),removeTask:t=>s.removeTask(t)}},{appendCustomElement:e,createCustomElement:a}=(()=>{function t(t){const{tagName:e,classList:a,textContent:s,attributes:n}=t,r=document.createElement(e);if("string"==typeof a?r.classList.add(a):Array.isArray(a)&&r.classList.add(...a),s&&(r.textContent=s),Array.isArray(n)){const[t,e]=n;r.setAttribute(t,e)}return r}return{appendCustomElement:function(e){const{target:a}=e,s=document.querySelector(a),n=t(e);s.appendChild(n)},createCustomElement:t}})(),{handleCreateListInput:s,handleCreateTaskInput:n,editTask:r,toggleDetails:i}=(()=>{function t(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}return{handleCreateListInput:(t,e)=>{if("Enter"===t.key){t.preventDefault();const a=t.target.value,s=e.createList(a);p([s]),t.target.value=""}},handleCreateTaskInput:(t,e,a)=>{if("Enter"===t.key){t.preventDefault();const s=t.target.value,n=a.createTask(s),r=l([n],a);u(e.querySelector(".tasks-container"),r),t.target.value=""}},editTask:(e,a,s)=>{const n=e.target;if(!n.classList.contains("task-title"))return;const r=n.cloneNode(!0),i=document.createElement("textarea"),c=s.getTaskById(a);i.classList.add("temp-input"),i.value=c.title,i.style.wordBreak="break-word",n.replaceWith(i),i.style.height="auto",i.style.height=i.scrollHeight+"px",i.addEventListener("keydown",(t=>{"Enter"===t.key&&i.blur()})),i.addEventListener("blur",(()=>{s.updateTask(a,{title:i.value}),r.textContent=i.value,i.replaceWith(r)}),{once:!0}),i.addEventListener("input",t,!1),i.focus()},toggleDetails:(t,e,a)=>{const s=e.getTaskById(a);if("IMG"===t.target.tagName||"P"===t.target.tagName||"TEXTAREA"===t.target.tagName)return;const n=t.target.closest(".task"),r=n.querySelector(".expanded-details");n.classList.contains("isEditable")||(r?(r.remove(),n.classList.remove("expanded")):(m(n,s),n.classList.add("expanded")))}}})(),c=t=>{if(!t)return"";const e=new Date(t);return e.setHours(24,0,0,0),e.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"})},o=(t,e)=>{const s=t=>{const e=document.createDocumentFragment(),s=a({tagName:"textarea",classList:"edit-title"});s.value=t.title,s.name="title";const r=a({tagName:"textarea",classList:"edit-description",attributes:["placeholder","Add a description"]});r.value=t.description||"",r.name="description";const i=a({tagName:"input",attributes:["type","date"],classList:"edit-date"}),c=new Date;t.dueDate?i.value=t.dueDate:i.valueAsDate=new Date(c.getFullYear(),c.getMonth(),c.getDate(),12),i.name="dueDate";const o=a({tagName:"select",classList:"edit-difficulty"});o.value=t.difficulty,o.name="difficulty";const d=["Easy","Medium","Hard"].map((t=>a({tagName:"option",textContent:t,attributes:["value",`${t}`]})));o.append(...d);const l=n();return e.append(s,r,i,o,l),e},n=()=>{const e=a({tagName:"div",classList:"form-controls"}),s=a({tagName:"button",classList:"submit-btn",textContent:"Submit"}),n=a({tagName:"button",classList:"cancel-btn",textContent:"Cancel"});return n.onclick=e=>((t,e,a)=>{t.preventDefault();const s=taskContainer.querySelector(".main-details");t.target.closest("form").remove(),taskContainer.classList.remove("isEditable");const n=e.updateTask(a,obj),r=g(n);s.append(r)})(e,t,task.id),e.append(n,s),e};return{appendEditTaskForm:a=>{const n=(()=>{const a=document.createElement("form"),n=t.getTaskById(e);return a.id="edit-task",a.append(s(n)),a.addEventListener("submit",(e=>{((t,e,a)=>{t.preventDefault();const s=t.target,n=s.parentNode,r=n.querySelector(".main-details"),i=new FormData(s),c={};for(const[t,e]of i)c[t]=e;const o=e.updateTask(a.id,c);s.remove();const d=g(o);r.append(d),n.classList.remove("isEditable")})(e,t,n)})),a})();return a.append(n),n}}},d=(t,e)=>{const s=((t,e)=>({setEditMode:a=>{const s=a.target.closest(".task");if(s.classList.contains("isEditable"))return;const n=s.querySelector(".main-details");s.classList.add("isEditable"),n.replaceChildren(),s.classList.contains("expanded")&&(s.querySelector(".expanded-details").remove(),s.classList.remove("expanded"));const r=o(t,e.id).appendEditTaskForm(s);[...r.getElementsByTagName("textarea")].forEach((t=>{t.addEventListener("keydown",(t=>{if("Enter"===t.key&&!t.shiftKey){t.preventDefault();const e=new Event("submit",{bubbles:!0,cancelable:!0});r.dispatchEvent(e)}}))}))},setPriority:a=>{t.getTaskById(e.id).priority?(t.updateTask(e.id,{priority:!1}),a.target.closest("img").src="../src/imgs/noun-star-4485746.svg"):(t.updateTask(e.id,{priority:!0}),a.target.closest("img").src="../src/imgs/noun-star-4485827.svg"),a.target.closest(".task").classList.toggle("isPriority"),a.target.closest("img").classList.toggle("filter-gray"),a.target.closest("img").classList.toggle("filter-yellow")},deleteTask:a=>{t.removeTask(e.id),a.target.closest(".task").remove()}}))(t,e),n=[{name:"Edit",imgSrc:"../src/imgs/noun-quill-4626718.svg",className:"filter-gray",onClick:t=>s.setEditMode(t)},{name:"Set Priority",imgSrc:"../src/imgs/noun-star-4485746.svg",className:"filter-gray",onClick:t=>s.setPriority(t)},{name:"Delete",imgSrc:"../src/imgs/noun-skull-4485674.svg",className:"filter-red",onClick:t=>s.deleteTask(t)}];return{createToolbar:()=>{const t=a({tagName:"div",classList:"toolbar"});return t.append((t=>{const e=document.createDocumentFragment();return t.forEach((t=>{const{name:s,imgSrc:n,className:r,onClick:i}=t,c=a({tagName:"button",attributes:["aria-label",`${s}`]}),o=a({tagName:"img",attributes:["src",`${n}`],classList:r});c.onclick=i,c.append(o),e.append(c)})),e})(n)),t}}},{createTaskElements:l,renderTaskElements:u,renderExpandedTask:m,createMainDetailsElements:g}=(()=>{const t=t=>{const e=document.createDocumentFragment(),s=a({tagName:"p",classList:"task-title",textContent:t.title}),n=t.description?a({tagName:"p",classList:"task-description",textContent:t.description}):" ";return e.append(s,n),e};return{createTaskElements:(e,a)=>e.map((e=>{const s=document.createElement("div");s.className="task",s.dataset.id=e.id;const n=d(a,e).createToolbar(a,s),c=(e=>{const a=document.createElement("div");return a.classList.add("main-details"),a.appendChild(t(e)),a})(e);return s.append(n),s.append(c),s.addEventListener("dblclick",(t=>{r(t,e.id,a)})),s.addEventListener("click",(t=>{i(t,a,e.id)})),s.addEventListener("mouseover",(()=>{n.style.opacity="1",n.style.visibility="visible"})),s.addEventListener("mouseout",(()=>{n.style.opacity="0",n.style.visibility="hidden"})),s})),renderTaskElements:(t,e)=>{t.prepend(...e)},renderExpandedTask:(t,e)=>{const s=(t=>{const{dueDate:e,difficulty:s}=t,n=document.createDocumentFragment(),r=document.createElement("div");return r.classList.add("expanded-details"),n.append(r),r.append(a({tagName:"p",classList:"due-date",textContent:c(e)})),console.log(e),r.append(a({tagName:"p",classList:"difficulty",textContent:s})),n})(e);return t.append(s),s},createMainDetailsElements:t}})(),{renderListElements:p}={renderListElements:t=>{t.forEach((t=>{const s=t.getId();(t=>{e({target:".list-container",tagName:"div",classList:["list"],attributes:["data-id",t]})})(s),((t,s)=>{const r=document.querySelector(`[data-id="${s}"]`);e({target:`[data-id="${s}"]`,tagName:"h2",textContent:t.getTitle()}),r.appendChild(((t,e)=>{const s=document.createElement("form");s.className="task-form";const r=a({tagName:"input",classList:"task-input",attributes:["placeholder","Add a task"]});return s.appendChild(r),r.addEventListener("keydown",(a=>{n(a,t,e)})),s})(r,t))})(t,s),(t=>{e({target:`[data-id="${t}"]`,tagName:"div",classList:"tasks-container"})})(s),((t,e)=>{const a=document.querySelector(`[data-id="${e}"]`).querySelector(".tasks-container"),s=l(t.getTasks(),t);u(a,s)})(t,s)}))}},{checkForLists:k}={checkForLists:t=>{const e=t.getLists();e.length?p(e):((t=>{t.createList("Habits").createTask("Create your first habit!")})(t),p(t.getLists()))}},y=((e=crypto.randomUUID().slice(0,8))=>{const a=[];return{getId:()=>e,getLists:()=>a,createList:e=>(a.push(t(e)),a[a.length-1]),findList:t=>{const e=a.findIndex((e=>e.id===t));return a[e]}}})();sessionStorage.setItem("currentProject",JSON.stringify(y)),console.log(JSON.parse(sessionStorage.currentProject)),(()=>{const t=document.querySelector("#list-input");return{init:()=>{k(y),t.addEventListener("keydown",(t=>{s(t,y)}))}}})().init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU02SCxFQUFlN0gsRUFBZThILFdBQ2hDRCxFQUFhckssT0FDZjZDLEVBQW1Cd0gsSUFSRyxDQUFDN0gsSUFDUEEsRUFBZUksV0FBVyxVQUNsQzlDLFdBQVcsMkJBQTJCLEVBUTlDeUssQ0FBa0IvSCxHQUNsQkssRUFBbUJMLEVBQWU4SCxZQUNwQyxHQ1hFOUgsRUNGVSxFQUFDdkQsRUFBS0MsT0FBT0MsYUFBYUMsTUFBTSxFQUFHLE1BQ2pELE1BQU1xSyxFQUFRLEdBZ0JkLE1BQU8sQ0FBRWxKLE1BZEssSUFBTXRCLEVBY0pxTCxTQVpDLElBQU1iLEVBWUc3RyxXQVZONUQsSUFDbEJ5SyxFQUFNMUosS0FBSyxFQUFLZixJQUNUeUssRUFBTUEsRUFBTXpKLE9BQVMsSUFRUXdLLFNBTHBCZCxJQUNoQixNQUFNZSxFQUFZaEIsRUFBTS9KLFdBQVdvRCxHQUFTQSxFQUFLN0QsS0FBT3lLLElBQ3hELE9BQU9ELEVBQU1nQixFQUFVLEVBR3VCLEVEZjNCLEdBQ3ZCQyxlQUFlQyxRQUFRLGlCQUFrQkMsS0FBS0MsVUFBVXJJLElBQ3hENkcsUUFBUUMsSUFBSXNCLEtBQUtFLE1BQU1KLGVBQWVsSSxpQkFFaEIsTUFDcEIsTUFBTWdCLEVBQVF2QyxTQUFTVSxjQUFjLGVBVXJDLE1BQU8sQ0FBRW9KLEtBUkksS0FDWFgsRUFBYzVILEdBRWRnQixFQUFNSSxpQkFBaUIsV0FBWXJCLElBQ2pDVCxFQUFzQlMsRUFBR0MsRUFBZSxHQUN4QyxFQUlMLEVBWnFCLEdFSG5CdUksTSIsInNvdXJjZXMiOlsid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL1Rhc2tNYW5hZ2VyLmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL0xpc3QuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvY3VzdG9tRWxlbWVudEhlbHBlci5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9FdmVudEhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvZm9ybWF0RGF0ZUhlbHBlci5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9Gb3JtUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvRm9ybUV2ZW50SGFuZGxlcnMuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvVG9vbGJhci5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9Ub29sYmFyRXZlbnRIYW5kbGVyLmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL1Rhc2tSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9MaXN0UmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvTGlzdEhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvVXNlckludGVyZmFjZS5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9Qcm9qZWN0LmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBUYXNrTWFuYWdlciA9ICh0YXNrTGlzdCkgPT4ge1xyXG4gIGNvbnN0IGdldFRhc2tCeUlkID0gKHRhc2tJZCkgPT4ge1xyXG4gICAgcmV0dXJuIHRhc2tMaXN0LmZpbmQoKHRhc2spID0+IHRhc2suaWQgPT09IHRhc2tJZCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0VGFza0J5SW5kZXggPSAodGFza0lkKSA9PiB7XHJcbiAgICByZXR1cm4gdGFza0xpc3QuZmluZEluZGV4KCh0YXNrKSA9PiB0YXNrLmlkID09PSB0YXNrSWQpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNyZWF0ZVRhc2sgPSAodGl0bGUpID0+IHtcclxuICAgIHRhc2tMaXN0LnB1c2goe1xyXG4gICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKS5zbGljZSgwLCA4KSxcclxuICAgICAgdGl0bGUsXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0YXNrTGlzdFt0YXNrTGlzdC5sZW5ndGggLSAxXTtcclxuICB9O1xyXG5cclxuICBjb25zdCB1cGRhdGVUYXNrID0gKHRhc2tJZCwgdXBkYXRlZEVudHJ5KSA9PiB7XHJcbiAgICBjb25zdCB0YXNrSW5kZXggPSBnZXRUYXNrQnlJbmRleCh0YXNrSWQpO1xyXG4gICAgdGFza0xpc3RbdGFza0luZGV4XSA9IHsgLi4udGFza0xpc3RbdGFza0luZGV4XSwgLi4udXBkYXRlZEVudHJ5IH07XHJcbiAgICByZXR1cm4gdGFza0xpc3RbdGFza0luZGV4XTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZW1vdmVUYXNrID0gKHRhc2tJZCkgPT4ge1xyXG4gICAgY29uc3QgdGFza0luZGV4ID0gZ2V0VGFza0J5SW5kZXgodGFza0lkKTtcclxuICAgIHRhc2tMaXN0LnNwbGljZSh0YXNrSW5kZXgsIDEpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IGdldFRhc2tCeUlkLCBjcmVhdGVUYXNrLCB1cGRhdGVUYXNrLCByZW1vdmVUYXNrIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUYXNrTWFuYWdlcjtcclxuIiwiaW1wb3J0IFRhc2tNYW5hZ2VyIGZyb20gXCIuL1Rhc2tNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCBMaXN0ID0gKHRpdGxlLCBpZCA9IGNyeXB0by5yYW5kb21VVUlEKCkuc2xpY2UoMCwgOCkpID0+IHtcclxuICBjb25zdCB0YXNrcyA9IFtdO1xyXG4gIGNvbnN0IHRhc2tNYW5hZ2VyID0gVGFza01hbmFnZXIodGFza3MpO1xyXG5cclxuICBjb25zdCBnZXRUaXRsZSA9ICgpID0+IHRpdGxlO1xyXG4gIGNvbnN0IGdldElkID0gKCkgPT4gaWQ7XHJcbiAgY29uc3QgZ2V0VGFza3MgPSAoKSA9PiB0YXNrcztcclxuXHJcbiAgY29uc3QgY3JlYXRlVGFzayA9ICh0aXRsZSkgPT4ge1xyXG4gICAgcmV0dXJuIHRhc2tNYW5hZ2VyLmNyZWF0ZVRhc2sodGl0bGUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldFRhc2tCeUlkID0gKHRhc2tJZCkgPT4ge1xyXG4gICAgcmV0dXJuIHRhc2tNYW5hZ2VyLmdldFRhc2tCeUlkKHRhc2tJZCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdXBkYXRlVGFzayA9ICh0YXNrSWQsIHVwZGF0ZWRFbnRyeSkgPT4ge1xyXG4gICAgcmV0dXJuIHRhc2tNYW5hZ2VyLnVwZGF0ZVRhc2sodGFza0lkLCB1cGRhdGVkRW50cnkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbW92ZVRhc2sgPSAodGFza0lkKSA9PiB7XHJcbiAgICByZXR1cm4gdGFza01hbmFnZXIucmVtb3ZlVGFzayh0YXNrSWQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBnZXRUaXRsZSxcclxuICAgIGdldElkLFxyXG4gICAgZ2V0VGFza3MsXHJcbiAgICBjcmVhdGVUYXNrLFxyXG4gICAgZ2V0VGFza0J5SWQsXHJcbiAgICB1cGRhdGVUYXNrLFxyXG4gICAgcmVtb3ZlVGFzayxcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGlzdDtcclxuIiwiY29uc3QgY3VzdG9tRWxlbWVudEhlbHBlciA9ICgpID0+IHtcclxuICAvLyBQYXNzIGluIGEgb2JqZWN0IG9mIHsgW3RhcmdldF0uLCB0YWdOYW1lLCBjbGFzc0xpc3QsIHRleHRDb250ZW50LCBhdHRyaWJ1dGVzIH1cclxuICBmdW5jdGlvbiBhcHBlbmRDdXN0b21FbGVtZW50KG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcclxuXHJcbiAgICBjb25zdCBlbGVtZW50ID0gY3JlYXRlQ3VzdG9tRWxlbWVudChvcHRpb25zKTtcclxuICAgIHRhcmdldEVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVDdXN0b21FbGVtZW50KG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IHsgdGFnTmFtZSwgY2xhc3NMaXN0LCB0ZXh0Q29udGVudCwgYXR0cmlidXRlcyB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xyXG5cclxuICAgIGlmICh0eXBlb2YgY2xhc3NMaXN0ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc0xpc3QpO1xyXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNsYXNzTGlzdCkpIHtcclxuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTGlzdCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGV4dENvbnRlbnQpIHtcclxuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHRDb250ZW50O1xyXG4gICAgfVxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXR0cmlidXRlcykpIHtcclxuICAgICAgY29uc3QgW2F0dHIsIHZhbHVlXSA9IGF0dHJpYnV0ZXM7XHJcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBlbGVtZW50O1xyXG4gIH1cclxuICByZXR1cm4geyBhcHBlbmRDdXN0b21FbGVtZW50LCBjcmVhdGVDdXN0b21FbGVtZW50IH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgeyBhcHBlbmRDdXN0b21FbGVtZW50LCBjcmVhdGVDdXN0b21FbGVtZW50IH0gPVxyXG4gIGN1c3RvbUVsZW1lbnRIZWxwZXIoKTtcclxuIiwiaW1wb3J0IHsgcmVuZGVyTGlzdEVsZW1lbnRzIH0gZnJvbSBcIi4vTGlzdFJlbmRlcmVyLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlVGFza0VsZW1lbnRzLFxyXG4gIHJlbmRlclRhc2tFbGVtZW50cyxcclxuICByZW5kZXJFeHBhbmRlZFRhc2ssXHJcbn0gZnJvbSBcIi4vVGFza1JlbmRlcmVyLmpzXCI7XHJcblxyXG5jb25zdCBFdmVudEhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTGlzdElucHV0ID0gKGUsIGN1cnJlbnRQcm9qZWN0KSA9PiB7XHJcbiAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IHRpdGxlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgICBjb25zdCBuZXdMaXN0ID0gY3VycmVudFByb2plY3QuY3JlYXRlTGlzdCh0aXRsZSk7XHJcbiAgICAgIHJlbmRlckxpc3RFbGVtZW50cyhbbmV3TGlzdF0pO1xyXG5cclxuICAgICAgZS50YXJnZXQudmFsdWUgPSBcIlwiO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZVRhc2tJbnB1dCA9IChlLCB0YXJnZXQsIGxpc3QpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgdGl0bGUgPSBlLnRhcmdldC52YWx1ZTtcclxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IHRhc2sgZW50cnkgaW4gbGlzdCBhcnJheVxyXG4gICAgICBjb25zdCBuZXdUYXNrID0gbGlzdC5jcmVhdGVUYXNrKHRpdGxlKTtcclxuICAgICAgLy8gQ3JlYXRlIGFuZCByZW5kZXIgdGFzayBlbGVtZW50c1xyXG4gICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGNyZWF0ZVRhc2tFbGVtZW50cyhbbmV3VGFza10sIGxpc3QpO1xyXG4gICAgICByZW5kZXJUYXNrRWxlbWVudHModGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIudGFza3MtY29udGFpbmVyXCIpLCB0YXNrRWxlbWVudCk7XHJcblxyXG4gICAgICBlLnRhcmdldC52YWx1ZSA9IFwiXCI7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gUmVmYWN0b3IgdGhpcyBtZXNzIGxhdGVyXHJcbiAgZnVuY3Rpb24gYXV0b1Jlc2l6ZSgpIHtcclxuICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XHJcbiAgICB0aGlzLnN0eWxlLmhlaWdodCA9IHRoaXMuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZWRpdFRhc2sgPSAoZSwgdGFza0lkLCBjdXJyZW50TGlzdCkgPT4ge1xyXG4gICAgY29uc3QgZWwgPSBlLnRhcmdldDtcclxuICAgIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwidGFzay10aXRsZVwiKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBwcmV2aW91cyA9IGVsLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xyXG4gICAgY29uc3QgY3VycmVudFRhc2sgPSBjdXJyZW50TGlzdC5nZXRUYXNrQnlJZCh0YXNrSWQpO1xyXG5cclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJ0ZW1wLWlucHV0XCIpO1xyXG4gICAgaW5wdXQudmFsdWUgPSBjdXJyZW50VGFzay50aXRsZTtcclxuICAgIC8vIGlucHV0LnN0eWxlLndyYXAgPSBcInNvZnRcIjtcclxuICAgIGlucHV0LnN0eWxlLndvcmRCcmVhayA9IFwiYnJlYWstd29yZFwiO1xyXG5cclxuICAgIGVsLnJlcGxhY2VXaXRoKGlucHV0KTtcclxuICAgIGlucHV0LnN0eWxlLmhlaWdodCA9IFwiYXV0b1wiO1xyXG4gICAgaW5wdXQuc3R5bGUuaGVpZ2h0ID0gaW5wdXQuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xyXG5cclxuICAgIGNvbnN0IHNhdmUgPSAoKSA9PiB7XHJcbiAgICAgIC8vIFNhdmUgdGhlIGlucHV0IHZhbHVlIGludG8gdGhlIHNlbGVjdGVkIHRhc2tcclxuICAgICAgY3VycmVudExpc3QudXBkYXRlVGFzayh0YXNrSWQsIHsgdGl0bGU6IGlucHV0LnZhbHVlIH0pO1xyXG4gICAgICBwcmV2aW91cy50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlO1xyXG4gICAgICBpbnB1dC5yZXBsYWNlV2l0aChwcmV2aW91cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XHJcbiAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XHJcbiAgICAgICAgaW5wdXQuYmx1cigpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCBzYXZlLCB7XHJcbiAgICAgIG9uY2U6IHRydWUsXHJcbiAgICB9KTtcclxuXHJcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgYXV0b1Jlc2l6ZSwgZmFsc2UpO1xyXG4gICAgaW5wdXQuZm9jdXMoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCB0b2dnbGVEZXRhaWxzID0gKGUsIGN1cnJlbnRMaXN0LCB0YXNrSWQpID0+IHtcclxuICAgIGNvbnN0IHRhc2sgPSBjdXJyZW50TGlzdC5nZXRUYXNrQnlJZCh0YXNrSWQpO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgZS50YXJnZXQudGFnTmFtZSA9PT0gXCJJTUdcIiB8fFxyXG4gICAgICBlLnRhcmdldC50YWdOYW1lID09PSBcIlBcIiB8fFxyXG4gICAgICBlLnRhcmdldC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCJcclxuICAgICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gZS50YXJnZXQuY2xvc2VzdChcIi50YXNrXCIpO1xyXG4gICAgY29uc3QgZXhwYW5kZWREZXRhaWxzID0gdGFza0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmV4cGFuZGVkLWRldGFpbHNcIik7XHJcbiAgICBpZiAodGFza0NvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJpc0VkaXRhYmxlXCIpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWV4cGFuZGVkRGV0YWlscykge1xyXG4gICAgICByZW5kZXJFeHBhbmRlZFRhc2sodGFza0NvbnRhaW5lciwgdGFzayk7XHJcbiAgICAgIHRhc2tDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImV4cGFuZGVkXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZXhwYW5kZWREZXRhaWxzLnJlbW92ZSgpO1xyXG4gICAgICB0YXNrQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJleHBhbmRlZFwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaGFuZGxlQ3JlYXRlTGlzdElucHV0LFxyXG4gICAgaGFuZGxlQ3JlYXRlVGFza0lucHV0LFxyXG4gICAgZWRpdFRhc2ssXHJcbiAgICB0b2dnbGVEZXRhaWxzLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qge1xyXG4gIGhhbmRsZUNyZWF0ZUxpc3RJbnB1dCxcclxuICBoYW5kbGVDcmVhdGVUYXNrSW5wdXQsXHJcbiAgZWRpdFRhc2ssXHJcbiAgdG9nZ2xlRGV0YWlscyxcclxufSA9IEV2ZW50SGFuZGxlcigpO1xyXG4iLCJjb25zdCBmb3JtYXREYXRlID0gKGRhdGVTdHJpbmcpID0+IHtcclxuICBpZiAoIWRhdGVTdHJpbmcpIHtcclxuICAgIHJldHVybiBcIlwiO1xyXG4gIH1cclxuICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XHJcbiAgZGF0ZS5zZXRIb3VycygyNCwgMCwgMCwgMCk7XHJcblxyXG4gIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyhcImVuLVVTXCIsIHtcclxuICAgIG1vbnRoOiBcIjItZGlnaXRcIixcclxuICAgIGRheTogXCIyLWRpZ2l0XCIsXHJcbiAgICB5ZWFyOiBcIjItZGlnaXRcIixcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGZvcm1hdHRlZERhdGU7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmb3JtYXREYXRlO1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVDdXN0b21FbGVtZW50IH0gZnJvbSBcIi4vY3VzdG9tRWxlbWVudEhlbHBlci5qc1wiO1xyXG5pbXBvcnQgeyBzdWJtaXRGb3JtLCBjYW5jZWxGb3JtIH0gZnJvbSBcIi4vRm9ybUV2ZW50SGFuZGxlcnMuanNcIjtcclxuXHJcbmNvbnN0IEZvcm1SZW5kZXJlciA9IChjdXJyZW50TGlzdCwgdGFza0lkKSA9PiB7XHJcbiAgY29uc3QgYXBwZW5kRWRpdFRhc2tGb3JtID0gKHRhcmdldCkgPT4ge1xyXG4gICAgY29uc3QgZWRpdEZvcm0gPSBfX2NyZWF0ZUVkaXRUYXNrRm9ybSgpO1xyXG4gICAgdGFyZ2V0LmFwcGVuZChlZGl0Rm9ybSk7XHJcbiAgICByZXR1cm4gZWRpdEZvcm07XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgX19jcmVhdGVFZGl0VGFza0Zvcm0gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XHJcbiAgICBjb25zdCB0YXNrID0gY3VycmVudExpc3QuZ2V0VGFza0J5SWQodGFza0lkKTtcclxuICAgIGZvcm0uaWQgPSBcImVkaXQtdGFza1wiO1xyXG4gICAgZm9ybS5hcHBlbmQoX19jcmVhdGVGb3JtRWxlbWVudHModGFzaykpO1xyXG5cclxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBzdWJtaXRGb3JtKGUsIGN1cnJlbnRMaXN0LCB0YXNrKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZvcm07XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgX19jcmVhdGVGb3JtRWxlbWVudHMgPSAodGFzaykgPT4ge1xyXG4gICAgLy8gVGl0bGVcclxuICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cclxuICAgIGNvbnN0IHRpdGxlID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgIHRhZ05hbWU6IFwidGV4dGFyZWFcIixcclxuICAgICAgY2xhc3NMaXN0OiBcImVkaXQtdGl0bGVcIixcclxuICAgIH0pO1xyXG4gICAgdGl0bGUudmFsdWUgPSB0YXNrLnRpdGxlO1xyXG4gICAgdGl0bGUubmFtZSA9IFwidGl0bGVcIjtcclxuXHJcbiAgICAvL0Rlc2NyaXB0aW9uXHJcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICB0YWdOYW1lOiBcInRleHRhcmVhXCIsXHJcbiAgICAgIGNsYXNzTGlzdDogXCJlZGl0LWRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIGF0dHJpYnV0ZXM6IFtcInBsYWNlaG9sZGVyXCIsIFwiQWRkIGEgZGVzY3JpcHRpb25cIl0sXHJcbiAgICB9KTtcclxuICAgIGRlc2NyaXB0aW9uLnZhbHVlID0gdGFzay5kZXNjcmlwdGlvbiB8fCBcIlwiO1xyXG4gICAgZGVzY3JpcHRpb24ubmFtZSA9IFwiZGVzY3JpcHRpb25cIjtcclxuXHJcbiAgICAvLyBEdWUgRGF0ZVxyXG4gICAgY29uc3QgZHVlRGF0ZSA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICB0YWdOYW1lOiBcImlucHV0XCIsXHJcbiAgICAgIGF0dHJpYnV0ZXM6IFtcInR5cGVcIiwgXCJkYXRlXCJdLFxyXG4gICAgICBjbGFzc0xpc3Q6IFwiZWRpdC1kYXRlXCIsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdGFzay5kdWVEYXRlXHJcbiAgICAgID8gKGR1ZURhdGUudmFsdWUgPSB0YXNrLmR1ZURhdGUpXHJcbiAgICAgIDogKGR1ZURhdGUudmFsdWVBc0RhdGUgPSBuZXcgRGF0ZShcclxuICAgICAgICAgIGRhdGUuZ2V0RnVsbFllYXIoKSxcclxuICAgICAgICAgIGRhdGUuZ2V0TW9udGgoKSxcclxuICAgICAgICAgIGRhdGUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgICAgMTJcclxuICAgICAgICApKTtcclxuICAgIGR1ZURhdGUubmFtZSA9IFwiZHVlRGF0ZVwiO1xyXG5cclxuICAgIC8vIERpZmZpY3VsdHlcclxuICAgIGNvbnN0IGRpZmZpY3VsdHkgPSBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgICAgdGFnTmFtZTogXCJzZWxlY3RcIixcclxuICAgICAgY2xhc3NMaXN0OiBcImVkaXQtZGlmZmljdWx0eVwiLFxyXG4gICAgfSk7XHJcbiAgICBkaWZmaWN1bHR5LnZhbHVlID0gdGFzay5kaWZmaWN1bHR5O1xyXG4gICAgZGlmZmljdWx0eS5uYW1lID0gXCJkaWZmaWN1bHR5XCI7XHJcbiAgICBjb25zdCBkaWZmaWN1bHR5T3B0aW9ucyA9IFtcIkVhc3lcIiwgXCJNZWRpdW1cIiwgXCJIYXJkXCJdO1xyXG5cclxuICAgIC8vIERpZmZpY3VsdHkgT3B0aW9uc1xyXG4gICAgY29uc3Qgb3B0aW9uRWxlbWVudHMgPSBkaWZmaWN1bHR5T3B0aW9ucy5tYXAoKG9wdGlvbikgPT4ge1xyXG4gICAgICByZXR1cm4gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgICAgdGFnTmFtZTogXCJvcHRpb25cIixcclxuICAgICAgICB0ZXh0Q29udGVudDogb3B0aW9uLFxyXG4gICAgICAgIGF0dHJpYnV0ZXM6IFtcInZhbHVlXCIsIGAke29wdGlvbn1gXSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGRpZmZpY3VsdHkuYXBwZW5kKC4uLm9wdGlvbkVsZW1lbnRzKTtcclxuXHJcbiAgICAvLyBGb3JtIEJ1dHRvbnNcclxuICAgIGNvbnN0IGZvcm1CdXR0b25zID0gX19jcmVhdGVGb3JtQnV0dG9ucygpO1xyXG4gICAgZnJhZ21lbnQuYXBwZW5kKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgZGlmZmljdWx0eSwgZm9ybUJ1dHRvbnMpO1xyXG5cclxuICAgIHJldHVybiBmcmFnbWVudDtcclxuICB9O1xyXG5cclxuICBjb25zdCBfX2NyZWF0ZUZvcm1CdXR0b25zID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZGl2ID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgIHRhZ05hbWU6IFwiZGl2XCIsXHJcbiAgICAgIGNsYXNzTGlzdDogXCJmb3JtLWNvbnRyb2xzXCIsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHN1Ym1pdEJ0biA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICB0YWdOYW1lOiBcImJ1dHRvblwiLFxyXG4gICAgICBjbGFzc0xpc3Q6IFwic3VibWl0LWJ0blwiLFxyXG4gICAgICB0ZXh0Q29udGVudDogXCJTdWJtaXRcIixcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGNhbmNlbEJ0biA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICB0YWdOYW1lOiBcImJ1dHRvblwiLFxyXG4gICAgICBjbGFzc0xpc3Q6IFwiY2FuY2VsLWJ0blwiLFxyXG4gICAgICB0ZXh0Q29udGVudDogXCJDYW5jZWxcIixcclxuICAgIH0pO1xyXG4gICAgY2FuY2VsQnRuLm9uY2xpY2sgPSAoZSkgPT4gY2FuY2VsRm9ybShlLCBjdXJyZW50TGlzdCwgdGFzay5pZCk7XHJcblxyXG4gICAgZGl2LmFwcGVuZChjYW5jZWxCdG4sIHN1Ym1pdEJ0bik7XHJcbiAgICByZXR1cm4gZGl2O1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IGFwcGVuZEVkaXRUYXNrRm9ybSB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVJlbmRlcmVyO1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVNYWluRGV0YWlsc0VsZW1lbnRzIH0gZnJvbSBcIi4vVGFza1JlbmRlcmVyXCI7XHJcblxyXG5jb25zdCBzdWJtaXRGb3JtID0gKGUsIGxpc3QsIHRhc2spID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGNvbnN0IGZvcm0gPSBlLnRhcmdldDtcclxuICBjb25zdCB0YXNrQ29udGFpbmVyID0gZm9ybS5wYXJlbnROb2RlO1xyXG4gIGNvbnN0IG1haW5EZXRhaWxzID0gdGFza0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1haW4tZGV0YWlsc1wiKTtcclxuXHJcbiAgY29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcclxuICBjb25zdCBvYmogPSB7fTtcclxuICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgZGF0YSkge1xyXG4gICAgb2JqW25hbWVdID0gdmFsdWU7XHJcbiAgfVxyXG4gIGNvbnN0IHVwZGF0ZWRUYXNrID0gbGlzdC51cGRhdGVUYXNrKHRhc2suaWQsIG9iaik7XHJcblxyXG4gIGZvcm0ucmVtb3ZlKCk7XHJcbiAgY29uc3QgbWFpbkRldGFpbHNFbGVtZW50cyA9IGNyZWF0ZU1haW5EZXRhaWxzRWxlbWVudHModXBkYXRlZFRhc2spO1xyXG4gIG1haW5EZXRhaWxzLmFwcGVuZChtYWluRGV0YWlsc0VsZW1lbnRzKTtcclxuICB0YXNrQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJpc0VkaXRhYmxlXCIpO1xyXG59O1xyXG5cclxuY29uc3QgY2FuY2VsRm9ybSA9IChlLCBsaXN0LCB0YXNrSWQpID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGNvbnN0IG1haW5EZXRhaWxzID0gdGFza0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1haW4tZGV0YWlsc1wiKTtcclxuXHJcbiAgY29uc3QgZm9ybSA9IGUudGFyZ2V0LmNsb3Nlc3QoXCJmb3JtXCIpO1xyXG4gIGZvcm0ucmVtb3ZlKCk7XHJcbiAgdGFza0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiaXNFZGl0YWJsZVwiKTtcclxuXHJcbiAgY29uc3QgdGFzayA9IGxpc3QudXBkYXRlVGFzayh0YXNrSWQsIG9iaik7XHJcbiAgY29uc3QgbWFpbkRldGFpbHNFbGVtZW50cyA9IGNyZWF0ZU1haW5EZXRhaWxzRWxlbWVudHModGFzayk7XHJcbiAgbWFpbkRldGFpbHMuYXBwZW5kKG1haW5EZXRhaWxzRWxlbWVudHMpO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgc3VibWl0Rm9ybSwgY2FuY2VsRm9ybSB9O1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVDdXN0b21FbGVtZW50IH0gZnJvbSBcIi4vY3VzdG9tRWxlbWVudEhlbHBlci5qc1wiO1xyXG5pbXBvcnQgVG9vbGJhckV2ZW50SGFuZGxlciBmcm9tIFwiLi9Ub29sYmFyRXZlbnRIYW5kbGVyLmpzXCI7XHJcblxyXG4vLyBDcmVhdGUgdG9vbGJhciB3aWxsIHJldHVybiBhIGZyYWdtZW50IGNvbnRhaW5lciBvZiB0aHJlZSBidXR0b25zXHJcbi8vXHJcblxyXG5jb25zdCBUb29sYmFyID0gKGN1cnJlbnRMaXN0LCB0YXNrKSA9PiB7XHJcbiAgY29uc3QgZXZlbnRIYW5kbGVyID0gVG9vbGJhckV2ZW50SGFuZGxlcihjdXJyZW50TGlzdCwgdGFzayk7XHJcblxyXG4gIGNvbnN0IHRvb2xzID0gW1xyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkVkaXRcIixcclxuICAgICAgaW1nU3JjOiBcIi4uL3NyYy9pbWdzL25vdW4tcXVpbGwtNDYyNjcxOC5zdmdcIixcclxuICAgICAgY2xhc3NOYW1lOiBcImZpbHRlci1ncmF5XCIsXHJcbiAgICAgIG9uQ2xpY2s6IChlKSA9PiBldmVudEhhbmRsZXIuc2V0RWRpdE1vZGUoZSksXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIlNldCBQcmlvcml0eVwiLFxyXG4gICAgICBpbWdTcmM6IFwiLi4vc3JjL2ltZ3Mvbm91bi1zdGFyLTQ0ODU3NDYuc3ZnXCIsXHJcbiAgICAgIGNsYXNzTmFtZTogXCJmaWx0ZXItZ3JheVwiLFxyXG4gICAgICBvbkNsaWNrOiAoZSkgPT4gZXZlbnRIYW5kbGVyLnNldFByaW9yaXR5KGUpLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJEZWxldGVcIixcclxuICAgICAgaW1nU3JjOiBcIi4uL3NyYy9pbWdzL25vdW4tc2t1bGwtNDQ4NTY3NC5zdmdcIixcclxuICAgICAgY2xhc3NOYW1lOiBcImZpbHRlci1yZWRcIixcclxuICAgICAgb25DbGljazogKGUpID0+IGV2ZW50SGFuZGxlci5kZWxldGVUYXNrKGUpLFxyXG4gICAgfSxcclxuICBdO1xyXG5cclxuICBjb25zdCBjcmVhdGVUb29sYmFyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgdG9vbGJhckNvbnRhaW5lciA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICB0YWdOYW1lOiBcImRpdlwiLFxyXG4gICAgICBjbGFzc0xpc3Q6IFwidG9vbGJhclwiLFxyXG4gICAgfSk7XHJcbiAgICB0b29sYmFyQ29udGFpbmVyLmFwcGVuZChfX2NyZWF0ZUJ0bnModG9vbHMpKTtcclxuICAgIHJldHVybiB0b29sYmFyQ29udGFpbmVyO1xyXG4gIH07XHJcbiAgY29uc3QgX19jcmVhdGVCdG5zID0gKHRvb2xzKSA9PiB7XHJcbiAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgIHRvb2xzLmZvckVhY2goKHRvb2wpID0+IHtcclxuICAgICAgY29uc3QgeyBuYW1lLCBpbWdTcmMsIGNsYXNzTmFtZSwgb25DbGljayB9ID0gdG9vbDtcclxuICAgICAgLy8gVG9vbGJhciB3aWxsIGNvbnNpc3Qgb2Y6XHJcbiAgICAgIC8vIEVkaXRcclxuICAgICAgLy8gU2V0IFByaW9yaXR5IC0gaXNQcmlvcml0eVxyXG4gICAgICAvLyBEZWxldGVcclxuICAgICAgY29uc3QgYnRuID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgICAgdGFnTmFtZTogXCJidXR0b25cIixcclxuICAgICAgICBhdHRyaWJ1dGVzOiBbXCJhcmlhLWxhYmVsXCIsIGAke25hbWV9YF0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBpbWcgPSBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgICAgICB0YWdOYW1lOiBcImltZ1wiLFxyXG4gICAgICAgIGF0dHJpYnV0ZXM6IFtcInNyY1wiLCBgJHtpbWdTcmN9YF0sXHJcbiAgICAgICAgY2xhc3NMaXN0OiBjbGFzc05hbWUsXHJcbiAgICAgIH0pO1xyXG4gICAgICBidG4ub25jbGljayA9IG9uQ2xpY2s7XHJcbiAgICAgIGJ0bi5hcHBlbmQoaW1nKTtcclxuICAgICAgZnJhZ21lbnQuYXBwZW5kKGJ0bik7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBmcmFnbWVudDtcclxuICB9O1xyXG5cclxuICByZXR1cm4geyBjcmVhdGVUb29sYmFyIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUb29sYmFyO1xyXG4iLCJpbXBvcnQgRm9ybVJlbmRlcmVyIGZyb20gXCIuL0Zvcm1SZW5kZXJlclwiO1xyXG5cclxuY29uc3QgVG9vbGJhckV2ZW50SGFuZGxlciA9IChjdXJyZW50TGlzdCwgdGFzaykgPT4ge1xyXG4gIGNvbnN0IHNldEVkaXRNb2RlID0gKGUpID0+IHtcclxuICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZS50YXJnZXQuY2xvc2VzdChcIi50YXNrXCIpO1xyXG4gICAgLy8gRXNjYXBlIGlmIGFscmVhZHkgaW4gZWRpdCBtb2RlXHJcbiAgICBpZiAodGFza0VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXNFZGl0YWJsZVwiKSkgcmV0dXJuO1xyXG4gICAgY29uc3QgbWFpbkRldGFpbHMgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tZGV0YWlsc1wiKTtcclxuICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpc0VkaXRhYmxlXCIpO1xyXG5cclxuICAgIC8vIENsZWFyIGFsbCBjaGlsZHJlbiBpbiBtYWluIGRldGFpbHNcclxuICAgIG1haW5EZXRhaWxzLnJlcGxhY2VDaGlsZHJlbigpO1xyXG5cclxuICAgIGlmICh0YXNrRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJleHBhbmRlZFwiKSkge1xyXG4gICAgICB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmV4cGFuZGVkLWRldGFpbHNcIikucmVtb3ZlKCk7XHJcbiAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJleHBhbmRlZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmb3JtUmVuZGVyZXIgPSBGb3JtUmVuZGVyZXIoY3VycmVudExpc3QsIHRhc2suaWQpO1xyXG4gICAgY29uc3QgZWRpdEZvcm0gPSBmb3JtUmVuZGVyZXIuYXBwZW5kRWRpdFRhc2tGb3JtKHRhc2tFbGVtZW50KTtcclxuICAgIGNvbnN0IHRleHRhcmVhcyA9IGVkaXRGb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGV4dGFyZWFcIik7XHJcblxyXG4gICAgWy4uLnRleHRhcmVhc10uZm9yRWFjaCgodGV4dGFyZWEpID0+IHtcclxuICAgICAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcclxuICAgICAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIiAmJiAhZS5zaGlmdEtleSkge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgLy8gUHJvZ3JhbWF0aWNhbGx5IHRyaWdnZXIgZm9ybSBzdWJtaXNzaW9uXHJcbiAgICAgICAgICBjb25zdCBzdWJtaXRFdmVudCA9IG5ldyBFdmVudChcInN1Ym1pdFwiLCB7XHJcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXHJcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGVkaXRGb3JtLmRpc3BhdGNoRXZlbnQoc3VibWl0RXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGVkaXRGb3JtXHJcbiAgICAvLyAgIC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpXHJcbiAgICAvLyAgIC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBzdWJtaXRGb3JtKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzZXRQcmlvcml0eSA9IChlKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50VGFzayA9IGN1cnJlbnRMaXN0LmdldFRhc2tCeUlkKHRhc2suaWQpO1xyXG4gICAgaWYgKGN1cnJlbnRUYXNrLnByaW9yaXR5KSB7XHJcbiAgICAgIGN1cnJlbnRMaXN0LnVwZGF0ZVRhc2sodGFzay5pZCwgeyBwcmlvcml0eTogZmFsc2UgfSk7XHJcbiAgICAgIGUudGFyZ2V0LmNsb3Nlc3QoXCJpbWdcIikuc3JjID0gXCIuLi9zcmMvaW1ncy9ub3VuLXN0YXItNDQ4NTc0Ni5zdmdcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN1cnJlbnRMaXN0LnVwZGF0ZVRhc2sodGFzay5pZCwgeyBwcmlvcml0eTogdHJ1ZSB9KTtcclxuICAgICAgZS50YXJnZXQuY2xvc2VzdChcImltZ1wiKS5zcmMgPSBcIi4uL3NyYy9pbWdzL25vdW4tc3Rhci00NDg1ODI3LnN2Z1wiO1xyXG4gICAgfVxyXG4gICAgZS50YXJnZXQuY2xvc2VzdChcIi50YXNrXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJpc1ByaW9yaXR5XCIpO1xyXG4gICAgZS50YXJnZXQuY2xvc2VzdChcImltZ1wiKS5jbGFzc0xpc3QudG9nZ2xlKFwiZmlsdGVyLWdyYXlcIik7XHJcbiAgICBlLnRhcmdldC5jbG9zZXN0KFwiaW1nXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJmaWx0ZXIteWVsbG93XCIpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRlbGV0ZVRhc2sgPSAoZSkgPT4ge1xyXG4gICAgY3VycmVudExpc3QucmVtb3ZlVGFzayh0YXNrLmlkKTtcclxuICAgIGUudGFyZ2V0LmNsb3Nlc3QoXCIudGFza1wiKS5yZW1vdmUoKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4geyBzZXRFZGl0TW9kZSwgc2V0UHJpb3JpdHksIGRlbGV0ZVRhc2sgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRvb2xiYXJFdmVudEhhbmRsZXI7XHJcbiIsImltcG9ydCB7IGVkaXRUYXNrLCB0b2dnbGVEZXRhaWxzIH0gZnJvbSBcIi4vRXZlbnRIYW5kbGVyLmpzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUN1c3RvbUVsZW1lbnQgfSBmcm9tIFwiLi9jdXN0b21FbGVtZW50SGVscGVyLmpzXCI7XHJcbmltcG9ydCBmb3JtYXREYXRlIGZyb20gXCIuL2Zvcm1hdERhdGVIZWxwZXIuanNcIjtcclxuaW1wb3J0IFRvb2xiYXIgZnJvbSBcIi4vVG9vbGJhci5qc1wiO1xyXG5cclxuY29uc3QgVGFza1JlbmRlcmVyID0gKCkgPT4ge1xyXG4gIGNvbnN0IHJlbmRlclRhc2tFbGVtZW50cyA9ICh0YXJnZXQsIHRhc2tzKSA9PiB7XHJcbiAgICB0YXJnZXQucHJlcGVuZCguLi50YXNrcyk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY3JlYXRlVGFza0VsZW1lbnRzID0gKHRhc2tzLCBjdXJyZW50TGlzdCkgPT4ge1xyXG4gICAgcmV0dXJuIHRhc2tzLm1hcCgodGFzaykgPT4ge1xyXG4gICAgICAvLyBEaXYgY29udGFpbmVyXHJcbiAgICAgIGNvbnN0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICB0YXNrQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwidGFza1wiO1xyXG4gICAgICB0YXNrQ29udGFpbmVyLmRhdGFzZXQuaWQgPSB0YXNrLmlkO1xyXG5cclxuICAgICAgLy8gVG9vbGJhclxyXG4gICAgICBjb25zdCB0b29sYmFyQ3JlYXRvciA9IFRvb2xiYXIoY3VycmVudExpc3QsIHRhc2spO1xyXG4gICAgICBjb25zdCB0b29sYmFyID0gdG9vbGJhckNyZWF0b3IuY3JlYXRlVG9vbGJhcihjdXJyZW50TGlzdCwgdGFza0NvbnRhaW5lcik7XHJcblxyXG4gICAgICAvLyBNYWluIGRldGFpbHNcclxuICAgICAgY29uc3QgbWFpbkRldGFpbHMgPSByZW5kZXJNYWluRGV0YWlscyh0YXNrKTtcclxuXHJcbiAgICAgIHRhc2tDb250YWluZXIuYXBwZW5kKHRvb2xiYXIpO1xyXG4gICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZChtYWluRGV0YWlscyk7XHJcblxyXG4gICAgICAvLyBBZGQgb25jbGljayB0byBjaGFuZ2UgZWxlbWVudCB0byBpbnB1dCBvbiBjbGlja1xyXG4gICAgICB0YXNrQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgIGVkaXRUYXNrKGUsIHRhc2suaWQsIGN1cnJlbnRMaXN0KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0YXNrQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgIHRvZ2dsZURldGFpbHMoZSwgY3VycmVudExpc3QsIHRhc2suaWQpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRhc2tDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XHJcbiAgICAgICAgdG9vbGJhci5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcbiAgICAgICAgdG9vbGJhci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGFza0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRvb2xiYXIuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xyXG4gICAgICAgIHRvb2xiYXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gdG9vbGJhci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIChlKSA9PiB7XHJcbiAgICAgIC8vICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgLy8gICB0b29sYmFyLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuICAgICAgLy8gICB0b29sYmFyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcclxuICAgICAgLy8gfSk7XHJcblxyXG4gICAgICByZXR1cm4gdGFza0NvbnRhaW5lcjtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbmRlck1haW5EZXRhaWxzID0gKHRhc2spID0+IHtcclxuICAgIGNvbnN0IG1haW5EZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIG1haW5EZXRhaWxzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYWluLWRldGFpbHNcIik7XHJcbiAgICBtYWluRGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVNYWluRGV0YWlsc0VsZW1lbnRzKHRhc2spKTtcclxuICAgIHJldHVybiBtYWluRGV0YWlsc0NvbnRhaW5lcjtcclxuICB9O1xyXG5cclxuICBjb25zdCBjcmVhdGVNYWluRGV0YWlsc0VsZW1lbnRzID0gKHRhc2spID0+IHtcclxuICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cclxuICAgIGNvbnN0IHRpdGxlID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgIHRhZ05hbWU6IFwicFwiLFxyXG4gICAgICBjbGFzc0xpc3Q6IFwidGFzay10aXRsZVwiLFxyXG4gICAgICB0ZXh0Q29udGVudDogdGFzay50aXRsZSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdGFzay5kZXNjcmlwdGlvblxyXG4gICAgICA/IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICAgICAgdGFnTmFtZTogXCJwXCIsXHJcbiAgICAgICAgICBjbGFzc0xpc3Q6IFwidGFzay1kZXNjcmlwdGlvblwiLFxyXG4gICAgICAgICAgdGV4dENvbnRlbnQ6IHRhc2suZGVzY3JpcHRpb24sXHJcbiAgICAgICAgfSlcclxuICAgICAgOiBcIiBcIjtcclxuXHJcbiAgICBmcmFnbWVudC5hcHBlbmQodGl0bGUsIGRlc2NyaXB0aW9uKTtcclxuICAgIHJldHVybiBmcmFnbWVudDtcclxuICB9O1xyXG5cclxuICBjb25zdCByZW5kZXJFeHBhbmRlZFRhc2sgPSAodGFyZ2V0LCB0YXNrKSA9PiB7XHJcbiAgICBjb25zdCBleHBhbmRlZFRhc2sgPSBfX2NyZWF0ZUV4cGFuZGVkVGFzayh0YXNrKTtcclxuICAgIHRhcmdldC5hcHBlbmQoZXhwYW5kZWRUYXNrKTtcclxuICAgIHJldHVybiBleHBhbmRlZFRhc2s7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgX19jcmVhdGVFeHBhbmRlZFRhc2sgPSAodGFzaykgPT4ge1xyXG4gICAgY29uc3QgeyBkdWVEYXRlLCBkaWZmaWN1bHR5IH0gPSB0YXNrO1xyXG4gICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgICAvLyBBcHBlbmQgY2hpbGRyZW4gdG8gZnJhZ21lbnRcclxuICAgIGNvbnN0IGV4cGFuZGVkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIC8vIFNldCB0b2dnbGUgYXR0cmlidXRlIHRvIHdvcmsgd2l0aCB0b2dnbGUgZXZlbnQgbGlzdGVuZXJcclxuICAgIGV4cGFuZGVkRGl2LmNsYXNzTGlzdC5hZGQoXCJleHBhbmRlZC1kZXRhaWxzXCIpO1xyXG4gICAgZnJhZ21lbnQuYXBwZW5kKGV4cGFuZGVkRGl2KTtcclxuXHJcbiAgICAvLyBkdWVEYXRlICYmXHJcbiAgICBleHBhbmRlZERpdi5hcHBlbmQoXHJcbiAgICAgIGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICAgIHRhZ05hbWU6IFwicFwiLFxyXG4gICAgICAgIGNsYXNzTGlzdDogXCJkdWUtZGF0ZVwiLFxyXG4gICAgICAgIHRleHRDb250ZW50OiBmb3JtYXREYXRlKGR1ZURhdGUpLFxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICAgIGNvbnNvbGUubG9nKGR1ZURhdGUpO1xyXG5cclxuICAgIC8vIGRpZmZpY3VsdHkgJiZcclxuICAgIGV4cGFuZGVkRGl2LmFwcGVuZChcclxuICAgICAgY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgICAgdGFnTmFtZTogXCJwXCIsXHJcbiAgICAgICAgY2xhc3NMaXN0OiBcImRpZmZpY3VsdHlcIixcclxuICAgICAgICB0ZXh0Q29udGVudDogZGlmZmljdWx0eSxcclxuICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIGZyYWdtZW50O1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBjcmVhdGVUYXNrRWxlbWVudHMsXHJcbiAgICByZW5kZXJUYXNrRWxlbWVudHMsXHJcbiAgICByZW5kZXJFeHBhbmRlZFRhc2ssXHJcbiAgICBjcmVhdGVNYWluRGV0YWlsc0VsZW1lbnRzLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qge1xyXG4gIGNyZWF0ZVRhc2tFbGVtZW50cyxcclxuICByZW5kZXJUYXNrRWxlbWVudHMsXHJcbiAgcmVuZGVyRXhwYW5kZWRUYXNrLFxyXG4gIGNyZWF0ZU1haW5EZXRhaWxzRWxlbWVudHMsXHJcbn0gPSBUYXNrUmVuZGVyZXIoKTtcclxuIiwiaW1wb3J0IHtcclxuICBhcHBlbmRDdXN0b21FbGVtZW50LFxyXG4gIGNyZWF0ZUN1c3RvbUVsZW1lbnQsXHJcbn0gZnJvbSBcIi4vY3VzdG9tRWxlbWVudEhlbHBlci5qc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVUYXNrRWxlbWVudHMsIHJlbmRlclRhc2tFbGVtZW50cyB9IGZyb20gXCIuL1Rhc2tSZW5kZXJlci5qc1wiO1xyXG5pbXBvcnQgeyBoYW5kbGVDcmVhdGVUYXNrSW5wdXQgfSBmcm9tIFwiLi9FdmVudEhhbmRsZXIuanNcIjtcclxuXHJcbmNvbnN0IExpc3RSZW5kZXJlciA9ICgpID0+IHtcclxuICBjb25zdCBjcmVhdGVUYXNrRm9ybSA9ICh0YXJnZXQsIGxpc3QpID0+IHtcclxuICAgIC8vIENyZWF0ZSBmb3JtIGFuZCBhcHBlbmQgaW5wdXQgdG8gTGlzdFxyXG4gICAgY29uc3QgdGFza0Zvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcclxuICAgIHRhc2tGb3JtLmNsYXNzTmFtZSA9IFwidGFzay1mb3JtXCI7XHJcbiAgICBjb25zdCB0YXNrSW5wdXQgPSBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgICAgdGFnTmFtZTogXCJpbnB1dFwiLFxyXG4gICAgICBjbGFzc0xpc3Q6IFwidGFzay1pbnB1dFwiLFxyXG4gICAgICBhdHRyaWJ1dGVzOiBbXCJwbGFjZWhvbGRlclwiLCBcIkFkZCBhIHRhc2tcIl0sXHJcbiAgICB9KTtcclxuICAgIHRhc2tGb3JtLmFwcGVuZENoaWxkKHRhc2tJbnB1dCk7XHJcblxyXG4gICAgLy8gQmluZCBpbnB1dCBsaXN0ZW5lciB0byBtb25pdG9yIG5ldyB0YXNrIGVudHJpZXNcclxuICAgIHRhc2tJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG4gICAgICBoYW5kbGVDcmVhdGVUYXNrSW5wdXQoZSwgdGFyZ2V0LCBsaXN0KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRhc2tGb3JtO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFwcGVuZExpc3RDb250YWluZXIgPSAobGlzdElkKSA9PiB7XHJcbiAgICBhcHBlbmRDdXN0b21FbGVtZW50KHtcclxuICAgICAgdGFyZ2V0OiBcIi5saXN0LWNvbnRhaW5lclwiLFxyXG4gICAgICB0YWdOYW1lOiBcImRpdlwiLFxyXG4gICAgICBjbGFzc0xpc3Q6IFtcImxpc3RcIl0sXHJcbiAgICAgIGF0dHJpYnV0ZXM6IFtcImRhdGEtaWRcIiwgbGlzdElkXSxcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFwcGVuZExpc3RBbmRUaXRsZUVsZW1lbnRzID0gKGxpc3QsIGxpc3RJZCkgPT4ge1xyXG4gICAgY29uc3QgbGlzdEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pZD1cIiR7bGlzdElkfVwiXWApO1xyXG4gICAgYXBwZW5kQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgIHRhcmdldDogYFtkYXRhLWlkPVwiJHtsaXN0SWR9XCJdYCxcclxuICAgICAgdGFnTmFtZTogXCJoMlwiLFxyXG4gICAgICB0ZXh0Q29udGVudDogbGlzdC5nZXRUaXRsZSgpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgbGlzdEVsZW1lbnQuYXBwZW5kQ2hpbGQoY3JlYXRlVGFza0Zvcm0obGlzdEVsZW1lbnQsIGxpc3QsIGxpc3RJZCkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFwcGVuZFRhc2tDb250YWluZXIgPSAobGlzdElkKSA9PiB7XHJcbiAgICBhcHBlbmRDdXN0b21FbGVtZW50KHtcclxuICAgICAgdGFyZ2V0OiBgW2RhdGEtaWQ9XCIke2xpc3RJZH1cIl1gLFxyXG4gICAgICB0YWdOYW1lOiBcImRpdlwiLFxyXG4gICAgICBjbGFzc0xpc3Q6IFwidGFza3MtY29udGFpbmVyXCIsXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBhcHBlbmRUYXNrRWxlbWVudHMgPSAobGlzdCwgbGlzdElkKSA9PiB7XHJcbiAgICBjb25zdCBsaXN0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWlkPVwiJHtsaXN0SWR9XCJdYCk7XHJcbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gbGlzdEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrcy1jb250YWluZXJcIik7XHJcbiAgICBjb25zdCB0YXNrRWxlbWVudHMgPSBjcmVhdGVUYXNrRWxlbWVudHMobGlzdC5nZXRUYXNrcygpLCBsaXN0KTtcclxuICAgIHJlbmRlclRhc2tFbGVtZW50cyh0YXNrQ29udGFpbmVyLCB0YXNrRWxlbWVudHMpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbmRlckxpc3RFbGVtZW50cyA9IChsaXN0cykgPT4ge1xyXG4gICAgbGlzdHMuZm9yRWFjaCgobGlzdCkgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0SWQgPSBsaXN0LmdldElkKCk7XHJcblxyXG4gICAgICBhcHBlbmRMaXN0Q29udGFpbmVyKGxpc3RJZCk7XHJcbiAgICAgIGFwcGVuZExpc3RBbmRUaXRsZUVsZW1lbnRzKGxpc3QsIGxpc3RJZCk7XHJcbiAgICAgIGFwcGVuZFRhc2tDb250YWluZXIobGlzdElkKTtcclxuICAgICAgYXBwZW5kVGFza0VsZW1lbnRzKGxpc3QsIGxpc3RJZCk7XHJcblxyXG4gICAgICAvLyBOb3cgcmVuZGVyIGFuZCBhcHBlbmQgdGhlIHRhc2sgZWxlbWVudHNcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IHJlbmRlckxpc3RFbGVtZW50cyB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHsgcmVuZGVyTGlzdEVsZW1lbnRzIH0gPSBMaXN0UmVuZGVyZXIoKTtcclxuIiwiaW1wb3J0IHsgcmVuZGVyTGlzdEVsZW1lbnRzIH0gZnJvbSBcIi4vTGlzdFJlbmRlcmVyXCI7XHJcblxyXG5jb25zdCBMaXN0SGFuZGxlciA9ICgpID0+IHtcclxuICBjb25zdCBjcmVhdGVEZWZhdWx0TGlzdCA9IChjdXJyZW50UHJvamVjdCkgPT4ge1xyXG4gICAgY29uc3QgaGFiaXRMaXN0ID0gY3VycmVudFByb2plY3QuY3JlYXRlTGlzdChcIkhhYml0c1wiKTtcclxuICAgIGhhYml0TGlzdC5jcmVhdGVUYXNrKFwiQ3JlYXRlIHlvdXIgZmlyc3QgaGFiaXQhXCIpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNoZWNrRm9yTGlzdHMgPSAoY3VycmVudFByb2plY3QpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRMaXN0cyA9IGN1cnJlbnRQcm9qZWN0LmdldExpc3RzKCk7XHJcbiAgICBpZiAoY3VycmVudExpc3RzLmxlbmd0aCkge1xyXG4gICAgICByZW5kZXJMaXN0RWxlbWVudHMoY3VycmVudExpc3RzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNyZWF0ZURlZmF1bHRMaXN0KGN1cnJlbnRQcm9qZWN0KTtcclxuICAgICAgcmVuZGVyTGlzdEVsZW1lbnRzKGN1cnJlbnRQcm9qZWN0LmdldExpc3RzKCkpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgcmV0dXJuIHsgY2hlY2tGb3JMaXN0cyB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHsgY2hlY2tGb3JMaXN0cyB9ID0gTGlzdEhhbmRsZXIoKTtcclxuIiwiaW1wb3J0IFByb2plY3QgZnJvbSBcIi4vUHJvamVjdC5qc1wiO1xyXG5pbXBvcnQgeyBjaGVja0Zvckxpc3RzIH0gZnJvbSBcIi4vTGlzdEhhbmRsZXIuanNcIjtcclxuaW1wb3J0IHsgaGFuZGxlQ3JlYXRlTGlzdElucHV0IH0gZnJvbSBcIi4vRXZlbnRIYW5kbGVyLmpzXCI7XHJcblxyXG5jb25zdCBjdXJyZW50UHJvamVjdCA9IFByb2plY3QoKTtcclxuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRQcm9qZWN0XCIsIEpTT04uc3RyaW5naWZ5KGN1cnJlbnRQcm9qZWN0KSk7XHJcbmNvbnNvbGUubG9nKEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuY3VycmVudFByb2plY3QpKTtcclxuXHJcbmNvbnN0IFVzZXJJbnRlcmZhY2UgPSAoKCkgPT4ge1xyXG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaXN0LWlucHV0XCIpO1xyXG5cclxuICBjb25zdCBpbml0ID0gKCkgPT4ge1xyXG4gICAgY2hlY2tGb3JMaXN0cyhjdXJyZW50UHJvamVjdCk7XHJcblxyXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcclxuICAgICAgaGFuZGxlQ3JlYXRlTGlzdElucHV0KGUsIGN1cnJlbnRQcm9qZWN0KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IGluaXQgfTtcclxufSkoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJJbnRlcmZhY2U7XHJcbiIsImltcG9ydCBMaXN0IGZyb20gXCIuL0xpc3RcIjtcclxuXHJcbmNvbnN0IFByb2plY3QgPSAoaWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpLnNsaWNlKDAsIDgpKSA9PiB7XHJcbiAgY29uc3QgbGlzdHMgPSBbXTtcclxuXHJcbiAgY29uc3QgZ2V0SWQgPSAoKSA9PiBpZDtcclxuXHJcbiAgY29uc3QgZ2V0TGlzdHMgPSAoKSA9PiBsaXN0cztcclxuXHJcbiAgY29uc3QgY3JlYXRlTGlzdCA9ICh0aXRsZSkgPT4ge1xyXG4gICAgbGlzdHMucHVzaChMaXN0KHRpdGxlKSk7XHJcbiAgICByZXR1cm4gbGlzdHNbbGlzdHMubGVuZ3RoIC0gMV07XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZmluZExpc3QgPSAobGlzdElkKSA9PiB7XHJcbiAgICBjb25zdCBsaXN0SW5kZXggPSBsaXN0cy5maW5kSW5kZXgoKGxpc3QpID0+IGxpc3QuaWQgPT09IGxpc3RJZCk7XHJcbiAgICByZXR1cm4gbGlzdHNbbGlzdEluZGV4XTtcclxuICB9O1xyXG5cclxuICByZXR1cm4geyBnZXRJZCwgZ2V0TGlzdHMsIGNyZWF0ZUxpc3QsIGZpbmRMaXN0IH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm9qZWN0O1xyXG4iLCJpbXBvcnQgVGFza01hbmFnZXIgZnJvbSBcIi4vbW9kdWxlcy9UYXNrTWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgVXNlckludGVyZmFjZSBmcm9tIFwiLi9tb2R1bGVzL1VzZXJJbnRlcmZhY2UuanNcIjtcclxuaW1wb3J0IFByb2plY3QgZnJvbSBcIi4vbW9kdWxlcy9Qcm9qZWN0LmpzXCI7XHJcblxyXG5jb25zdCBVSSA9IFVzZXJJbnRlcmZhY2U7XHJcblVJLmluaXQoKTtcclxuXHJcbi8vICAgLy8gQ3JlYXRlIGxpc3RcclxuXHJcbi8vICAgLy8gUGFzcyBpbiBhcnJheSBvZiBlbGVtZW50cyB0byBiZSByZW5kZXJlZCBpbiB0aGUgbGlzdCBjb250YWluZXJcclxuXHJcbi8qIE5vdyBJIHdhbnQgdG8gbGluayBpdCB0byB0aGUgVUlcclxuICBGb3JtIElucHV0IHRvIGNyZWF0ZSBhIG5ldyBMaXN0XHJcbiAgbmV3IExpc3Qgd2lsbCBjb250YWluIGFuIGlucHV0IHRvIGNyZWF0ZSBhIG5ldyBUYXNrXHJcbiovXHJcblxyXG4vKiBVcGRhdGluZyBUYXNrXHJcbiAgRm9ybSBpbnB1dCBpbiBMaXN0XHJcbiAgU3VibWl0IGEgbmV3IFRhc2sgdG8gbGlzdFN0b3JhZ2VbeF0uY3JlYXRlVGFzayh0YXNrRGV0YWlscyk7XHJcblxyXG4qL1xyXG4iXSwibmFtZXMiOlsidGl0bGUiLCJpZCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJzbGljZSIsInRhc2tzIiwidGFza01hbmFnZXIiLCJ0YXNrTGlzdCIsImdldFRhc2tCeUluZGV4IiwidGFza0lkIiwiZmluZEluZGV4IiwidGFzayIsImdldFRhc2tCeUlkIiwiZmluZCIsImNyZWF0ZVRhc2siLCJwdXNoIiwibGVuZ3RoIiwidXBkYXRlVGFzayIsInVwZGF0ZWRFbnRyeSIsInRhc2tJbmRleCIsInJlbW92ZVRhc2siLCJzcGxpY2UiLCJnZXRUaXRsZSIsImdldElkIiwiZ2V0VGFza3MiLCJhcHBlbmRDdXN0b21FbGVtZW50IiwiY3JlYXRlQ3VzdG9tRWxlbWVudCIsIm9wdGlvbnMiLCJ0YWdOYW1lIiwiY2xhc3NMaXN0IiwidGV4dENvbnRlbnQiLCJhdHRyaWJ1dGVzIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImFkZCIsIkFycmF5IiwiaXNBcnJheSIsImF0dHIiLCJ2YWx1ZSIsInNldEF0dHJpYnV0ZSIsInRhcmdldCIsInRhcmdldEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYXBwZW5kQ2hpbGQiLCJjdXN0b21FbGVtZW50SGVscGVyIiwiaGFuZGxlQ3JlYXRlTGlzdElucHV0IiwiaGFuZGxlQ3JlYXRlVGFza0lucHV0IiwiZWRpdFRhc2siLCJ0b2dnbGVEZXRhaWxzIiwiYXV0b1Jlc2l6ZSIsInRoaXMiLCJzdHlsZSIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsImUiLCJjdXJyZW50UHJvamVjdCIsImtleSIsInByZXZlbnREZWZhdWx0IiwibmV3TGlzdCIsImNyZWF0ZUxpc3QiLCJyZW5kZXJMaXN0RWxlbWVudHMiLCJsaXN0IiwibmV3VGFzayIsInRhc2tFbGVtZW50IiwiY3JlYXRlVGFza0VsZW1lbnRzIiwicmVuZGVyVGFza0VsZW1lbnRzIiwiY3VycmVudExpc3QiLCJlbCIsImNvbnRhaW5zIiwicHJldmlvdXMiLCJjbG9uZU5vZGUiLCJpbnB1dCIsImN1cnJlbnRUYXNrIiwid29yZEJyZWFrIiwicmVwbGFjZVdpdGgiLCJhZGRFdmVudExpc3RlbmVyIiwiYmx1ciIsIm9uY2UiLCJmb2N1cyIsInRhc2tDb250YWluZXIiLCJjbG9zZXN0IiwiZXhwYW5kZWREZXRhaWxzIiwicmVtb3ZlIiwicmVuZGVyRXhwYW5kZWRUYXNrIiwiRXZlbnRIYW5kbGVyIiwiZGF0ZVN0cmluZyIsImRhdGUiLCJEYXRlIiwic2V0SG91cnMiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJtb250aCIsImRheSIsInllYXIiLCJfX2NyZWF0ZUZvcm1FbGVtZW50cyIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJ2YWx1ZUFzRGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZGlmZmljdWx0eSIsIm9wdGlvbkVsZW1lbnRzIiwibWFwIiwib3B0aW9uIiwiYXBwZW5kIiwiZm9ybUJ1dHRvbnMiLCJfX2NyZWF0ZUZvcm1CdXR0b25zIiwiZGl2Iiwic3VibWl0QnRuIiwiY2FuY2VsQnRuIiwib25jbGljayIsIm1haW5EZXRhaWxzIiwib2JqIiwibWFpbkRldGFpbHNFbGVtZW50cyIsImNyZWF0ZU1haW5EZXRhaWxzRWxlbWVudHMiLCJjYW5jZWxGb3JtIiwiYXBwZW5kRWRpdFRhc2tGb3JtIiwiZWRpdEZvcm0iLCJmb3JtIiwicGFyZW50Tm9kZSIsImRhdGEiLCJGb3JtRGF0YSIsInVwZGF0ZWRUYXNrIiwic3VibWl0Rm9ybSIsIl9fY3JlYXRlRWRpdFRhc2tGb3JtIiwiZXZlbnRIYW5kbGVyIiwic2V0RWRpdE1vZGUiLCJyZXBsYWNlQ2hpbGRyZW4iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImZvckVhY2giLCJ0ZXh0YXJlYSIsInNoaWZ0S2V5Iiwic3VibWl0RXZlbnQiLCJFdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZGlzcGF0Y2hFdmVudCIsInNldFByaW9yaXR5IiwicHJpb3JpdHkiLCJzcmMiLCJ0b2dnbGUiLCJkZWxldGVUYXNrIiwidG9vbHMiLCJpbWdTcmMiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwiY3JlYXRlVG9vbGJhciIsInRvb2xiYXJDb250YWluZXIiLCJ0b29sIiwiYnRuIiwiaW1nIiwiX19jcmVhdGVCdG5zIiwiZGF0YXNldCIsInRvb2xiYXIiLCJtYWluRGV0YWlsc0NvbnRhaW5lciIsInJlbmRlck1haW5EZXRhaWxzIiwib3BhY2l0eSIsInZpc2liaWxpdHkiLCJwcmVwZW5kIiwiZXhwYW5kZWRUYXNrIiwiZXhwYW5kZWREaXYiLCJjb25zb2xlIiwibG9nIiwiX19jcmVhdGVFeHBhbmRlZFRhc2siLCJUYXNrUmVuZGVyZXIiLCJsaXN0cyIsImxpc3RJZCIsImFwcGVuZExpc3RDb250YWluZXIiLCJsaXN0RWxlbWVudCIsInRhc2tGb3JtIiwidGFza0lucHV0IiwiY3JlYXRlVGFza0Zvcm0iLCJhcHBlbmRMaXN0QW5kVGl0bGVFbGVtZW50cyIsImFwcGVuZFRhc2tDb250YWluZXIiLCJ0YXNrRWxlbWVudHMiLCJhcHBlbmRUYXNrRWxlbWVudHMiLCJjaGVja0Zvckxpc3RzIiwiY3VycmVudExpc3RzIiwiZ2V0TGlzdHMiLCJjcmVhdGVEZWZhdWx0TGlzdCIsImZpbmRMaXN0IiwibGlzdEluZGV4Iiwic2Vzc2lvblN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwiaW5pdCJdLCJzb3VyY2VSb290IjoiIn0=