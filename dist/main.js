(()=>{"use strict";const{appendCustomElement:t,createCustomElement:e}=(()=>{function t(t){const{tagName:e,classList:s,textContent:a,attributes:n}=t,r=document.createElement(e);if("string"==typeof s?r.classList.add(s):Array.isArray(s)&&r.classList.add(...s),a&&(r.textContent=a),Array.isArray(n)){const[t,e]=n;r.setAttribute(t,e)}return r}return{appendCustomElement:function(e){const{target:s}=e,a=document.querySelector(s),n=t(e);a.appendChild(n)},createCustomElement:t}})(),s=t=>{if(!t)return"";const e=new Date(t);return e.setHours(24,0,0,0),e.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"})},a=(()=>{const t={};return{getEvents:()=>t,subscribe:(e,s)=>{let a;return console.log(`Subscribing to ${e}`),t.hasOwnProperty(e)||(t[e]=[]),a=t[e].push(s)-1,{unsubscribe(){t[e].splice(a,1)}}},publish:(e,s={})=>(console.log(`Executing ${e}`),t.hasOwnProperty(e)?t[e].map((t=>t(s))):[])}})(),n=(t,s)=>{const n=t=>{const s=document.createDocumentFragment(),a=e({tagName:"textarea",classList:"edit-title"});a.value=t.title,a.name="title";const n=e({tagName:"textarea",classList:"edit-description",attributes:["placeholder","Add a description"]});n.value=t.description||"",n.name="description";const i=e({tagName:"input",attributes:["type","date"],classList:"edit-date"}),c=new Date;t.dueDate?i.value=t.dueDate:i.valueAsDate=new Date(c.getFullYear(),c.getMonth(),c.getDate(),12),i.name="dueDate";const o=e({tagName:"select",classList:"edit-difficulty"});o.value=t.difficulty,o.name="difficulty";const l=["","Easy","Medium","Hard"].map((t=>e({tagName:"option",textContent:t,attributes:["value",`${t}`]})));o.append(...l);const d=r(t);return s.append(a,n,i,o,d),s},r=()=>{const a=e({tagName:"div",classList:"form-controls"}),n=e({tagName:"button",classList:"submit-btn",textContent:"Submit"}),r=e({tagName:"button",classList:"cancel-btn",textContent:"Cancel"});return r.onclick=e=>((t,e)=>{t.preventDefault();const s=t.target.closest("form"),a=s.parentNode,n=a.querySelector(".main-details");s.remove(),a.classList.remove("isEditable");const r=d(e);n.append(r)})(e,t.getTaskById(s)),a.append(r,n),a};return{appendEditTaskForm:e=>{const r=(()=>{const e=document.createElement("form"),r=t.getTaskById(s);return e.id="edit-task",e.append(n(r)),e.addEventListener("submit",(e=>{((t,e,s)=>{t.preventDefault();const n=t.target,r=n.parentNode,i=r.querySelector(".main-details"),c=r.querySelector(".bottom-panel"),o=new FormData(n),l={};for(const[t,e]of o)l[t]=e;const u=e.updateTask(s.id,l);a.publish("taskUpdated",{list:e,task:u}),n.remove();const g=d(u);i.append(g),c.replaceChildren();const m=p(u);c.append(m),r.classList.remove("isEditable")})(e,t,r)})),e})();return e.append(r),r}}},r=(t,s)=>{const r=((t,e)=>({setEditMode:s=>{const a=s.target.closest(".task");if(a.classList.contains("isEditable"))return;const r=a.querySelector(".main-details");a.classList.add("isEditable"),r.replaceChildren(),a.classList.contains("expanded")&&(a.querySelector(".expanded-details").remove(),a.classList.remove("expanded"));const i=n(t,e.id).appendEditTaskForm(a);[...i.getElementsByTagName("textarea")].forEach((t=>{t.addEventListener("keydown",(t=>{if("Enter"===t.key&&!t.shiftKey){t.preventDefault();const e=new Event("submit",{bubbles:!0,cancelable:!0});i.dispatchEvent(e)}}))}))},setPriority:s=>{t.getTaskById(e.id).priority?(t.updateTask(e.id,{priority:!1}),s.target.closest("img").src="../src/imgs/noun-star-4485746.svg"):(t.updateTask(e.id,{priority:!0}),s.target.closest("img").src="../src/imgs/noun-star-4485827.svg"),s.target.closest(".task").classList.toggle("isPriority"),s.target.closest("img").classList.toggle("filter-gray"),s.target.closest("img").classList.toggle("filter-yellow")},deleteTask:s=>{t.removeTask(e.id),a.publish("taskDeleted",{list:t,task:e}),s.target.closest(".task").remove()}}))(t,s),i=[{name:"Edit",imgSrc:"../src/imgs/noun-quill-4626718.svg",className:"filter-gray",onClick:t=>r.setEditMode(t)},{name:"Set Priority",imgSrc:"../src/imgs/noun-star-4485746.svg",className:"filter-gray",onClick:t=>r.setPriority(t)},{name:"Delete",imgSrc:"../src/imgs/noun-skull-4485674.svg",className:"filter-red",onClick:t=>r.deleteTask(t)}];return{createToolbar:()=>{const t=e({tagName:"div",classList:"toolbar"});return t.append((t=>{const s=document.createDocumentFragment();return t.forEach((t=>{const{name:a,imgSrc:n,className:r,onClick:i}=t,c=e({tagName:"button",attributes:["aria-label",`${a}`]}),o=e({tagName:"img",attributes:["src",`${n}`],classList:r});c.onclick=i,c.append(o),s.append(c)})),s})(i)),t}}};function i(t){console.log("Rendering task");const{list:e,task:s}=t;c(e,s)}a.subscribe("taskCreated",i),a.subscribe("taskReconstructed",i);const c=(t,e)=>{const s=document.querySelector(`[data-id="${t.getId()}"]`).querySelector(".tasks-container"),a=o(t,e);s.prepend(a)},o=(t,e)=>{const s=document.createElement("div");s.className="task",s.dataset.id=e.id;const a=r(t,e).createToolbar(t,s),n=l(e),i=u(t,e.id);return s.append(a),s.append(n),s.append(i),s.addEventListener("dblclick",(s=>{m(s,e.id,t)})),s.addEventListener("click",(s=>{k(s,t,e.id)})),s.addEventListener("mouseover",(()=>{a.style.opacity="1",a.style.visibility="visible"})),s.addEventListener("mouseout",(()=>{a.style.opacity="0",a.style.visibility="hidden"})),s},l=t=>{const e=document.createElement("div");return e.classList.add("main-details"),e.appendChild(d(t)),e},d=t=>{const s=document.createDocumentFragment(),a=e({tagName:"p",classList:"task-title",textContent:t.title}),n=t.description?e({tagName:"p",classList:"task-description",textContent:t.description}):" ";return s.append(a,n),s},u=(t,s)=>{const a=t.getTaskById(s),n=e({tagName:"div",classList:"bottom-panel"});return n.append(p(a)),n},p=t=>{const a=document.createDocumentFragment(),n=e({tagName:"p",textContent:(t=>{switch(t){case"Easy":return"⚔️";case"Medium":return"⚔️⚔️";case"Hard":return"⚔️⚔️⚔️";default:return""}})(t.difficulty)}),r=e({tagName:"p",textContent:s(t.dueDate)||""});return a.append(r,n),a};function g(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}const m=(t,e,s)=>{const a=t.target;if(!a.classList.contains("task-title"))return;const n=a.cloneNode(!0),r=document.createElement("textarea"),i=s.getTaskById(e);r.classList.add("temp-input"),r.value=i.title,r.style.wordBreak="break-word",a.replaceWith(r),r.style.height="auto",r.style.height=r.scrollHeight+"px",r.addEventListener("keydown",(t=>{"Enter"===t.key&&r.blur()})),r.addEventListener("blur",(()=>{s.updateTask(e,{title:r.value}),n.textContent=r.value,r.replaceWith(n)}),{once:!0}),r.addEventListener("input",g,!1),r.focus()},k=(t,a,n)=>{if(t.target.classList.contains("isEditable")||!t.target.classList.contains("task"))return;const r=t.target,i=r.querySelector(".main-details"),c=r.querySelector(".expanded-details");c?(c.remove(),r.classList.remove("expanded")):(((t,a)=>{const n=(t=>{const{dueDate:a,difficulty:n}=t,r=document.createDocumentFragment(),i=document.createElement("div");return i.classList.add("expanded-details"),r.append(i),i.append(e({tagName:"p",classList:"due-date",textContent:s(a)})),console.log(a),i.append(e({tagName:"p",classList:"difficulty",textContent:n})),r})(a);t.after(n)})(i,a.getTaskById(n)),r.classList.add("expanded"))};function y(t){console.log("Rendering List"),b(t),f(t),h(t)}a.subscribe("listCreated",y),a.subscribe("listReconstructed",y);const b=e=>{t({target:".lists-container",tagName:"div",classList:["list"],attributes:["data-id",e.getId()]})},f=e=>{const s=document.querySelector(`[data-id="${e.getId()}"]`);t({target:`[data-id="${e.getId()}"]`,tagName:"h2",textContent:e.getTitle()}),s.appendChild(v(e))},v=t=>{const s=document.createElement("form");s.className="task-form";const n=e({tagName:"input",classList:"task-input",attributes:["placeholder","Add a task"]});return s.appendChild(n),n.addEventListener("keydown",(e=>{((t,e)=>{if("Enter"===t.key){t.preventDefault();const s=t.target.value,n=e.createTask(s);t.target.value="",a.publish("taskCreated",{list:e,task:n})}})(e,t)})),s},h=e=>{t({target:`[data-id="${e.getId()}"]`,tagName:"div",classList:"tasks-container"})},L=(()=>{let t=null;return{getCurrentProject:()=>t,setCurrentProject:e=>(console.log("Setting current project: "+e.getTitle()),t=e,a.publish("currentProjectSet",{title:e.getTitle(),id:e.getId()}),t)}})(),E=(t,e=crypto.randomUUID().slice(0,8))=>{const s=[],a=(t=>{const e=e=>t.findIndex((t=>t.id===e));return{getTaskById:e=>t.find((t=>t.id===e)),createTask:(e,s=crypto.randomUUID().slice(0,8))=>(t.push({id:s,title:e}),t[t.length-1]),updateTask:(s,a)=>{const n=e(s);return t[n]={...t[n],...a},t[n]},removeTask:s=>{const a=e(s);t.splice(a,1)}}})(s);return{getTitle:()=>t,getId:()=>e,getTasks:()=>s,createTask:(t,e)=>a.createTask(t,e),getTaskById:t=>a.getTaskById(t),updateTask:(t,e)=>a.updateTask(t,e),removeTask:t=>a.removeTask(t)}},C=(t,e=crypto.randomUUID().slice(0,8))=>{const s=[];return{getTitle:()=>t,getId:()=>e,getLists:()=>s,createList:(t,e)=>(s.push(E(t,e)),s[s.length-1]),getListById:t=>{const e=s.findIndex((e=>e.getId()===t));return s[e]}}},S=t=>{const e=localStorage.getItem(t);return JSON.parse(e)},I=(t,e)=>{e.map((e=>{const s=t.createList(e.title,e.id);a.publish("listReconstructed",s),N(s,e.tasks)}))},N=(t,e)=>{e.forEach((e=>{t.createTask(e.title,e.id);const s=t.updateTask(e.id,e);a.publish("taskReconstructed",{list:t,task:s})}))};a.subscribe("projectCreated",(function(t){const e=S("projects");e.push({title:t.getTitle(),id:t.getId(),lists:[]}),localStorage.setItem("projects",JSON.stringify(e))})),a.subscribe("listCreated",(function(t){const e=S("projects"),s=x();console.log(e[s]),e[s].lists.push({title:t.getTitle(),id:t.getId(),tasks:[]}),localStorage.setItem("projects",JSON.stringify(e))})),a.subscribe("taskCreated",(function(t){const{list:e,task:s}=t,a=S("projects");T(a,e.getId()).tasks.push(s),localStorage.setItem("projects",JSON.stringify(a))})),a.subscribe("taskUpdated",(function(t){const{list:e,task:s}=t,a=S("projects"),n=T(a,e.getId()).tasks,r=D(n,s.id);n[r]={...n[r],...s},localStorage.setItem("projects",JSON.stringify(a))})),a.subscribe("taskDeleted",(function(t){const{list:e,task:s}=t,a=S("projects"),n=T(a,e.getId()).tasks,r=D(n,s.id);n.splice(r,1),localStorage.setItem("projects",JSON.stringify(a))})),a.subscribe("currentProjectSet",(function(t){localStorage.setItem("currentProject",JSON.stringify(t))}));const T=(t,e)=>{const s=x(),a=j(e);return t[s].lists[a]},x=()=>{const t=S("projects"),e=S("currentProject");return t.findIndex((t=>t.id===e.id))},j=t=>S("projects")[x()].lists.findIndex((e=>e.id===t)),D=(t,e)=>t.findIndex((t=>t.id===e)),w=(()=>{const t=document.querySelector("#list-input");return{init:()=>{const e=L.getCurrentProject();t.addEventListener("keydown",(t=>{((t,e)=>{if("Enter"===t.key){t.preventDefault();const s=t.target.value,n=e.createList(s);t.target.value="",a.publish("listCreated",n)}})(t,e)}))}}})();(()=>{if(!("projects"in localStorage))return console.log("Initialize projects array in storage"),localStorage.setItem("projects",JSON.stringify([])),void(()=>{console.log("Creating default project");const t=C("Default");L.setCurrentProject(t),a.publish("projectCreated",t),(t=>{const e=t.createList("Habits"),s=e.createTask("Create your first habit!");a.publish("listCreated",e),a.publish("taskCreated",{list:e,task:s})})(t)})();L.setCurrentProject((()=>{const t=(()=>{const t=localStorage.getItem("projects");return JSON.parse(t)})()[x()],e=C(t.title,t.id);return a.publish("projectReconstructed",e),I(e,t.lists),e})())})(),w.init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGFBQWN5QixjQUlsQixPQUhBdEssUUFBUUMsSUFBSSx3Q0FDWnFLLGFBQWFRLFFBQVEsV0FBWU4sS0FBS08sVUFBVSxTRTNEdkIsTUFDM0IvSyxRQUFRQyxJQUFJLDRCQUNaLE1BQU15TCxFQUFpQixFQUFRLFdBQy9CLEVBQU0zQyxrQkFBa0IyQyxHQUV4QixFQUFPcEwsUUFBUSxpQkFBa0JvTCxHQ0VULENBQUNBLElBQ3pCLE1BQU1DLEVBQVlELEVBQWUxQixXQUFXLFVBQ3RDNEIsRUFBWUQsRUFBVS9DLFdBQVcsNEJBQ3ZDLEVBQU90SSxRQUFRLGNBQWVxTCxHQUM5QixFQUFPckwsUUFBUSxjQUFlLENBQUUyQyxLQUFNMEksRUFBVy9LLEtBQU1nTCxHQUFZLEVETG5FQyxDQUFrQkgsRUFDRyxFRnFEbkJJLEdBSUYsRUFBTS9DLGtCQUcwQixNQUNoQyxNQUVNZ0QsRUF0QmtCLE1BQ3hCLE1BQU0xQixFQUFlQyxhQUFhQyxRQUFRLFlBRTFDLE9BRHVCQyxLQUFLQyxNQUFNSixFQUNiLEVBaUJFMkIsR0FDRGhCLEtBR2hCaUIsRUFBdUIsRUFBUUYsRUFBWWhMLE1BQU9nTCxFQUFZaEosSUFLcEUsT0FKQSxFQUFPekMsUUFBUSx1QkFBd0IyTCxHQUV2Q3ZCLEVBQW1CdUIsRUFBc0JGLEVBQVlqQyxPQUU5Q21DLENBQW9CLEVBYkhDLEdBQTRCLEVJaEV0REMsR0FDVyxFQUNSWCxNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvSGVscGVycy9jdXN0b21FbGVtZW50SGVscGVyLmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL0hlbHBlcnMvZm9ybWF0RGF0ZUhlbHBlci5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9wdWJTdWIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvRm9ybS9Gb3JtUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvRm9ybS9Gb3JtRXZlbnRIYW5kbGVycy5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9Ub29sYmFyL1Rvb2xiYXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvVG9vbGJhci9Ub29sYmFyRXZlbnRIYW5kbGVyLmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL0xpc3QvdGFzay9UYXNrUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvRXZlbnRIYW5kbGVyLmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL0xpc3QvTGlzdFJlbmRlcmVyLmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3N0b3JlLmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL0xpc3QvTGlzdC5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9MaXN0L3Rhc2svVGFza01hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvUHJvamVjdC5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9sb2NhbFN0b3JhZ2VIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vb3AtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvVXNlckludGVyZmFjZS5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9Qcm9qZWN0SGFuZGxlci5qcyIsIndlYnBhY2s6Ly9vcC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9MaXN0L0xpc3RIYW5kbGVyLmpzIiwid2VicGFjazovL29wLXRvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjdXN0b21FbGVtZW50SGVscGVyID0gKCkgPT4ge1xyXG4gIC8vIFBhc3MgaW4gYSBvYmplY3Qgb2YgeyBbdGFyZ2V0XS4sIHRhZ05hbWUsIGNsYXNzTGlzdCwgdGV4dENvbnRlbnQsIGF0dHJpYnV0ZXMgfVxyXG4gIGZ1bmN0aW9uIGFwcGVuZEN1c3RvbUVsZW1lbnQob3B0aW9ucykge1xyXG4gICAgY29uc3QgeyB0YXJnZXQgfSA9IG9wdGlvbnM7XHJcbiAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xyXG5cclxuICAgIGNvbnN0IGVsZW1lbnQgPSBjcmVhdGVDdXN0b21FbGVtZW50KG9wdGlvbnMpO1xyXG4gICAgdGFyZ2V0RWxlbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbUVsZW1lbnQob3B0aW9ucykge1xyXG4gICAgY29uc3QgeyB0YWdOYW1lLCBjbGFzc0xpc3QsIHRleHRDb250ZW50LCBhdHRyaWJ1dGVzIH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjbGFzc0xpc3QgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTGlzdCk7XHJcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2xhc3NMaXN0KSkge1xyXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4uY2xhc3NMaXN0KTtcclxuICAgIH1cclxuICAgIGlmICh0ZXh0Q29udGVudCkge1xyXG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdGV4dENvbnRlbnQ7XHJcbiAgICB9XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhdHRyaWJ1dGVzKSkge1xyXG4gICAgICBjb25zdCBbYXR0ciwgdmFsdWVdID0gYXR0cmlidXRlcztcclxuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ciwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgfVxyXG4gIHJldHVybiB7IGFwcGVuZEN1c3RvbUVsZW1lbnQsIGNyZWF0ZUN1c3RvbUVsZW1lbnQgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB7IGFwcGVuZEN1c3RvbUVsZW1lbnQsIGNyZWF0ZUN1c3RvbUVsZW1lbnQgfSA9XHJcbiAgY3VzdG9tRWxlbWVudEhlbHBlcigpO1xyXG4iLCJjb25zdCBmb3JtYXREYXRlID0gKGRhdGVTdHJpbmcpID0+IHtcclxuICBpZiAoIWRhdGVTdHJpbmcpIHtcclxuICAgIHJldHVybiBcIlwiO1xyXG4gIH1cclxuICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XHJcbiAgZGF0ZS5zZXRIb3VycygyNCwgMCwgMCwgMCk7XHJcblxyXG4gIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyhcImVuLVVTXCIsIHtcclxuICAgIG1vbnRoOiBcIjItZGlnaXRcIixcclxuICAgIGRheTogXCIyLWRpZ2l0XCIsXHJcbiAgICB5ZWFyOiBcIjItZGlnaXRcIixcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGZvcm1hdHRlZERhdGU7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmb3JtYXREYXRlO1xyXG4iLCJjb25zdCBwdWJTdWIgPSAoKCkgPT4ge1xyXG4gIGNvbnN0IGV2ZW50cyA9IHt9O1xyXG5cclxuICBjb25zdCBnZXRFdmVudHMgPSAoKSA9PiBldmVudHM7XHJcblxyXG4gIGNvbnN0IHN1YnNjcmliZSA9IChldmVudCwgY2FsbGJhY2spID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGBTdWJzY3JpYmluZyB0byAke2V2ZW50fWApO1xyXG4gICAgbGV0IGluZGV4O1xyXG5cclxuICAgIGlmICghZXZlbnRzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xyXG4gICAgICBldmVudHNbZXZlbnRdID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgaW5kZXggPSBldmVudHNbZXZlbnRdLnB1c2goY2FsbGJhY2spIC0gMTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB1bnN1YnNjcmliZSgpIHtcclxuICAgICAgICBldmVudHNbZXZlbnRdLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHB1Ymxpc2ggPSAoZXZlbnQsIGRhdGEgPSB7fSkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYEV4ZWN1dGluZyAke2V2ZW50fWApO1xyXG4gICAgaWYgKCFldmVudHMuaGFzT3duUHJvcGVydHkoZXZlbnQpKSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZXZlbnRzW2V2ZW50XS5tYXAoKGNhbGxiYWNrKSA9PiBjYWxsYmFjayhkYXRhKSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHsgZ2V0RXZlbnRzLCBzdWJzY3JpYmUsIHB1Ymxpc2ggfTtcclxufSkoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHB1YlN1YjtcclxuIiwiaW1wb3J0IHsgY3JlYXRlQ3VzdG9tRWxlbWVudCB9IGZyb20gXCIuLi9IZWxwZXJzL2N1c3RvbUVsZW1lbnRIZWxwZXIuanNcIjtcclxuaW1wb3J0IHsgc3VibWl0Rm9ybSwgY2FuY2VsRm9ybSB9IGZyb20gXCIuL0Zvcm1FdmVudEhhbmRsZXJzLmpzXCI7XHJcblxyXG5jb25zdCBGb3JtUmVuZGVyZXIgPSAoY3VycmVudExpc3QsIHRhc2tJZCkgPT4ge1xyXG4gIGNvbnN0IGFwcGVuZEVkaXRUYXNrRm9ybSA9ICh0YXJnZXQpID0+IHtcclxuICAgIGNvbnN0IGVkaXRGb3JtID0gX19jcmVhdGVFZGl0VGFza0Zvcm0oKTtcclxuICAgIHRhcmdldC5hcHBlbmQoZWRpdEZvcm0pO1xyXG4gICAgcmV0dXJuIGVkaXRGb3JtO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IF9fY3JlYXRlRWRpdFRhc2tGb3JtID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xyXG4gICAgY29uc3QgdGFzayA9IGN1cnJlbnRMaXN0LmdldFRhc2tCeUlkKHRhc2tJZCk7XHJcbiAgICBmb3JtLmlkID0gXCJlZGl0LXRhc2tcIjtcclxuICAgIGZvcm0uYXBwZW5kKF9fY3JlYXRlRm9ybUVsZW1lbnRzKHRhc2spKTtcclxuXHJcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgc3VibWl0Rm9ybShlLCBjdXJyZW50TGlzdCwgdGFzayk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBmb3JtO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IF9fY3JlYXRlRm9ybUVsZW1lbnRzID0gKHRhc2spID0+IHtcclxuICAgIC8vIFRpdGxlXHJcbiAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuXHJcbiAgICBjb25zdCB0aXRsZSA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICB0YWdOYW1lOiBcInRleHRhcmVhXCIsXHJcbiAgICAgIGNsYXNzTGlzdDogXCJlZGl0LXRpdGxlXCIsXHJcbiAgICB9KTtcclxuICAgIHRpdGxlLnZhbHVlID0gdGFzay50aXRsZTtcclxuICAgIHRpdGxlLm5hbWUgPSBcInRpdGxlXCI7XHJcblxyXG4gICAgLy9EZXNjcmlwdGlvblxyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgICAgdGFnTmFtZTogXCJ0ZXh0YXJlYVwiLFxyXG4gICAgICBjbGFzc0xpc3Q6IFwiZWRpdC1kZXNjcmlwdGlvblwiLFxyXG4gICAgICBhdHRyaWJ1dGVzOiBbXCJwbGFjZWhvbGRlclwiLCBcIkFkZCBhIGRlc2NyaXB0aW9uXCJdLFxyXG4gICAgfSk7XHJcbiAgICBkZXNjcmlwdGlvbi52YWx1ZSA9IHRhc2suZGVzY3JpcHRpb24gfHwgXCJcIjtcclxuICAgIGRlc2NyaXB0aW9uLm5hbWUgPSBcImRlc2NyaXB0aW9uXCI7XHJcblxyXG4gICAgLy8gRHVlIERhdGVcclxuICAgIGNvbnN0IGR1ZURhdGUgPSBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgICAgdGFnTmFtZTogXCJpbnB1dFwiLFxyXG4gICAgICBhdHRyaWJ1dGVzOiBbXCJ0eXBlXCIsIFwiZGF0ZVwiXSxcclxuICAgICAgY2xhc3NMaXN0OiBcImVkaXQtZGF0ZVwiLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgIHRhc2suZHVlRGF0ZVxyXG4gICAgICA/IChkdWVEYXRlLnZhbHVlID0gdGFzay5kdWVEYXRlKVxyXG4gICAgICA6IChkdWVEYXRlLnZhbHVlQXNEYXRlID0gbmV3IERhdGUoXHJcbiAgICAgICAgICBkYXRlLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgICBkYXRlLmdldE1vbnRoKCksXHJcbiAgICAgICAgICBkYXRlLmdldERhdGUoKSxcclxuICAgICAgICAgIDEyXHJcbiAgICAgICAgKSk7XHJcbiAgICBkdWVEYXRlLm5hbWUgPSBcImR1ZURhdGVcIjtcclxuXHJcbiAgICAvLyBEaWZmaWN1bHR5XHJcbiAgICBjb25zdCBkaWZmaWN1bHR5ID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgIHRhZ05hbWU6IFwic2VsZWN0XCIsXHJcbiAgICAgIGNsYXNzTGlzdDogXCJlZGl0LWRpZmZpY3VsdHlcIixcclxuICAgIH0pO1xyXG4gICAgZGlmZmljdWx0eS52YWx1ZSA9IHRhc2suZGlmZmljdWx0eTtcclxuICAgIGRpZmZpY3VsdHkubmFtZSA9IFwiZGlmZmljdWx0eVwiO1xyXG4gICAgY29uc3QgZGlmZmljdWx0eU9wdGlvbnMgPSBbXCJcIiwgXCJFYXN5XCIsIFwiTWVkaXVtXCIsIFwiSGFyZFwiXTtcclxuXHJcbiAgICAvLyBEaWZmaWN1bHR5IE9wdGlvbnNcclxuICAgIGNvbnN0IG9wdGlvbkVsZW1lbnRzID0gZGlmZmljdWx0eU9wdGlvbnMubWFwKChvcHRpb24pID0+IHtcclxuICAgICAgcmV0dXJuIGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICAgIHRhZ05hbWU6IFwib3B0aW9uXCIsXHJcbiAgICAgICAgdGV4dENvbnRlbnQ6IG9wdGlvbixcclxuICAgICAgICBhdHRyaWJ1dGVzOiBbXCJ2YWx1ZVwiLCBgJHtvcHRpb259YF0sXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBkaWZmaWN1bHR5LmFwcGVuZCguLi5vcHRpb25FbGVtZW50cyk7XHJcblxyXG4gICAgLy8gRm9ybSBCdXR0b25zXHJcbiAgICBjb25zdCBmb3JtQnV0dG9ucyA9IF9fY3JlYXRlRm9ybUJ1dHRvbnModGFzayk7XHJcbiAgICBmcmFnbWVudC5hcHBlbmQodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBkaWZmaWN1bHR5LCBmb3JtQnV0dG9ucyk7XHJcblxyXG4gICAgcmV0dXJuIGZyYWdtZW50O1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IF9fY3JlYXRlRm9ybUJ1dHRvbnMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBkaXYgPSBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgICAgdGFnTmFtZTogXCJkaXZcIixcclxuICAgICAgY2xhc3NMaXN0OiBcImZvcm0tY29udHJvbHNcIixcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc3VibWl0QnRuID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgIHRhZ05hbWU6IFwiYnV0dG9uXCIsXHJcbiAgICAgIGNsYXNzTGlzdDogXCJzdWJtaXQtYnRuXCIsXHJcbiAgICAgIHRleHRDb250ZW50OiBcIlN1Ym1pdFwiLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgY2FuY2VsQnRuID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgIHRhZ05hbWU6IFwiYnV0dG9uXCIsXHJcbiAgICAgIGNsYXNzTGlzdDogXCJjYW5jZWwtYnRuXCIsXHJcbiAgICAgIHRleHRDb250ZW50OiBcIkNhbmNlbFwiLFxyXG4gICAgfSk7XHJcbiAgICBjYW5jZWxCdG4ub25jbGljayA9IChlKSA9PiBjYW5jZWxGb3JtKGUsIGN1cnJlbnRMaXN0LmdldFRhc2tCeUlkKHRhc2tJZCkpO1xyXG5cclxuICAgIGRpdi5hcHBlbmQoY2FuY2VsQnRuLCBzdWJtaXRCdG4pO1xyXG4gICAgcmV0dXJuIGRpdjtcclxuICB9O1xyXG5cclxuICByZXR1cm4geyBhcHBlbmRFZGl0VGFza0Zvcm0gfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1SZW5kZXJlcjtcclxuIiwiaW1wb3J0IHtcclxuICBjcmVhdGVNYWluRGV0YWlsc0VsZW1lbnRzLFxyXG4gIGNyZWF0ZUJvdHRvbVBhbmVsRWxlbWVudHMsXHJcbn0gZnJvbSBcIi4uL0xpc3QvdGFzay9UYXNrUmVuZGVyZXJcIjtcclxuaW1wb3J0IHB1YlN1YiBmcm9tIFwiLi4vcHViU3ViXCI7XHJcblxyXG5jb25zdCBzdWJtaXRGb3JtID0gKGUsIGxpc3QsIHRhc2spID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGNvbnN0IGZvcm0gPSBlLnRhcmdldDtcclxuICBjb25zdCB0YXNrQ29udGFpbmVyID0gZm9ybS5wYXJlbnROb2RlO1xyXG4gIGNvbnN0IG1haW5EZXRhaWxzID0gdGFza0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1haW4tZGV0YWlsc1wiKTtcclxuICBjb25zdCBib3R0b21QYW5lbCA9IHRhc2tDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5ib3R0b20tcGFuZWxcIik7XHJcblxyXG4gIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XHJcbiAgY29uc3QgbmV3VmFsdWVzID0ge307XHJcbiAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIGRhdGEpIHtcclxuICAgIG5ld1ZhbHVlc1tuYW1lXSA9IHZhbHVlO1xyXG4gIH1cclxuICBjb25zdCB1cGRhdGVkVGFzayA9IGxpc3QudXBkYXRlVGFzayh0YXNrLmlkLCBuZXdWYWx1ZXMpO1xyXG4gIHB1YlN1Yi5wdWJsaXNoKFwidGFza1VwZGF0ZWRcIiwgeyBsaXN0LCB0YXNrOiB1cGRhdGVkVGFzayB9KTtcclxuXHJcbiAgZm9ybS5yZW1vdmUoKTtcclxuICBjb25zdCBtYWluRGV0YWlsc0VsZW1lbnRzID0gY3JlYXRlTWFpbkRldGFpbHNFbGVtZW50cyh1cGRhdGVkVGFzayk7XHJcbiAgbWFpbkRldGFpbHMuYXBwZW5kKG1haW5EZXRhaWxzRWxlbWVudHMpO1xyXG5cclxuICBib3R0b21QYW5lbC5yZXBsYWNlQ2hpbGRyZW4oKTtcclxuICBjb25zdCBib3R0b21QYW5lbEVsZW1lbnRzID0gY3JlYXRlQm90dG9tUGFuZWxFbGVtZW50cyh1cGRhdGVkVGFzayk7XHJcbiAgYm90dG9tUGFuZWwuYXBwZW5kKGJvdHRvbVBhbmVsRWxlbWVudHMpO1xyXG5cclxuICB0YXNrQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJpc0VkaXRhYmxlXCIpO1xyXG59O1xyXG5cclxuY29uc3QgY2FuY2VsRm9ybSA9IChlLCB0YXNrKSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBjb25zdCBmb3JtID0gZS50YXJnZXQuY2xvc2VzdChcImZvcm1cIik7XHJcbiAgY29uc3QgdGFza0NvbnRhaW5lciA9IGZvcm0ucGFyZW50Tm9kZTtcclxuICBjb25zdCBtYWluRGV0YWlscyA9IHRhc2tDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5tYWluLWRldGFpbHNcIik7XHJcblxyXG4gIGZvcm0ucmVtb3ZlKCk7XHJcbiAgdGFza0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiaXNFZGl0YWJsZVwiKTtcclxuXHJcbiAgY29uc3QgbWFpbkRldGFpbHNFbGVtZW50cyA9IGNyZWF0ZU1haW5EZXRhaWxzRWxlbWVudHModGFzayk7XHJcbiAgbWFpbkRldGFpbHMuYXBwZW5kKG1haW5EZXRhaWxzRWxlbWVudHMpO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgc3VibWl0Rm9ybSwgY2FuY2VsRm9ybSB9O1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVDdXN0b21FbGVtZW50IH0gZnJvbSBcIi4uL0hlbHBlcnMvY3VzdG9tRWxlbWVudEhlbHBlci5qc1wiO1xyXG5pbXBvcnQgVG9vbGJhckV2ZW50SGFuZGxlciBmcm9tIFwiLi9Ub29sYmFyRXZlbnRIYW5kbGVyLmpzXCI7XHJcblxyXG4vLyBDcmVhdGUgdG9vbGJhciB3aWxsIHJldHVybiBhIGZyYWdtZW50IGNvbnRhaW5lciBvZiB0aHJlZSBidXR0b25zXHJcbi8vXHJcblxyXG5jb25zdCBUb29sYmFyID0gKGN1cnJlbnRMaXN0LCB0YXNrKSA9PiB7XHJcbiAgY29uc3QgZXZlbnRIYW5kbGVyID0gVG9vbGJhckV2ZW50SGFuZGxlcihjdXJyZW50TGlzdCwgdGFzayk7XHJcblxyXG4gIGNvbnN0IHRvb2xzID0gW1xyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkVkaXRcIixcclxuICAgICAgaW1nU3JjOiBcIi4uL3NyYy9pbWdzL25vdW4tcXVpbGwtNDYyNjcxOC5zdmdcIixcclxuICAgICAgY2xhc3NOYW1lOiBcImZpbHRlci1ncmF5XCIsXHJcbiAgICAgIG9uQ2xpY2s6IChlKSA9PiBldmVudEhhbmRsZXIuc2V0RWRpdE1vZGUoZSksXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIlNldCBQcmlvcml0eVwiLFxyXG4gICAgICBpbWdTcmM6IFwiLi4vc3JjL2ltZ3Mvbm91bi1zdGFyLTQ0ODU3NDYuc3ZnXCIsXHJcbiAgICAgIGNsYXNzTmFtZTogXCJmaWx0ZXItZ3JheVwiLFxyXG4gICAgICBvbkNsaWNrOiAoZSkgPT4gZXZlbnRIYW5kbGVyLnNldFByaW9yaXR5KGUpLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJEZWxldGVcIixcclxuICAgICAgaW1nU3JjOiBcIi4uL3NyYy9pbWdzL25vdW4tc2t1bGwtNDQ4NTY3NC5zdmdcIixcclxuICAgICAgY2xhc3NOYW1lOiBcImZpbHRlci1yZWRcIixcclxuICAgICAgb25DbGljazogKGUpID0+IGV2ZW50SGFuZGxlci5kZWxldGVUYXNrKGUpLFxyXG4gICAgfSxcclxuICBdO1xyXG5cclxuICBjb25zdCBjcmVhdGVUb29sYmFyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgdG9vbGJhckNvbnRhaW5lciA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICB0YWdOYW1lOiBcImRpdlwiLFxyXG4gICAgICBjbGFzc0xpc3Q6IFwidG9vbGJhclwiLFxyXG4gICAgfSk7XHJcbiAgICB0b29sYmFyQ29udGFpbmVyLmFwcGVuZChfX2NyZWF0ZUJ0bnModG9vbHMpKTtcclxuICAgIHJldHVybiB0b29sYmFyQ29udGFpbmVyO1xyXG4gIH07XHJcbiAgY29uc3QgX19jcmVhdGVCdG5zID0gKHRvb2xzKSA9PiB7XHJcbiAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgIHRvb2xzLmZvckVhY2goKHRvb2wpID0+IHtcclxuICAgICAgY29uc3QgeyBuYW1lLCBpbWdTcmMsIGNsYXNzTmFtZSwgb25DbGljayB9ID0gdG9vbDtcclxuICAgICAgLy8gVG9vbGJhciB3aWxsIGNvbnNpc3Qgb2Y6XHJcbiAgICAgIC8vIEVkaXRcclxuICAgICAgLy8gU2V0IFByaW9yaXR5IC0gaXNQcmlvcml0eVxyXG4gICAgICAvLyBEZWxldGVcclxuICAgICAgY29uc3QgYnRuID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgICAgdGFnTmFtZTogXCJidXR0b25cIixcclxuICAgICAgICBhdHRyaWJ1dGVzOiBbXCJhcmlhLWxhYmVsXCIsIGAke25hbWV9YF0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBpbWcgPSBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgICAgICB0YWdOYW1lOiBcImltZ1wiLFxyXG4gICAgICAgIGF0dHJpYnV0ZXM6IFtcInNyY1wiLCBgJHtpbWdTcmN9YF0sXHJcbiAgICAgICAgY2xhc3NMaXN0OiBjbGFzc05hbWUsXHJcbiAgICAgIH0pO1xyXG4gICAgICBidG4ub25jbGljayA9IG9uQ2xpY2s7XHJcbiAgICAgIGJ0bi5hcHBlbmQoaW1nKTtcclxuICAgICAgZnJhZ21lbnQuYXBwZW5kKGJ0bik7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBmcmFnbWVudDtcclxuICB9O1xyXG5cclxuICByZXR1cm4geyBjcmVhdGVUb29sYmFyIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUb29sYmFyO1xyXG4iLCJpbXBvcnQgRm9ybVJlbmRlcmVyIGZyb20gXCIuLi9Gb3JtL0Zvcm1SZW5kZXJlci5qc1wiO1xyXG5pbXBvcnQgcHViU3ViIGZyb20gXCIuLi9wdWJTdWIuanNcIjtcclxuXHJcbmNvbnN0IFRvb2xiYXJFdmVudEhhbmRsZXIgPSAoY3VycmVudExpc3QsIHRhc2spID0+IHtcclxuICBjb25zdCBzZXRFZGl0TW9kZSA9IChlKSA9PiB7XHJcbiAgICBjb25zdCB0YXNrRWxlbWVudCA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIudGFza1wiKTtcclxuICAgIC8vIEVzY2FwZSBpZiBhbHJlYWR5IGluIGVkaXQgbW9kZVxyXG4gICAgaWYgKHRhc2tFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImlzRWRpdGFibGVcIikpIHJldHVybjtcclxuICAgIGNvbnN0IG1haW5EZXRhaWxzID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWRldGFpbHNcIik7XHJcbiAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaXNFZGl0YWJsZVwiKTtcclxuXHJcbiAgICAvLyBDbGVhciBhbGwgY2hpbGRyZW4gaW4gbWFpbiBkZXRhaWxzXHJcbiAgICBtYWluRGV0YWlscy5yZXBsYWNlQ2hpbGRyZW4oKTtcclxuXHJcbiAgICBpZiAodGFza0VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZXhwYW5kZWRcIikpIHtcclxuICAgICAgdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5leHBhbmRlZC1kZXRhaWxzXCIpLnJlbW92ZSgpO1xyXG4gICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZXhwYW5kZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZm9ybVJlbmRlcmVyID0gRm9ybVJlbmRlcmVyKGN1cnJlbnRMaXN0LCB0YXNrLmlkKTtcclxuICAgIGNvbnN0IGVkaXRGb3JtID0gZm9ybVJlbmRlcmVyLmFwcGVuZEVkaXRUYXNrRm9ybSh0YXNrRWxlbWVudCk7XHJcbiAgICBjb25zdCB0ZXh0YXJlYXMgPSBlZGl0Rm9ybS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpO1xyXG5cclxuICAgIFsuLi50ZXh0YXJlYXNdLmZvckVhY2goKHRleHRhcmVhKSA9PiB7XHJcbiAgICAgIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgIWUuc2hpZnRLZXkpIHtcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIC8vIFByb2dyYW1hdGljYWxseSB0cmlnZ2VyIGZvcm0gc3VibWlzc2lvblxyXG4gICAgICAgICAgY29uc3Qgc3VibWl0RXZlbnQgPSBuZXcgRXZlbnQoXCJzdWJtaXRcIiwge1xyXG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxyXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBlZGl0Rm9ybS5kaXNwYXRjaEV2ZW50KHN1Ym1pdEV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICAvLyBlZGl0Rm9ybVxyXG4gICAgLy8gICAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0ZXh0YXJlYVwiKVxyXG4gICAgLy8gICAuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgc3VibWl0Rm9ybSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2V0UHJpb3JpdHkgPSAoZSkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFRhc2sgPSBjdXJyZW50TGlzdC5nZXRUYXNrQnlJZCh0YXNrLmlkKTtcclxuICAgIGlmIChjdXJyZW50VGFzay5wcmlvcml0eSkge1xyXG4gICAgICBjdXJyZW50TGlzdC51cGRhdGVUYXNrKHRhc2suaWQsIHsgcHJpb3JpdHk6IGZhbHNlIH0pO1xyXG4gICAgICBlLnRhcmdldC5jbG9zZXN0KFwiaW1nXCIpLnNyYyA9IFwiLi4vc3JjL2ltZ3Mvbm91bi1zdGFyLTQ0ODU3NDYuc3ZnXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdXJyZW50TGlzdC51cGRhdGVUYXNrKHRhc2suaWQsIHsgcHJpb3JpdHk6IHRydWUgfSk7XHJcbiAgICAgIGUudGFyZ2V0LmNsb3Nlc3QoXCJpbWdcIikuc3JjID0gXCIuLi9zcmMvaW1ncy9ub3VuLXN0YXItNDQ4NTgyNy5zdmdcIjtcclxuICAgIH1cclxuICAgIGUudGFyZ2V0LmNsb3Nlc3QoXCIudGFza1wiKS5jbGFzc0xpc3QudG9nZ2xlKFwiaXNQcmlvcml0eVwiKTtcclxuICAgIGUudGFyZ2V0LmNsb3Nlc3QoXCJpbWdcIikuY2xhc3NMaXN0LnRvZ2dsZShcImZpbHRlci1ncmF5XCIpO1xyXG4gICAgZS50YXJnZXQuY2xvc2VzdChcImltZ1wiKS5jbGFzc0xpc3QudG9nZ2xlKFwiZmlsdGVyLXllbGxvd1wiKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBkZWxldGVUYXNrID0gKGUpID0+IHtcclxuICAgIGN1cnJlbnRMaXN0LnJlbW92ZVRhc2sodGFzay5pZCk7XHJcbiAgICBwdWJTdWIucHVibGlzaChcInRhc2tEZWxldGVkXCIsIHsgbGlzdDogY3VycmVudExpc3QsIHRhc2sgfSk7XHJcbiAgICBlLnRhcmdldC5jbG9zZXN0KFwiLnRhc2tcIikucmVtb3ZlKCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHsgc2V0RWRpdE1vZGUsIHNldFByaW9yaXR5LCBkZWxldGVUYXNrIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUb29sYmFyRXZlbnRIYW5kbGVyO1xyXG4iLCJpbXBvcnQgeyBlZGl0VGFzaywgdG9nZ2xlRGV0YWlscyB9IGZyb20gXCIuLi8uLi9FdmVudEhhbmRsZXIuanNcIjtcclxuaW1wb3J0IHsgY3JlYXRlQ3VzdG9tRWxlbWVudCB9IGZyb20gXCIuLi8uLi9IZWxwZXJzL2N1c3RvbUVsZW1lbnRIZWxwZXIuanNcIjtcclxuaW1wb3J0IGZvcm1hdERhdGUgZnJvbSBcIi4uLy4uL0hlbHBlcnMvZm9ybWF0RGF0ZUhlbHBlci5qc1wiO1xyXG5pbXBvcnQgVG9vbGJhciBmcm9tIFwiLi4vLi4vVG9vbGJhci9Ub29sYmFyLmpzXCI7XHJcbmltcG9ydCBwdWJTdWIgZnJvbSBcIi4uLy4uL3B1YlN1Yi5qc1wiO1xyXG5cclxucHViU3ViLnN1YnNjcmliZShcInRhc2tDcmVhdGVkXCIsIHJlbmRlclRhc2spO1xyXG5wdWJTdWIuc3Vic2NyaWJlKFwidGFza1JlY29uc3RydWN0ZWRcIiwgcmVuZGVyVGFzayk7XHJcblxyXG5mdW5jdGlvbiByZW5kZXJUYXNrKGRhdGEpIHtcclxuICBjb25zb2xlLmxvZyhcIlJlbmRlcmluZyB0YXNrXCIpO1xyXG4gIGNvbnN0IHsgbGlzdCwgdGFzayB9ID0gZGF0YTtcclxuICBfX2FwcGVuZFRhc2tFbGVtZW50cyhsaXN0LCB0YXNrKTtcclxufVxyXG5cclxuY29uc3QgX19hcHBlbmRUYXNrRWxlbWVudHMgPSAobGlzdCwgdGFzaykgPT4ge1xyXG4gIGNvbnN0IGxpc3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pZD1cIiR7bGlzdC5nZXRJZCgpfVwiXWApO1xyXG4gIGNvbnN0IHRhc2tzQ29udGFpbmVyID0gbGlzdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnRhc2tzLWNvbnRhaW5lclwiKTtcclxuXHJcbiAgY29uc3QgdGFza0VsZW1lbnRzID0gX19jcmVhdGVUYXNrRWxlbWVudHMobGlzdCwgdGFzayk7XHJcbiAgdGFza3NDb250YWluZXIucHJlcGVuZCh0YXNrRWxlbWVudHMpO1xyXG59O1xyXG5cclxuY29uc3QgX19jcmVhdGVUYXNrRWxlbWVudHMgPSAoY3VycmVudExpc3QsIHRhc2spID0+IHtcclxuICAvLyBEaXYgY29udGFpbmVyXHJcbiAgY29uc3QgdGFza0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgdGFza0NvbnRhaW5lci5jbGFzc05hbWUgPSBcInRhc2tcIjtcclxuICB0YXNrQ29udGFpbmVyLmRhdGFzZXQuaWQgPSB0YXNrLmlkO1xyXG5cclxuICAvLyBUb29sYmFyXHJcbiAgY29uc3QgdG9vbGJhckNyZWF0b3IgPSBUb29sYmFyKGN1cnJlbnRMaXN0LCB0YXNrKTtcclxuICBjb25zdCB0b29sYmFyID0gdG9vbGJhckNyZWF0b3IuY3JlYXRlVG9vbGJhcihjdXJyZW50TGlzdCwgdGFza0NvbnRhaW5lcik7XHJcblxyXG4gIC8vIE1haW4gZGV0YWlsc1xyXG4gIGNvbnN0IG1haW5EZXRhaWxzID0gX19yZW5kZXJNYWluRGV0YWlscyh0YXNrKTtcclxuXHJcbiAgLy8gQm90dG9tIFBhbmVsXHJcbiAgY29uc3QgYm90dG9tUGFuZWwgPSBfX3JlbmRlckJvdHRvbVBhbmVsKGN1cnJlbnRMaXN0LCB0YXNrLmlkKTtcclxuXHJcbiAgdGFza0NvbnRhaW5lci5hcHBlbmQodG9vbGJhcik7XHJcbiAgdGFza0NvbnRhaW5lci5hcHBlbmQobWFpbkRldGFpbHMpO1xyXG4gIHRhc2tDb250YWluZXIuYXBwZW5kKGJvdHRvbVBhbmVsKTtcclxuXHJcbiAgLy8gQWRkIG9uY2xpY2sgdG8gY2hhbmdlIGVsZW1lbnQgdG8gaW5wdXQgb24gY2xpY2tcclxuICB0YXNrQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgZWRpdFRhc2soZSwgdGFzay5pZCwgY3VycmVudExpc3QpO1xyXG4gIH0pO1xyXG5cclxuICB0YXNrQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgdG9nZ2xlRGV0YWlscyhlLCBjdXJyZW50TGlzdCwgdGFzay5pZCk7XHJcbiAgfSk7XHJcblxyXG4gIHRhc2tDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XHJcbiAgICB0b29sYmFyLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuICAgIHRvb2xiYXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xyXG4gIH0pO1xyXG5cclxuICB0YXNrQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCAoKSA9PiB7XHJcbiAgICB0b29sYmFyLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICAgIHRvb2xiYXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XHJcbiAgfSk7XHJcblxyXG4gIC8vIHRvb2xiYXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoZSkgPT4ge1xyXG4gIC8vICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAvLyAgIHRvb2xiYXIuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xyXG4gIC8vICAgdG9vbGJhci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XHJcbiAgLy8gfSk7XHJcblxyXG4gIHJldHVybiB0YXNrQ29udGFpbmVyO1xyXG59O1xyXG5cclxuY29uc3QgX19yZW5kZXJNYWluRGV0YWlscyA9ICh0YXNrKSA9PiB7XHJcbiAgY29uc3QgbWFpbkRldGFpbHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIG1haW5EZXRhaWxzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYWluLWRldGFpbHNcIik7XHJcbiAgbWFpbkRldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlTWFpbkRldGFpbHNFbGVtZW50cyh0YXNrKSk7XHJcbiAgcmV0dXJuIG1haW5EZXRhaWxzQ29udGFpbmVyO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlTWFpbkRldGFpbHNFbGVtZW50cyA9ICh0YXNrKSA9PiB7XHJcbiAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcblxyXG4gIGNvbnN0IHRpdGxlID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICB0YWdOYW1lOiBcInBcIixcclxuICAgIGNsYXNzTGlzdDogXCJ0YXNrLXRpdGxlXCIsXHJcbiAgICB0ZXh0Q29udGVudDogdGFzay50aXRsZSxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgZGVzY3JpcHRpb24gPSB0YXNrLmRlc2NyaXB0aW9uXHJcbiAgICA/IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgICAgIHRhZ05hbWU6IFwicFwiLFxyXG4gICAgICAgIGNsYXNzTGlzdDogXCJ0YXNrLWRlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgdGV4dENvbnRlbnQ6IHRhc2suZGVzY3JpcHRpb24sXHJcbiAgICAgIH0pXHJcbiAgICA6IFwiIFwiO1xyXG5cclxuICBmcmFnbWVudC5hcHBlbmQodGl0bGUsIGRlc2NyaXB0aW9uKTtcclxuICByZXR1cm4gZnJhZ21lbnQ7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJFeHBhbmRlZFRhc2sgPSAodGFyZ2V0LCB0YXNrKSA9PiB7XHJcbiAgY29uc3QgZXhwYW5kZWRUYXNrID0gX19jcmVhdGVFeHBhbmRlZFRhc2sodGFzayk7XHJcbiAgdGFyZ2V0LmFmdGVyKGV4cGFuZGVkVGFzayk7XHJcbiAgcmV0dXJuIGV4cGFuZGVkVGFzaztcclxufTtcclxuXHJcbmNvbnN0IF9fY3JlYXRlRXhwYW5kZWRUYXNrID0gKHRhc2spID0+IHtcclxuICBjb25zdCB7IGR1ZURhdGUsIGRpZmZpY3VsdHkgfSA9IHRhc2s7XHJcbiAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgLy8gQXBwZW5kIGNoaWxkcmVuIHRvIGZyYWdtZW50XHJcbiAgY29uc3QgZXhwYW5kZWREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIC8vIFNldCB0b2dnbGUgYXR0cmlidXRlIHRvIHdvcmsgd2l0aCB0b2dnbGUgZXZlbnQgbGlzdGVuZXJcclxuICBleHBhbmRlZERpdi5jbGFzc0xpc3QuYWRkKFwiZXhwYW5kZWQtZGV0YWlsc1wiKTtcclxuICBmcmFnbWVudC5hcHBlbmQoZXhwYW5kZWREaXYpO1xyXG5cclxuICAvLyBkdWVEYXRlICYmXHJcbiAgZXhwYW5kZWREaXYuYXBwZW5kKFxyXG4gICAgY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICAgIHRhZ05hbWU6IFwicFwiLFxyXG4gICAgICBjbGFzc0xpc3Q6IFwiZHVlLWRhdGVcIixcclxuICAgICAgdGV4dENvbnRlbnQ6IGZvcm1hdERhdGUoZHVlRGF0ZSksXHJcbiAgICB9KVxyXG4gICk7XHJcbiAgY29uc29sZS5sb2coZHVlRGF0ZSk7XHJcblxyXG4gIC8vIGRpZmZpY3VsdHkgJiZcclxuICBleHBhbmRlZERpdi5hcHBlbmQoXHJcbiAgICBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgICAgdGFnTmFtZTogXCJwXCIsXHJcbiAgICAgIGNsYXNzTGlzdDogXCJkaWZmaWN1bHR5XCIsXHJcbiAgICAgIHRleHRDb250ZW50OiBkaWZmaWN1bHR5LFxyXG4gICAgfSlcclxuICApO1xyXG4gIHJldHVybiBmcmFnbWVudDtcclxufTtcclxuXHJcbmNvbnN0IF9fcmVuZGVyQm90dG9tUGFuZWwgPSAoY3VycmVudExpc3QsIHRhc2tJZCkgPT4ge1xyXG4gIGNvbnN0IHRhc2sgPSBjdXJyZW50TGlzdC5nZXRUYXNrQnlJZCh0YXNrSWQpO1xyXG4gIGNvbnN0IGJvdHRvbVBhbmVsID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICB0YWdOYW1lOiBcImRpdlwiLFxyXG4gICAgY2xhc3NMaXN0OiBcImJvdHRvbS1wYW5lbFwiLFxyXG4gIH0pO1xyXG4gIGJvdHRvbVBhbmVsLmFwcGVuZChjcmVhdGVCb3R0b21QYW5lbEVsZW1lbnRzKHRhc2spKTtcclxuICByZXR1cm4gYm90dG9tUGFuZWw7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVCb3R0b21QYW5lbEVsZW1lbnRzID0gKHRhc2spID0+IHtcclxuICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuXHJcbiAgY29uc3QgZ2V0VGFza0RpZmZpY3VsdHkgPSAoZGlmZmljdWx0eSkgPT4ge1xyXG4gICAgc3dpdGNoIChkaWZmaWN1bHR5KSB7XHJcbiAgICAgIGNhc2UgXCJFYXN5XCI6XHJcbiAgICAgICAgcmV0dXJuIFwi4pqU77iPXCI7XHJcbiAgICAgIGNhc2UgXCJNZWRpdW1cIjpcclxuICAgICAgICByZXR1cm4gXCLimpTvuI/impTvuI9cIjtcclxuICAgICAgY2FzZSBcIkhhcmRcIjpcclxuICAgICAgICByZXR1cm4gXCLimpTvuI/impTvuI/impTvuI9cIjtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBkaWZmaWN1bHR5RWwgPSBjcmVhdGVDdXN0b21FbGVtZW50KHtcclxuICAgIHRhZ05hbWU6IFwicFwiLFxyXG4gICAgdGV4dENvbnRlbnQ6IGdldFRhc2tEaWZmaWN1bHR5KHRhc2suZGlmZmljdWx0eSksXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGR1ZURhdGVFbCA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQoe1xyXG4gICAgdGFnTmFtZTogXCJwXCIsXHJcbiAgICB0ZXh0Q29udGVudDogZm9ybWF0RGF0ZSh0YXNrLmR1ZURhdGUpIHx8IFwiXCIsXHJcbiAgfSk7XHJcblxyXG4gIGZyYWdtZW50LmFwcGVuZChkdWVEYXRlRWwsIGRpZmZpY3VsdHlFbCk7XHJcbiAgcmV0dXJuIGZyYWdtZW50O1xyXG59O1xyXG5cclxuZXhwb3J0IHtcclxuICByZW5kZXJFeHBhbmRlZFRhc2ssXHJcbiAgY3JlYXRlTWFpbkRldGFpbHNFbGVtZW50cyxcclxuICBjcmVhdGVCb3R0b21QYW5lbEVsZW1lbnRzLFxyXG59O1xyXG4iLCJpbXBvcnQgeyByZW5kZXJFeHBhbmRlZFRhc2sgfSBmcm9tIFwiLi9MaXN0L3Rhc2svVGFza1JlbmRlcmVyLmpzXCI7XHJcbmltcG9ydCBwdWJzdWIgZnJvbSBcIi4vcHViU3ViLmpzXCI7XHJcblxyXG5jb25zdCBjcmVhdGVMaXN0ID0gKGUsIGN1cnJlbnRQcm9qZWN0KSA9PiB7XHJcbiAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IHRpdGxlID0gZS50YXJnZXQudmFsdWU7XHJcbiAgICBjb25zdCBuZXdMaXN0ID0gY3VycmVudFByb2plY3QuY3JlYXRlTGlzdCh0aXRsZSk7XHJcbiAgICBlLnRhcmdldC52YWx1ZSA9IFwiXCI7XHJcblxyXG4gICAgcHVic3ViLnB1Ymxpc2goXCJsaXN0Q3JlYXRlZFwiLCBuZXdMaXN0KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVUYXNrID0gKGUsIGxpc3QpID0+IHtcclxuICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgdGl0bGUgPSBlLnRhcmdldC52YWx1ZTtcclxuICAgIGNvbnN0IG5ld1Rhc2sgPSBsaXN0LmNyZWF0ZVRhc2sodGl0bGUpO1xyXG5cclxuICAgIGUudGFyZ2V0LnZhbHVlID0gXCJcIjtcclxuXHJcbiAgICBwdWJzdWIucHVibGlzaChcInRhc2tDcmVhdGVkXCIsIHsgbGlzdCwgdGFzazogbmV3VGFzayB9KTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBSZWZhY3RvciB0aGlzIG1lc3MgbGF0ZXJcclxuZnVuY3Rpb24gYXV0b1Jlc2l6ZSgpIHtcclxuICB0aGlzLnN0eWxlLmhlaWdodCA9IFwiYXV0b1wiO1xyXG4gIHRoaXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XHJcbn1cclxuXHJcbmNvbnN0IGVkaXRUYXNrID0gKGUsIHRhc2tJZCwgY3VycmVudExpc3QpID0+IHtcclxuICBjb25zdCBlbCA9IGUudGFyZ2V0O1xyXG4gIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwidGFzay10aXRsZVwiKSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICBjb25zdCBwcmV2aW91cyA9IGVsLmNsb25lTm9kZSh0cnVlKTtcclxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcclxuICBjb25zdCBjdXJyZW50VGFzayA9IGN1cnJlbnRMaXN0LmdldFRhc2tCeUlkKHRhc2tJZCk7XHJcblxyXG4gIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJ0ZW1wLWlucHV0XCIpO1xyXG4gIGlucHV0LnZhbHVlID0gY3VycmVudFRhc2sudGl0bGU7XHJcbiAgLy8gaW5wdXQuc3R5bGUud3JhcCA9IFwic29mdFwiO1xyXG4gIGlucHV0LnN0eWxlLndvcmRCcmVhayA9IFwiYnJlYWstd29yZFwiO1xyXG5cclxuICBlbC5yZXBsYWNlV2l0aChpbnB1dCk7XHJcbiAgaW5wdXQuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XHJcbiAgaW5wdXQuc3R5bGUuaGVpZ2h0ID0gaW5wdXQuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xyXG5cclxuICBjb25zdCBzYXZlID0gKCkgPT4ge1xyXG4gICAgLy8gU2F2ZSB0aGUgaW5wdXQgdmFsdWUgaW50byB0aGUgc2VsZWN0ZWQgdGFza1xyXG4gICAgY3VycmVudExpc3QudXBkYXRlVGFzayh0YXNrSWQsIHsgdGl0bGU6IGlucHV0LnZhbHVlIH0pO1xyXG4gICAgcHJldmlvdXMudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZTtcclxuICAgIGlucHV0LnJlcGxhY2VXaXRoKHByZXZpb3VzKTtcclxuICB9O1xyXG5cclxuICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcclxuICAgICAgaW5wdXQuYmx1cigpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCBzYXZlLCB7XHJcbiAgICBvbmNlOiB0cnVlLFxyXG4gIH0pO1xyXG5cclxuICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgYXV0b1Jlc2l6ZSwgZmFsc2UpO1xyXG4gIGlucHV0LmZvY3VzKCk7XHJcbn07XHJcblxyXG5jb25zdCB0b2dnbGVEZXRhaWxzID0gKGUsIGN1cnJlbnRMaXN0LCB0YXNrSWQpID0+IHtcclxuICAvLyBEbyBub3QgdG9nZ2xlIGlmIHRhc2sgaXMgaW4gRWRpdCBNb2RlIG9yIGlmIHRoZSB0YXJnZXQgaXMgbm90IHRoZSB0YXNrXHJcbiAgaWYgKFxyXG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXNFZGl0YWJsZVwiKSB8fFxyXG4gICAgIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInRhc2tcIilcclxuICApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IHRhc2tDb250YWluZXIgPSBlLnRhcmdldDtcclxuICBjb25zdCBtYWluRGV0YWlscyA9IHRhc2tDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5tYWluLWRldGFpbHNcIik7XHJcblxyXG4gIGNvbnN0IGV4cGFuZGVkRGV0YWlscyA9IHRhc2tDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5leHBhbmRlZC1kZXRhaWxzXCIpO1xyXG5cclxuICBpZiAoIWV4cGFuZGVkRGV0YWlscykge1xyXG4gICAgY29uc3QgdGFzayA9IGN1cnJlbnRMaXN0LmdldFRhc2tCeUlkKHRhc2tJZCk7XHJcbiAgICByZW5kZXJFeHBhbmRlZFRhc2sobWFpbkRldGFpbHMsIHRhc2spO1xyXG4gICAgdGFza0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZXhwYW5kZWRcIik7XHJcbiAgfSBlbHNlIHtcclxuICAgIGV4cGFuZGVkRGV0YWlscy5yZW1vdmUoKTtcclxuICAgIHRhc2tDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImV4cGFuZGVkXCIpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCB7IGNyZWF0ZUxpc3QsIGNyZWF0ZVRhc2ssIGVkaXRUYXNrLCB0b2dnbGVEZXRhaWxzIH07XHJcbiIsImltcG9ydCB7XHJcbiAgYXBwZW5kQ3VzdG9tRWxlbWVudCxcclxuICBjcmVhdGVDdXN0b21FbGVtZW50LFxyXG59IGZyb20gXCIuLi9IZWxwZXJzL2N1c3RvbUVsZW1lbnRIZWxwZXIuanNcIjtcclxuaW1wb3J0IHsgY3JlYXRlVGFzayB9IGZyb20gXCIuLi9FdmVudEhhbmRsZXIuanNcIjtcclxuaW1wb3J0IHB1YlN1YiBmcm9tIFwiLi4vcHViU3ViLmpzXCI7XHJcblxyXG5wdWJTdWIuc3Vic2NyaWJlKFwibGlzdENyZWF0ZWRcIiwgcmVuZGVyTGlzdCk7XHJcbnB1YlN1Yi5zdWJzY3JpYmUoXCJsaXN0UmVjb25zdHJ1Y3RlZFwiLCByZW5kZXJMaXN0KTtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlckxpc3QobGlzdCkge1xyXG4gIGNvbnNvbGUubG9nKFwiUmVuZGVyaW5nIExpc3RcIik7XHJcbiAgLy8gTGlzdCBFbGVtZW50c1xyXG4gIF9fYXBwZW5kTGlzdENvbnRhaW5lcihsaXN0KTtcclxuICBfX2FwcGVuZExpc3RBbmRUaXRsZUVsZW1lbnRzKGxpc3QpO1xyXG5cclxuICAvLyBUYXNrIEVsZW1lbnRcclxuICBfX2FwcGVuZFRhc2tDb250YWluZXIobGlzdCk7XHJcbn1cclxuXHJcbmNvbnN0IF9fYXBwZW5kTGlzdENvbnRhaW5lciA9IChsaXN0KSA9PiB7XHJcbiAgYXBwZW5kQ3VzdG9tRWxlbWVudCh7XHJcbiAgICB0YXJnZXQ6IFwiLmxpc3RzLWNvbnRhaW5lclwiLFxyXG4gICAgdGFnTmFtZTogXCJkaXZcIixcclxuICAgIGNsYXNzTGlzdDogW1wibGlzdFwiXSxcclxuICAgIGF0dHJpYnV0ZXM6IFtcImRhdGEtaWRcIiwgbGlzdC5nZXRJZCgpXSxcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IF9fYXBwZW5kTGlzdEFuZFRpdGxlRWxlbWVudHMgPSAobGlzdCkgPT4ge1xyXG4gIGNvbnN0IGxpc3RFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtaWQ9XCIke2xpc3QuZ2V0SWQoKX1cIl1gKTtcclxuICBhcHBlbmRDdXN0b21FbGVtZW50KHtcclxuICAgIHRhcmdldDogYFtkYXRhLWlkPVwiJHtsaXN0LmdldElkKCl9XCJdYCxcclxuICAgIHRhZ05hbWU6IFwiaDJcIixcclxuICAgIHRleHRDb250ZW50OiBsaXN0LmdldFRpdGxlKCksXHJcbiAgfSk7XHJcbiAgbGlzdEVsZW1lbnQuYXBwZW5kQ2hpbGQoX19jcmVhdGVUYXNrRm9ybShsaXN0KSk7XHJcbn07XHJcblxyXG5jb25zdCBfX2NyZWF0ZVRhc2tGb3JtID0gKGxpc3QpID0+IHtcclxuICAvLyBDcmVhdGUgZm9ybSBhbmQgYXBwZW5kIGlucHV0IHRvIExpc3RcclxuICBjb25zdCB0YXNrRm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xyXG4gIHRhc2tGb3JtLmNsYXNzTmFtZSA9IFwidGFzay1mb3JtXCI7XHJcbiAgY29uc3QgdGFza0lucHV0ID0gY3JlYXRlQ3VzdG9tRWxlbWVudCh7XHJcbiAgICB0YWdOYW1lOiBcImlucHV0XCIsXHJcbiAgICBjbGFzc0xpc3Q6IFwidGFzay1pbnB1dFwiLFxyXG4gICAgYXR0cmlidXRlczogW1wicGxhY2Vob2xkZXJcIiwgXCJBZGQgYSB0YXNrXCJdLFxyXG4gIH0pO1xyXG4gIHRhc2tGb3JtLmFwcGVuZENoaWxkKHRhc2tJbnB1dCk7XHJcblxyXG4gIC8vIEJpbmQgaW5wdXQgbGlzdGVuZXIgdG8gbW9uaXRvciBuZXcgdGFzayBlbnRyaWVzXHJcbiAgdGFza0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XHJcbiAgICBjcmVhdGVUYXNrKGUsIGxpc3QpO1xyXG4gIH0pO1xyXG4gIHJldHVybiB0YXNrRm9ybTtcclxufTtcclxuXHJcbmNvbnN0IF9fYXBwZW5kVGFza0NvbnRhaW5lciA9IChsaXN0KSA9PiB7XHJcbiAgYXBwZW5kQ3VzdG9tRWxlbWVudCh7XHJcbiAgICB0YXJnZXQ6IGBbZGF0YS1pZD1cIiR7bGlzdC5nZXRJZCgpfVwiXWAsXHJcbiAgICB0YWdOYW1lOiBcImRpdlwiLFxyXG4gICAgY2xhc3NMaXN0OiBcInRhc2tzLWNvbnRhaW5lclwiLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmVuZGVyTGlzdDtcclxuIiwiaW1wb3J0IHB1YlN1YiBmcm9tIFwiLi9wdWJTdWJcIjtcclxuXHJcbmNvbnN0IHN0b3JlID0gKCgpID0+IHtcclxuICBjb25zdCBwcm9qZWN0cyA9IFtdO1xyXG4gIGxldCBjdXJyZW50UHJvamVjdCA9IG51bGw7XHJcbiAgLy8gUG9wdWxhdGUgcHJvamVjdHMgd2l0aCBhIGxpc3Qgb2YgYWxsIHRoZSBwcm9qZWN0IG5hbWVzIHdpdGhpbiBzdG9yYWdlICsgYWRkIGFueSBuZXdseSBjcmVhdGVkIHByb2plY3RzXHJcblxyXG4gIGNvbnN0IGdldEN1cnJlbnRQcm9qZWN0ID0gKCkgPT4gY3VycmVudFByb2plY3Q7XHJcblxyXG4gIGZ1bmN0aW9uIGFkZFByb2plY3QocHJvamVjdCkge1xyXG4gICAgaWYgKGN1cnJlbnRQcm9qZWN0ID09PSBudWxsKSB7XHJcbiAgICAgIHNldEN1cnJlbnRQcm9qZWN0KHByb2plY3QpO1xyXG4gICAgfVxyXG4gICAgcHJvamVjdHMucHVzaChwcm9qZWN0KTtcclxuICAgIHJldHVybiBwcm9qZWN0cztcclxuICB9XHJcblxyXG4gIGNvbnN0IHNldEN1cnJlbnRQcm9qZWN0ID0gKHByb2plY3QpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiU2V0dGluZyBjdXJyZW50IHByb2plY3Q6IFwiICsgcHJvamVjdC5nZXRUaXRsZSgpKTtcclxuICAgIGN1cnJlbnRQcm9qZWN0ID0gcHJvamVjdDtcclxuICAgIHB1YlN1Yi5wdWJsaXNoKFwiY3VycmVudFByb2plY3RTZXRcIiwge1xyXG4gICAgICB0aXRsZTogcHJvamVjdC5nZXRUaXRsZSgpLFxyXG4gICAgICBpZDogcHJvamVjdC5nZXRJZCgpLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gY3VycmVudFByb2plY3Q7XHJcbiAgfTtcclxuICByZXR1cm4geyBnZXRDdXJyZW50UHJvamVjdCwgc2V0Q3VycmVudFByb2plY3QgfTtcclxufSkoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHN0b3JlO1xyXG4iLCJpbXBvcnQgVGFza01hbmFnZXIgZnJvbSBcIi4vdGFzay9UYXNrTWFuYWdlclwiO1xyXG5cclxuY29uc3QgTGlzdCA9ICh0aXRsZSwgaWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpLnNsaWNlKDAsIDgpKSA9PiB7XHJcbiAgY29uc3QgdGFza3MgPSBbXTtcclxuICBjb25zdCB0YXNrTWFuYWdlciA9IFRhc2tNYW5hZ2VyKHRhc2tzKTtcclxuXHJcbiAgY29uc3QgZ2V0VGl0bGUgPSAoKSA9PiB0aXRsZTtcclxuICBjb25zdCBnZXRJZCA9ICgpID0+IGlkO1xyXG4gIGNvbnN0IGdldFRhc2tzID0gKCkgPT4gdGFza3M7XHJcblxyXG4gIGNvbnN0IGNyZWF0ZVRhc2sgPSAodGl0bGUsIHRhc2tJZCkgPT4ge1xyXG4gICAgcmV0dXJuIHRhc2tNYW5hZ2VyLmNyZWF0ZVRhc2sodGl0bGUsIHRhc2tJZCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0VGFza0J5SWQgPSAodGFza0lkKSA9PiB7XHJcbiAgICByZXR1cm4gdGFza01hbmFnZXIuZ2V0VGFza0J5SWQodGFza0lkKTtcclxuICB9O1xyXG5cclxuICBjb25zdCB1cGRhdGVUYXNrID0gKHRhc2tJZCwgdXBkYXRlZEVudHJ5KSA9PiB7XHJcbiAgICByZXR1cm4gdGFza01hbmFnZXIudXBkYXRlVGFzayh0YXNrSWQsIHVwZGF0ZWRFbnRyeSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVtb3ZlVGFzayA9ICh0YXNrSWQpID0+IHtcclxuICAgIHJldHVybiB0YXNrTWFuYWdlci5yZW1vdmVUYXNrKHRhc2tJZCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGdldFRpdGxlLFxyXG4gICAgZ2V0SWQsXHJcbiAgICBnZXRUYXNrcyxcclxuICAgIGNyZWF0ZVRhc2ssXHJcbiAgICBnZXRUYXNrQnlJZCxcclxuICAgIHVwZGF0ZVRhc2ssXHJcbiAgICByZW1vdmVUYXNrLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBMaXN0O1xyXG4iLCJjb25zdCBUYXNrTWFuYWdlciA9ICh0YXNrTGlzdCkgPT4ge1xyXG4gIGNvbnN0IGdldFRhc2tCeUlkID0gKHRhc2tJZCkgPT4ge1xyXG4gICAgcmV0dXJuIHRhc2tMaXN0LmZpbmQoKHRhc2spID0+IHRhc2suaWQgPT09IHRhc2tJZCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0VGFza0J5SW5kZXggPSAodGFza0lkKSA9PiB7XHJcbiAgICByZXR1cm4gdGFza0xpc3QuZmluZEluZGV4KCh0YXNrKSA9PiB0YXNrLmlkID09PSB0YXNrSWQpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNyZWF0ZVRhc2sgPSAodGl0bGUsIHRhc2tJZCA9IGNyeXB0by5yYW5kb21VVUlEKCkuc2xpY2UoMCwgOCkpID0+IHtcclxuICAgIHRhc2tMaXN0LnB1c2goe1xyXG4gICAgICBpZDogdGFza0lkLFxyXG4gICAgICB0aXRsZSxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRhc2tMaXN0W3Rhc2tMaXN0Lmxlbmd0aCAtIDFdO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHVwZGF0ZVRhc2sgPSAodGFza0lkLCB1cGRhdGVkRW50cnkpID0+IHtcclxuICAgIGNvbnN0IHRhc2tJbmRleCA9IGdldFRhc2tCeUluZGV4KHRhc2tJZCk7XHJcbiAgICB0YXNrTGlzdFt0YXNrSW5kZXhdID0geyAuLi50YXNrTGlzdFt0YXNrSW5kZXhdLCAuLi51cGRhdGVkRW50cnkgfTtcclxuICAgIHJldHVybiB0YXNrTGlzdFt0YXNrSW5kZXhdO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbW92ZVRhc2sgPSAodGFza0lkKSA9PiB7XHJcbiAgICBjb25zdCB0YXNrSW5kZXggPSBnZXRUYXNrQnlJbmRleCh0YXNrSWQpO1xyXG4gICAgdGFza0xpc3Quc3BsaWNlKHRhc2tJbmRleCwgMSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHsgZ2V0VGFza0J5SWQsIGNyZWF0ZVRhc2ssIHVwZGF0ZVRhc2ssIHJlbW92ZVRhc2sgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRhc2tNYW5hZ2VyO1xyXG4iLCJpbXBvcnQgTGlzdCBmcm9tIFwiLi9MaXN0L0xpc3RcIjtcclxuXHJcbmNvbnN0IFByb2plY3QgPSAodGl0bGUsIGlkID0gY3J5cHRvLnJhbmRvbVVVSUQoKS5zbGljZSgwLCA4KSkgPT4ge1xyXG4gIGNvbnN0IGxpc3RzID0gW107XHJcblxyXG4gIGNvbnN0IGdldFRpdGxlID0gKCkgPT4gdGl0bGU7XHJcbiAgY29uc3QgZ2V0SWQgPSAoKSA9PiBpZDtcclxuICBjb25zdCBnZXRMaXN0cyA9ICgpID0+IGxpc3RzO1xyXG5cclxuICBjb25zdCBjcmVhdGVMaXN0ID0gKHRpdGxlLCBpZCkgPT4ge1xyXG4gICAgbGlzdHMucHVzaChMaXN0KHRpdGxlLCBpZCkpO1xyXG4gICAgcmV0dXJuIGxpc3RzW2xpc3RzLmxlbmd0aCAtIDFdO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldExpc3RCeUlkID0gKGxpc3RJZCkgPT4ge1xyXG4gICAgY29uc3QgbGlzdEluZGV4ID0gbGlzdHMuZmluZEluZGV4KChsaXN0KSA9PiBsaXN0LmdldElkKCkgPT09IGxpc3RJZCk7XHJcblxyXG4gICAgcmV0dXJuIGxpc3RzW2xpc3RJbmRleF07XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHsgZ2V0VGl0bGUsIGdldElkLCBnZXRMaXN0cywgY3JlYXRlTGlzdCwgZ2V0TGlzdEJ5SWQgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb2plY3Q7XHJcbiIsImltcG9ydCBQcm9qZWN0IGZyb20gXCIuL1Byb2plY3RcIjtcclxuaW1wb3J0IHB1YlN1YiBmcm9tIFwiLi9wdWJTdWIuanNcIjtcclxuaW1wb3J0IHN0b3JlIGZyb20gXCIuL3N0b3JlLmpzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURlZmF1bHRQcm9qZWN0IH0gZnJvbSBcIi4vUHJvamVjdEhhbmRsZXJcIjtcclxuXHJcbmZ1bmN0aW9uIHN0b3JhZ2VBdmFpbGFibGUoKSB7XHJcbiAgdHJ5IHtcclxuICAgIHZhciBzdG9yYWdlID0gd2luZG93W1wibG9jYWxTdG9yYWdlXCJdLFxyXG4gICAgICB4ID0gXCJfX3N0b3JhZ2VfdGVzdF9fXCI7XHJcbiAgICBzdG9yYWdlLnNldEl0ZW0oeCwgeCk7XHJcbiAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oeCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmXHJcbiAgICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcclxuICAgICAgKGUuY29kZSA9PT0gMjIgfHxcclxuICAgICAgICAvLyBGaXJlZm94XHJcbiAgICAgICAgZS5jb2RlID09PSAxMDE0IHx8XHJcbiAgICAgICAgLy8gdGVzdCBuYW1lIGZpZWxkIHRvbywgYmVjYXVzZSBjb2RlIG1pZ2h0IG5vdCBiZSBwcmVzZW50XHJcbiAgICAgICAgLy8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxyXG4gICAgICAgIGUubmFtZSA9PT0gXCJRdW90YUV4Y2VlZGVkRXJyb3JcIiB8fFxyXG4gICAgICAgIC8vIEZpcmVmb3hcclxuICAgICAgICBlLm5hbWUgPT09IFwiTlNfRVJST1JfRE9NX1FVT1RBX1JFQUNIRURcIikgJiZcclxuICAgICAgLy8gYWNrbm93bGVkZ2UgUXVvdGFFeGNlZWRlZEVycm9yIG9ubHkgaWYgdGhlcmUncyBzb21ldGhpbmcgYWxyZWFkeSBzdG9yZWRcclxuICAgICAgc3RvcmFnZSAmJlxyXG4gICAgICBzdG9yYWdlLmxlbmd0aCAhPT0gMFxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IF9fc3RyaW5naWZ5SlNPTiA9IChvYmopID0+IHtcclxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqKTtcclxufTtcclxuXHJcbmNvbnN0IHJldHJpZXZlSXRlbSA9IChrZXkpID0+IHtcclxuICBjb25zdCBzdG9yZWRTdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gIHJldHVybiBKU09OLnBhcnNlKHN0b3JlZFN0cmluZyk7XHJcbn07XHJcblxyXG4vKlxyXG4gIERhdGEgU3RydWN0dXJlXHJcbiAgIGxvY2FsU3RvcmFnZSA9IHtcclxuICAgIHByb2plY3RzOiBbXHJcbiAgICAgIHtwcm9qZWN0VGl0bGUsIGlkLCBsaXN0czogW1xyXG4gICAgICAgIHsgdGl0bGUsIGlkLCB0YXNrczogW10gfVxyXG4gICAgICBdfSwgXHJcbiAgICAgIHtwcm9qZWN0VGl0bGUsIGlkLCBsaXN0cy4uLn1dLFxyXG4gICAgXX0sXHJcbiovXHJcblxyXG4vLyAgUHJvamVjdCByZXRyaWV2YWwgLSBHZXR0ZXJzXHJcblxyXG5jb25zdCBnZXRTdG9yZWRQcm9qZWN0cyA9ICgpID0+IHtcclxuICBjb25zdCBzdG9yZWRTdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInByb2plY3RzXCIpO1xyXG4gIGNvbnN0IHN0b3JlZFByb2plY3RzID0gSlNPTi5wYXJzZShzdG9yZWRTdHJpbmcpO1xyXG4gIHJldHVybiBzdG9yZWRQcm9qZWN0cztcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRm9yUHJvamVjdHMgPSAoKSA9PiB7XHJcbiAgLy8gVW5jb21tZW50IHRvIHdpcGUgc3RvcmFnZVxyXG4gIC8vIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwicHJvamVjdHNcIik7XHJcbiAgaWYgKCEoXCJwcm9qZWN0c1wiIGluIGxvY2FsU3RvcmFnZSkpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiSW5pdGlhbGl6ZSBwcm9qZWN0cyBhcnJheSBpbiBzdG9yYWdlXCIpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0c1wiLCBKU09OLnN0cmluZ2lmeShbXSkpO1xyXG4gICAgY3JlYXRlRGVmYXVsdFByb2plY3QoKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgLy8gUmVjb25zdHJ1Y3QgdGhlIGN1cnJlbnQgcHJvamVjdCBhbmQgc2V0IGN1cnJlbnRQcm9qZWN0IGluIHN0b3JhZ2VcclxuICBzdG9yZS5zZXRDdXJyZW50UHJvamVjdChyZWNvbnN0cnVjdEN1cnJlbnRQcm9qZWN0KCkpO1xyXG59O1xyXG5cclxuY29uc3QgcmVjb25zdHJ1Y3RDdXJyZW50UHJvamVjdCA9ICgpID0+IHtcclxuICBjb25zdCBzdG9yZWRQcm9qZWN0cyA9IGdldFN0b3JlZFByb2plY3RzKCk7XHJcbiAgY29uc3QgY3VyclByb2pJbmRleCA9IHJldHJpZXZlQ3VyclByb2pJZHgoKTtcclxuICBjb25zdCBjdXJyZW50UHJvaiA9IHN0b3JlZFByb2plY3RzW2N1cnJQcm9qSW5kZXhdO1xyXG5cclxuICBjb25zdCByZWNvbnN0cnVjdGVkUHJvamVjdCA9IFByb2plY3QoY3VycmVudFByb2oudGl0bGUsIGN1cnJlbnRQcm9qLmlkKTtcclxuICBwdWJTdWIucHVibGlzaChcInByb2plY3RSZWNvbnN0cnVjdGVkXCIsIHJlY29uc3RydWN0ZWRQcm9qZWN0KTtcclxuXHJcbiAgX19yZWNvbnN0cnVjdExpc3RzKHJlY29uc3RydWN0ZWRQcm9qZWN0LCBjdXJyZW50UHJvai5saXN0cyk7XHJcblxyXG4gIHJldHVybiByZWNvbnN0cnVjdGVkUHJvamVjdDtcclxufTtcclxuLy8gSW5pdGlhbGl6ZSBzdWJzY3JpcHRpb25zIGFmdGVyIHJlY29uc3RydWN0aW9uXHJcblxyXG5jb25zdCBfX3JlY29uc3RydWN0TGlzdHMgPSAocHJvamVjdCwgbGlzdHMpID0+IHtcclxuICBsaXN0cy5tYXAoKGxpc3QpID0+IHtcclxuICAgIGNvbnN0IHJlY29uc3RydWN0ZWRMaXN0ID0gcHJvamVjdC5jcmVhdGVMaXN0KGxpc3QudGl0bGUsIGxpc3QuaWQpO1xyXG4gICAgcHViU3ViLnB1Ymxpc2goXCJsaXN0UmVjb25zdHJ1Y3RlZFwiLCByZWNvbnN0cnVjdGVkTGlzdCk7XHJcblxyXG4gICAgX19yZWNvbnN0cnVjdFRhc2tzKHJlY29uc3RydWN0ZWRMaXN0LCBsaXN0LnRhc2tzKTtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IF9fcmVjb25zdHJ1Y3RUYXNrcyA9IChsaXN0LCB0YXNrcykgPT4ge1xyXG4gIHRhc2tzLmZvckVhY2goKHRhc2spID0+IHtcclxuICAgIGxpc3QuY3JlYXRlVGFzayh0YXNrLnRpdGxlLCB0YXNrLmlkKTtcclxuICAgIGNvbnN0IHVwZGF0ZWRUYXNrID0gbGlzdC51cGRhdGVUYXNrKHRhc2suaWQsIHRhc2spO1xyXG4gICAgcHViU3ViLnB1Ymxpc2goXCJ0YXNrUmVjb25zdHJ1Y3RlZFwiLCB7IGxpc3QsIHRhc2s6IHVwZGF0ZWRUYXNrIH0pO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuLy8gSW5pdCByZWNvbnN0cnVjdGlvblxyXG4vLyBzdG9yZS5zZXRQcm9qZWN0cyhyZWNvbnN0cnVjdFByb2plY3RzKCkpO1xyXG5cclxuLy8gTGlzdGVuIGZvciBuZXcgY3JlYXRpb25zIHRvIGJlIHB1dCBpbnRvIHN0b3JhZ2VcclxuXHJcbi8vICBQcm9qZWN0IFN0b3JhZ2UgLSBTZXR0ZXJcclxuXHJcbnB1YlN1Yi5zdWJzY3JpYmUoXCJwcm9qZWN0Q3JlYXRlZFwiLCBzdG9yZVByb2plY3QpO1xyXG5wdWJTdWIuc3Vic2NyaWJlKFwibGlzdENyZWF0ZWRcIiwgc3RvcmVMaXN0KTtcclxucHViU3ViLnN1YnNjcmliZShcInRhc2tDcmVhdGVkXCIsIHN0b3JlVGFzayk7XHJcbnB1YlN1Yi5zdWJzY3JpYmUoXCJ0YXNrVXBkYXRlZFwiLCBzdG9yZVVwZGF0ZWRUYXNrKTtcclxucHViU3ViLnN1YnNjcmliZShcInRhc2tEZWxldGVkXCIsIGRlbGV0ZVN0b3JlZFRhc2spO1xyXG5wdWJTdWIuc3Vic2NyaWJlKFwiY3VycmVudFByb2plY3RTZXRcIiwgc3RvcmVDdXJyZW50UHJvamVjdCk7XHJcblxyXG5mdW5jdGlvbiBzdG9yZVByb2plY3QocHJvamVjdCkge1xyXG4gIGNvbnN0IHVwZGF0ZWRQcm9qZWN0cyA9IHJldHJpZXZlSXRlbShcInByb2plY3RzXCIpO1xyXG4gIHVwZGF0ZWRQcm9qZWN0cy5wdXNoKHtcclxuICAgIHRpdGxlOiBwcm9qZWN0LmdldFRpdGxlKCksXHJcbiAgICBpZDogcHJvamVjdC5nZXRJZCgpLFxyXG4gICAgbGlzdHM6IFtdLFxyXG4gIH0pO1xyXG5cclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzXCIsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcm9qZWN0cykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdG9yZUxpc3QobGlzdCkge1xyXG4gIGNvbnN0IHVwZGF0ZWRQcm9qZWN0cyA9IHJldHJpZXZlSXRlbShcInByb2plY3RzXCIpO1xyXG4gIGNvbnN0IGluZGV4ID0gcmV0cmlldmVDdXJyUHJvaklkeCgpO1xyXG4gIGNvbnNvbGUubG9nKHVwZGF0ZWRQcm9qZWN0c1tpbmRleF0pO1xyXG4gIHVwZGF0ZWRQcm9qZWN0c1tpbmRleF0ubGlzdHMucHVzaCh7XHJcbiAgICB0aXRsZTogbGlzdC5nZXRUaXRsZSgpLFxyXG4gICAgaWQ6IGxpc3QuZ2V0SWQoKSxcclxuICAgIHRhc2tzOiBbXSxcclxuICB9KTtcclxuXHJcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0c1wiLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkUHJvamVjdHMpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RvcmVUYXNrKGRhdGEpIHtcclxuICBjb25zdCB7IGxpc3QsIHRhc2sgfSA9IGRhdGE7XHJcbiAgY29uc3QgdXBkYXRlZFByb2plY3RzID0gcmV0cmlldmVJdGVtKFwicHJvamVjdHNcIik7XHJcbiAgY29uc3Qgc3RvcmVkTGlzdCA9IHJldHJpZXZlU3RvcmVkTGlzdEJ5SWR4KHVwZGF0ZWRQcm9qZWN0cywgbGlzdC5nZXRJZCgpKTtcclxuICBzdG9yZWRMaXN0LnRhc2tzLnB1c2godGFzayk7XHJcblxyXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdHNcIiwgSlNPTi5zdHJpbmdpZnkodXBkYXRlZFByb2plY3RzKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0b3JlVXBkYXRlZFRhc2soZGF0YSkge1xyXG4gIGNvbnN0IHsgbGlzdCwgdGFzayB9ID0gZGF0YTtcclxuICBjb25zdCB1cGRhdGVkUHJvamVjdHMgPSByZXRyaWV2ZUl0ZW0oXCJwcm9qZWN0c1wiKTtcclxuICBjb25zdCBzdG9yZWRMaXN0ID0gcmV0cmlldmVTdG9yZWRMaXN0QnlJZHgodXBkYXRlZFByb2plY3RzLCBsaXN0LmdldElkKCkpO1xyXG4gIGNvbnN0IHN0b3JlZFRhc2tzID0gc3RvcmVkTGlzdC50YXNrcztcclxuICBjb25zdCB0YXNrSW5kZXggPSByZXRyaWV2ZVRhc2tJbmRleChzdG9yZWRUYXNrcywgdGFzay5pZCk7XHJcbiAgc3RvcmVkVGFza3NbdGFza0luZGV4XSA9IHsgLi4uc3RvcmVkVGFza3NbdGFza0luZGV4XSwgLi4udGFzayB9O1xyXG5cclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzXCIsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcm9qZWN0cykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWxldGVTdG9yZWRUYXNrKGRhdGEpIHtcclxuICBjb25zdCB7IGxpc3QsIHRhc2sgfSA9IGRhdGE7XHJcbiAgY29uc3QgdXBkYXRlZFByb2plY3RzID0gcmV0cmlldmVJdGVtKFwicHJvamVjdHNcIik7XHJcbiAgY29uc3Qgc3RvcmVkTGlzdCA9IHJldHJpZXZlU3RvcmVkTGlzdEJ5SWR4KHVwZGF0ZWRQcm9qZWN0cywgbGlzdC5nZXRJZCgpKTtcclxuICBjb25zdCBzdG9yZWRUYXNrcyA9IHN0b3JlZExpc3QudGFza3M7XHJcbiAgY29uc3QgdGFza0luZGV4ID0gcmV0cmlldmVUYXNrSW5kZXgoc3RvcmVkVGFza3MsIHRhc2suaWQpO1xyXG4gIHN0b3JlZFRhc2tzLnNwbGljZSh0YXNrSW5kZXgsIDEpO1xyXG5cclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzXCIsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcm9qZWN0cykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdG9yZUN1cnJlbnRQcm9qZWN0KGRhdGEpIHtcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRQcm9qZWN0XCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxufVxyXG5cclxuY29uc3QgcmV0cmlldmVTdG9yZWRMaXN0QnlJZHggPSAodXBkYXRlZFByb2plY3RzLCBsaXN0SWQpID0+IHtcclxuICBjb25zdCBwcm9qSW5kZXggPSByZXRyaWV2ZUN1cnJQcm9qSWR4KCk7XHJcbiAgY29uc3QgbGlzdEluZGV4ID0gcmV0cmlldmVMaXN0SW5kZXgobGlzdElkKTtcclxuICBjb25zdCBzdG9yZWRQcm9qZWN0ID0gdXBkYXRlZFByb2plY3RzW3Byb2pJbmRleF07XHJcbiAgY29uc3Qgc3RvcmVkTGlzdCA9IHN0b3JlZFByb2plY3QubGlzdHNbbGlzdEluZGV4XTtcclxuICByZXR1cm4gc3RvcmVkTGlzdDtcclxufTtcclxuXHJcbmNvbnN0IHJldHJpZXZlQ3VyclByb2pJZHggPSAoKSA9PiB7XHJcbiAgY29uc3QgcHJvamVjdHNJblN0b3JhZ2UgPSByZXRyaWV2ZUl0ZW0oXCJwcm9qZWN0c1wiKTtcclxuICBjb25zdCBjdXJyZW50UHJvamVjdCA9IHJldHJpZXZlSXRlbShcImN1cnJlbnRQcm9qZWN0XCIpO1xyXG4gIGNvbnN0IGluZGV4ID0gcHJvamVjdHNJblN0b3JhZ2UuZmluZEluZGV4KFxyXG4gICAgKHByb2plY3QpID0+IHByb2plY3QuaWQgPT09IGN1cnJlbnRQcm9qZWN0LmlkXHJcbiAgKTtcclxuICByZXR1cm4gaW5kZXg7XHJcbn07XHJcblxyXG5jb25zdCByZXRyaWV2ZUxpc3RJbmRleCA9IChpZCkgPT4ge1xyXG4gIGNvbnN0IHByb2plY3RzSW5TdG9yYWdlID0gcmV0cmlldmVJdGVtKFwicHJvamVjdHNcIik7XHJcbiAgY29uc3QgY3VyclByb2pJbmRleCA9IHJldHJpZXZlQ3VyclByb2pJZHgoKTtcclxuICBjb25zdCBsaXN0cyA9IHByb2plY3RzSW5TdG9yYWdlW2N1cnJQcm9qSW5kZXhdLmxpc3RzO1xyXG4gIGNvbnN0IGluZGV4ID0gbGlzdHMuZmluZEluZGV4KChsaXN0KSA9PiBsaXN0LmlkID09PSBpZCk7XHJcbiAgcmV0dXJuIGluZGV4O1xyXG59O1xyXG5cclxuY29uc3QgcmV0cmlldmVMaXN0ID0gKGlkKSA9PiB7XHJcbiAgY29uc3QgdXBkYXRlZFByb2plY3RzID0gcmV0cmlldmVJdGVtKFwicHJvamVjdHNcIik7XHJcbiAgY29uc3QgcHJvakluZGV4ID0gcmV0cmlldmVDdXJyUHJvaklkeCgpO1xyXG4gIGNvbnN0IGxpc3RJbmRleCA9IHJldHJpZXZlTGlzdEluZGV4KGlkKTtcclxuICBjb25zdCBwcm9qZWN0ID0gdXBkYXRlZFByb2plY3RzW3Byb2pJbmRleF07XHJcbiAgY29uc3QgbGlzdCA9IHByb2plY3QubGlzdHNbbGlzdEluZGV4XTtcclxuICByZXR1cm4gbGlzdDtcclxufTtcclxuXHJcbmNvbnN0IHJldHJpZXZlVGFza0luZGV4ID0gKGFycmF5LCB0YXNrSWQpID0+IHtcclxuICByZXR1cm4gYXJyYXkuZmluZEluZGV4KCh0YXNrKSA9PiB0YXNrLmlkID09PSB0YXNrSWQpO1xyXG59O1xyXG5cclxuLyogICAgXHJcblxyXG5cclxuICBXZSBuZWVkIHRvIG5vdyByZWNvbnN0cnVjdCB0aGUgb2JqZWN0cyB2aWEgdGhlaXIgZmFjdG9yeSBmdW5jdGlvbnNcclxuICBBbHNvLCBmaWd1cmUgb3V0IGhvdyB0byBleHRyYXBvbGF0ZSBhbmQgc3RvcmUgZGF0YSB3aXRoaW4gdGhlIHNpbXBsZSBkYXRhIHN0cnVjdHVyZSBvZiBsb2NhbFN0b3JhZ2VcclxuXHJcblxyXG4gIEluaXQgLSBcclxuICAgIENoZWNrIGlmIGxvY2FsU3RvcmFnZSBjb250YWlucyBhIHByb2plY3QuXHJcbiAgICAgIElmIG5vIHByb2plY3QgaXMgZm91bmQsIHRoZW4gY3JlYXRlIHRoZSBkZWZhdWx0IHByb2plY3RcclxuXHJcbiAgICAgIElmIGxvY2FsU3RvcmFnZSBjb250YWlucyBhIHByb2plY3QuLi5cclxuICAgICAgICBJbXBvcnQgdGhlIHByb2plY3QgYXJyYXkuXHJcbiAgICAgICAgUmVjb25zdHJ1Y3QgdGhlIFByb2plY3RzXHJcbiAgXHJcbiAgICAgICAgUmVjb25zdHJ1Y3QgdGhlIExpc3RzIHdpdGhpbiB0aGUgUHJvamVjdFxyXG4gICAgICAgIGNvbnN0IHN0b3JlZExpc3RzID0gc3RvcmVkUHJvamVjdHMubWFwKHByb2plY3QgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvamVjdC5saXN0cztcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IHN0b3JlZFRhc2tzID0gc3RvcmVMaXN0cy5tYXAobGlzdCA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gbGlzdC50YXNrc1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IHN0b3JlZFRhc2tzID0gc3RvcmVkTGlzdHMubWFwKGxpc3QgPT4gbGlzdC5nZXRUYXNrcyk7XHJcbiAgICAgICAgY29uc3QgcmVjb25zdHJ1Y3RMaXN0cyA9IHN0b3JlZFByb2plY3RzLmZvckVhY2goc3RvcmVkUHJvamVjdCA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gc3RvcmVkUHJvamVjdHMubWFwKHByb2plY3QgPT4gcHJvamVjdC4pXHJcbiAgICAgICAgICAgIHJlY29uc3RydWN0ZWRQcm9qZWN0cy5tYXAoUHJvamVjdCA9PiBQcm9qZWN0LmNyZWF0ZUxpc3QodGl0bGUsIGlkKSlcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIFxyXG4qL1xyXG5cclxuZXhwb3J0IHsgcmV0cmlldmVJdGVtLCBjaGVja0ZvclByb2plY3RzLCByZWNvbnN0cnVjdEN1cnJlbnRQcm9qZWN0IH07XHJcbiIsImltcG9ydCBQcm9qZWN0IGZyb20gXCIuL1Byb2plY3QuanNcIjtcclxuaW1wb3J0IHsgY2hlY2tGb3JMaXN0cyB9IGZyb20gXCIuL0xpc3QvTGlzdEhhbmRsZXIuanNcIjtcclxuaW1wb3J0IHsgY3JlYXRlTGlzdCB9IGZyb20gXCIuL0V2ZW50SGFuZGxlci5qc1wiO1xyXG5pbXBvcnQgc3RvcmUgZnJvbSBcIi4vc3RvcmUuanNcIjtcclxuaW1wb3J0IHB1YlN1YiBmcm9tIFwiLi9wdWJTdWIuanNcIjtcclxuaW1wb3J0IHsgcmV0cmlldmVJdGVtLCByZWNvbnN0cnVjdFByb2plY3RzIH0gZnJvbSBcIi4vbG9jYWxTdG9yYWdlSGVscGVyLmpzXCI7XHJcblxyXG5jb25zdCBVc2VySW50ZXJmYWNlID0gKCgpID0+IHtcclxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGlzdC1pbnB1dFwiKTtcclxuXHJcbiAgY29uc3QgaW5pdCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0ID0gc3RvcmUuZ2V0Q3VycmVudFByb2plY3QoKTtcclxuXHJcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG4gICAgICBjcmVhdGVMaXN0KGUsIGN1cnJlbnRQcm9qZWN0KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IGluaXQgfTtcclxufSkoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJJbnRlcmZhY2U7XHJcbiIsImltcG9ydCBQcm9qZWN0IGZyb20gXCIuL1Byb2plY3QuanNcIjtcclxuaW1wb3J0IHB1YlN1YiBmcm9tIFwiLi9wdWJTdWIuanNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRGVmYXVsdExpc3QgfSBmcm9tIFwiLi9MaXN0L0xpc3RIYW5kbGVyXCI7XHJcbmltcG9ydCBzdG9yZSBmcm9tIFwiLi9zdG9yZS5qc1wiO1xyXG5cclxuY29uc3QgY3JlYXRlRGVmYXVsdFByb2plY3QgPSAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJDcmVhdGluZyBkZWZhdWx0IHByb2plY3RcIik7XHJcbiAgY29uc3QgZGVmYXVsdFByb2plY3QgPSBQcm9qZWN0KFwiRGVmYXVsdFwiKTtcclxuICBzdG9yZS5zZXRDdXJyZW50UHJvamVjdChkZWZhdWx0UHJvamVjdCk7XHJcblxyXG4gIHB1YlN1Yi5wdWJsaXNoKFwicHJvamVjdENyZWF0ZWRcIiwgZGVmYXVsdFByb2plY3QpO1xyXG4gIGNyZWF0ZURlZmF1bHRMaXN0KGRlZmF1bHRQcm9qZWN0KTtcclxuICByZXR1cm4gZGVmYXVsdFByb2plY3Q7XHJcbn07XHJcblxyXG5leHBvcnQgeyBjcmVhdGVEZWZhdWx0UHJvamVjdCB9O1xyXG4iLCJpbXBvcnQgcmVuZGVyTGlzdCBmcm9tIFwiLi9MaXN0UmVuZGVyZXIuanNcIjtcclxuaW1wb3J0IHB1YlN1YiBmcm9tIFwiLi4vcHViU3ViLmpzXCI7XHJcblxyXG4vKlxyXG4gIEZsb3c6XHJcbiAgUmV0cmlldmUgbG9jYWxTdG9yYWdlXHJcbiAgSWYgbm8gc3RvcmFnZSBpcyBhdmFpbGFibGUsIHRoZW4gY3JlYXRlIHRoZSBkZWZhdWx0IGxpc3QuXHJcbiAgRWxzZSwgcmVuZGVyIHRoZSBzdG9yZWQgTGlzdC5cclxuICAgIFRoZW4sIHJlbmRlciB0aGUgc3RvcmVkIHRhc2tzIGlmIHRoZXJlIGFyZSB0YXNrc1xyXG5cclxuKi9cclxuXHJcbmNvbnN0IGNyZWF0ZURlZmF1bHRMaXN0ID0gKGRlZmF1bHRQcm9qZWN0KSA9PiB7XHJcbiAgY29uc3QgaGFiaXRMaXN0ID0gZGVmYXVsdFByb2plY3QuY3JlYXRlTGlzdChcIkhhYml0c1wiKTtcclxuICBjb25zdCBmaXJzdFRhc2sgPSBoYWJpdExpc3QuY3JlYXRlVGFzayhcIkNyZWF0ZSB5b3VyIGZpcnN0IGhhYml0IVwiKTtcclxuICBwdWJTdWIucHVibGlzaChcImxpc3RDcmVhdGVkXCIsIGhhYml0TGlzdCk7XHJcbiAgcHViU3ViLnB1Ymxpc2goXCJ0YXNrQ3JlYXRlZFwiLCB7IGxpc3Q6IGhhYml0TGlzdCwgdGFzazogZmlyc3RUYXNrIH0pO1xyXG59O1xyXG5cclxuLy8gTWF5IGJlIHVzZWxlc3Mgbm93XHJcblxyXG4vLyBjb25zdCBjaGVja0Zvckxpc3RzID0gKGN1cnJlbnRQcm9qZWN0KSA9PiB7XHJcbi8vICAgY29uc29sZS5sb2coY3VycmVudFByb2plY3QpO1xyXG4vLyAgIGNvbnN0IGxpc3RzID0gY3VycmVudFByb2plY3QuZ2V0TGlzdHMoKTtcclxuLy8gICBpZiAobGlzdHMubGVuZ3RoKSB7XHJcbi8vICAgICAvLyBUaGlzIGlzIHJlbmRlcmluZyBldmVyeSB0YXNrIHdpdGhpbiB0aGUgbGlzdCByaWdodCBub3cgZXZlbiBpZiB0aGVyZSBhcmUgbm9uZS5cclxuLy8gICAgIGxpc3RzLmZvckVhY2goKGxpc3QpID0+IHJlbmRlckxpc3QobGlzdCkpO1xyXG4vLyAgIH0gZWxzZSB7XHJcbi8vICAgICBjcmVhdGVEZWZhdWx0TGlzdChjdXJyZW50UHJvamVjdCk7XHJcbi8vICAgfVxyXG4vLyB9O1xyXG5cclxuZXhwb3J0IHsgY3JlYXRlRGVmYXVsdExpc3QgfTtcclxuIiwiaW1wb3J0IHJlbmRlckxpc3QgZnJvbSBcIi4vbW9kdWxlcy9MaXN0L0xpc3RSZW5kZXJlci5qc1wiO1xyXG5pbXBvcnQgVXNlckludGVyZmFjZSBmcm9tIFwiLi9tb2R1bGVzL1VzZXJJbnRlcmZhY2UuanNcIjtcclxuXHJcbmltcG9ydCB7IGNoZWNrRm9yUHJvamVjdHMgfSBmcm9tIFwiLi9tb2R1bGVzL2xvY2FsU3RvcmFnZUhlbHBlci5qc1wiO1xyXG5cclxuY2hlY2tGb3JQcm9qZWN0cygpO1xyXG5jb25zdCBVSSA9IFVzZXJJbnRlcmZhY2U7XHJcblVJLmluaXQoKTtcclxuIl0sIm5hbWVzIjpbImFwcGVuZEN1c3RvbUVsZW1lbnQiLCJjcmVhdGVDdXN0b21FbGVtZW50Iiwib3B0aW9ucyIsInRhZ05hbWUiLCJjbGFzc0xpc3QiLCJ0ZXh0Q29udGVudCIsImF0dHJpYnV0ZXMiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYWRkIiwiQXJyYXkiLCJpc0FycmF5IiwiYXR0ciIsInZhbHVlIiwic2V0QXR0cmlidXRlIiwidGFyZ2V0IiwidGFyZ2V0RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRDaGlsZCIsImN1c3RvbUVsZW1lbnRIZWxwZXIiLCJkYXRlU3RyaW5nIiwiZGF0ZSIsIkRhdGUiLCJzZXRIb3VycyIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIm1vbnRoIiwiZGF5IiwieWVhciIsImV2ZW50cyIsImdldEV2ZW50cyIsInN1YnNjcmliZSIsImV2ZW50IiwiY2FsbGJhY2siLCJpbmRleCIsImNvbnNvbGUiLCJsb2ciLCJoYXNPd25Qcm9wZXJ0eSIsInB1c2giLCJ1bnN1YnNjcmliZSIsInNwbGljZSIsInB1Ymxpc2giLCJkYXRhIiwibWFwIiwiY3VycmVudExpc3QiLCJ0YXNrSWQiLCJfX2NyZWF0ZUZvcm1FbGVtZW50cyIsInRhc2siLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJ0aXRsZSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJ2YWx1ZUFzRGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZGlmZmljdWx0eSIsIm9wdGlvbkVsZW1lbnRzIiwib3B0aW9uIiwiYXBwZW5kIiwiZm9ybUJ1dHRvbnMiLCJfX2NyZWF0ZUZvcm1CdXR0b25zIiwiZGl2Iiwic3VibWl0QnRuIiwiY2FuY2VsQnRuIiwib25jbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm0iLCJjbG9zZXN0IiwidGFza0NvbnRhaW5lciIsInBhcmVudE5vZGUiLCJtYWluRGV0YWlscyIsInJlbW92ZSIsIm1haW5EZXRhaWxzRWxlbWVudHMiLCJjcmVhdGVNYWluRGV0YWlsc0VsZW1lbnRzIiwiY2FuY2VsRm9ybSIsImdldFRhc2tCeUlkIiwiYXBwZW5kRWRpdFRhc2tGb3JtIiwiZWRpdEZvcm0iLCJpZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJsaXN0IiwiYm90dG9tUGFuZWwiLCJGb3JtRGF0YSIsIm5ld1ZhbHVlcyIsInVwZGF0ZWRUYXNrIiwidXBkYXRlVGFzayIsInJlcGxhY2VDaGlsZHJlbiIsImJvdHRvbVBhbmVsRWxlbWVudHMiLCJjcmVhdGVCb3R0b21QYW5lbEVsZW1lbnRzIiwic3VibWl0Rm9ybSIsIl9fY3JlYXRlRWRpdFRhc2tGb3JtIiwiZXZlbnRIYW5kbGVyIiwic2V0RWRpdE1vZGUiLCJ0YXNrRWxlbWVudCIsImNvbnRhaW5zIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJmb3JFYWNoIiwidGV4dGFyZWEiLCJrZXkiLCJzaGlmdEtleSIsInN1Ym1pdEV2ZW50IiwiRXZlbnQiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImRpc3BhdGNoRXZlbnQiLCJzZXRQcmlvcml0eSIsInByaW9yaXR5Iiwic3JjIiwidG9nZ2xlIiwiZGVsZXRlVGFzayIsInJlbW92ZVRhc2siLCJ0b29scyIsImltZ1NyYyIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJjcmVhdGVUb29sYmFyIiwidG9vbGJhckNvbnRhaW5lciIsInRvb2wiLCJidG4iLCJpbWciLCJfX2NyZWF0ZUJ0bnMiLCJyZW5kZXJUYXNrIiwiX19hcHBlbmRUYXNrRWxlbWVudHMiLCJ0YXNrc0NvbnRhaW5lciIsImdldElkIiwidGFza0VsZW1lbnRzIiwiX19jcmVhdGVUYXNrRWxlbWVudHMiLCJwcmVwZW5kIiwiZGF0YXNldCIsInRvb2xiYXIiLCJfX3JlbmRlck1haW5EZXRhaWxzIiwiX19yZW5kZXJCb3R0b21QYW5lbCIsImVkaXRUYXNrIiwidG9nZ2xlRGV0YWlscyIsInN0eWxlIiwib3BhY2l0eSIsInZpc2liaWxpdHkiLCJtYWluRGV0YWlsc0NvbnRhaW5lciIsImRpZmZpY3VsdHlFbCIsImdldFRhc2tEaWZmaWN1bHR5IiwiZHVlRGF0ZUVsIiwiYXV0b1Jlc2l6ZSIsInRoaXMiLCJoZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJlbCIsInByZXZpb3VzIiwiY2xvbmVOb2RlIiwiaW5wdXQiLCJjdXJyZW50VGFzayIsIndvcmRCcmVhayIsInJlcGxhY2VXaXRoIiwiYmx1ciIsIm9uY2UiLCJmb2N1cyIsImV4cGFuZGVkRGV0YWlscyIsImV4cGFuZGVkVGFzayIsImV4cGFuZGVkRGl2IiwiX19jcmVhdGVFeHBhbmRlZFRhc2siLCJhZnRlciIsInJlbmRlckV4cGFuZGVkVGFzayIsInJlbmRlckxpc3QiLCJfX2FwcGVuZExpc3RDb250YWluZXIiLCJfX2FwcGVuZExpc3RBbmRUaXRsZUVsZW1lbnRzIiwiX19hcHBlbmRUYXNrQ29udGFpbmVyIiwibGlzdEVsZW1lbnQiLCJnZXRUaXRsZSIsIl9fY3JlYXRlVGFza0Zvcm0iLCJ0YXNrRm9ybSIsInRhc2tJbnB1dCIsIm5ld1Rhc2siLCJjcmVhdGVUYXNrIiwiY3VycmVudFByb2plY3QiLCJnZXRDdXJyZW50UHJvamVjdCIsInNldEN1cnJlbnRQcm9qZWN0IiwicHJvamVjdCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJzbGljZSIsInRhc2tzIiwidGFza01hbmFnZXIiLCJ0YXNrTGlzdCIsImdldFRhc2tCeUluZGV4IiwiZmluZEluZGV4IiwiZmluZCIsImxlbmd0aCIsInVwZGF0ZWRFbnRyeSIsInRhc2tJbmRleCIsImdldFRhc2tzIiwibGlzdHMiLCJnZXRMaXN0cyIsImNyZWF0ZUxpc3QiLCJnZXRMaXN0QnlJZCIsImxpc3RJZCIsImxpc3RJbmRleCIsInJldHJpZXZlSXRlbSIsInN0b3JlZFN0cmluZyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJfX3JlY29uc3RydWN0TGlzdHMiLCJyZWNvbnN0cnVjdGVkTGlzdCIsIl9fcmVjb25zdHJ1Y3RUYXNrcyIsInVwZGF0ZWRQcm9qZWN0cyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJyZXRyaWV2ZUN1cnJQcm9qSWR4IiwicmV0cmlldmVTdG9yZWRMaXN0QnlJZHgiLCJzdG9yZWRUYXNrcyIsInJldHJpZXZlVGFza0luZGV4IiwicHJvakluZGV4IiwicmV0cmlldmVMaXN0SW5kZXgiLCJwcm9qZWN0c0luU3RvcmFnZSIsImFycmF5IiwiaW5pdCIsIm5ld0xpc3QiLCJkZWZhdWx0UHJvamVjdCIsImhhYml0TGlzdCIsImZpcnN0VGFzayIsImNyZWF0ZURlZmF1bHRMaXN0IiwiY3JlYXRlRGVmYXVsdFByb2plY3QiLCJjdXJyZW50UHJvaiIsImdldFN0b3JlZFByb2plY3RzIiwicmVjb25zdHJ1Y3RlZFByb2plY3QiLCJyZWNvbnN0cnVjdEN1cnJlbnRQcm9qZWN0IiwiY2hlY2tGb3JQcm9qZWN0cyJdLCJzb3VyY2VSb290IjoiIn0=